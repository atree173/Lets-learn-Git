(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[4],{10:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(495),r="rebrandly",o=function(e){return Object(n.defineAction)(e,["PENDING","FULFILLED","REJECTED"],r)},s=function(e){return Object(n.defineAction)(e,r).ACTION}},101:function(e,t,a){"use strict";a.d(t,"c",(function(){return C})),a.d(t,"g",(function(){return N})),a.d(t,"a",(function(){return S})),a.d(t,"e",(function(){return x})),a.d(t,"d",(function(){return L})),a.d(t,"b",(function(){return T})),a.d(t,"f",(function(){return _}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(53),c=a.n(i),l=a(50),u=a.n(l),m=a(57),p=a.n(m),d=a(8),h=a(41),b=Object(s.b)("LOAD_APPS"),f=Object(s.b)("COUNT_APPS"),g=Object(s.b)("SET_APPS_PARAMS"),v=Object(s.b)("CREATE_APP"),E=Object(s.b)("EDIT_APP"),y=Object(s.b)("DELETE_APP"),k=Object(s.a)("RESET_APPS_STORE"),O=Object(s.a)("RESET_APPS_LIST"),w={limit:50,orderBy:"name",orderDir:"asc",term:null},j={isLoading:!1,items:{},list:[],params:w,count:{total:0,results:0}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.FULFILLED:case k:return j;case O:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case g:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case f.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case b.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case b.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),u()(t.payload,"id")),list:t.meta.last?p()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case b.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case v.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(r.a)(e.list))});case E.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:c()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id}))});default:return e}}function N(){return{type:k}}function S(e){return function(t,a){var n=a().tags.params;return t({type:f,payload:Promise.all([Object(d.E)(n,e),Object(d.E)(null,e)])})}}function x(e,t){return function(a,n){var r=n().apps.params;return a({type:b,payload:Object(d.Hc)(Object(o.a)(Object(o.a)({},r),{},{last:e}),t),meta:{last:e}}).then((function(e){return a(S(t)).then((function(){return e}))}))}}function L(e,t,a){return{type:E,payload:Object(d.Bb)(e,t,a)}}function T(e,t){return function(a){return a({type:v,payload:Object(d.Y)(t,e)})}}function _(e,t){return function(a){return a({type:y,payload:Object(d.sb)(t,e).then((function(t){return a(S(e)).then((function(){return t}))}))})}}},102:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return v}));var n=a(15),r=a(2),o=a(9),s=a.n(o),i=a(372),c=a.n(i),l=a(711),u=a.n(l),m=a(3),p=a.n(m),d=a(110),h=a.n(d),b=a(8),f=a(63),g="slugAlgorithm",v="shutAlphabetsWarning",E=[],y={loadLocalPreferences:function(e){var t=f.a.get("preferences");return p()(t,e,{})},loadRemotePreferences:function(e){var t=this;return Object(b.cc)().then((function(a){return t.saveLocalPreferences(a,e),a}))},loadAllPreferences:function(e){return Promise.all([this.loadLocalPreferences(e)]).then((function(e){return Object(r.a)(Object(r.a)({},e[0]),e[1])}))},saveLocalPreferences:function(e,t){var a=f.a.get("preferences"),o=Object(r.a)(Object(r.a)({},p()(a,t)),e);return f.a.set("preferences",Object(r.a)(Object(r.a)({},a),{},Object(n.a)({},t,Object(r.a)({},o))))},saveRemotePreferences:function(e){return Object(b.Hd)(e)},savePreferences:function(e,t){if(t&&h()(t)){var a=[this.saveLocalPreferences(e,t)],n=c()(e,(function(e,t){return u()(E,t)}));return s()(n)||a.push(this.saveRemotePreferences(n)),Promise.all(a).then((function(){return e}))}console.warn("Missing account ID")}};t.c=y},104:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(1),m=a(9),p=a.n(m),d=(a(1329),function(e){var t=e.title,a=e.tooltipOverlay,r=e.text,o=e.inputs,s=e.textAreas,i=e.emailPickers,m=e.textareaRows,d=e.textareaMaxRows,h=e.onChange,b=e.primaryButtonProps,f=e.secondaryButtonProps;return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"m-b-24"},l.a.createElement("div",{className:"flex"},l.a.createElement(u.Text,{className:"Text-Title"},t),l.a.createElement(u.Tooltip,{overlay:a,placement:"top"},l.a.createElement(u.Icon,{className:"m-l-4 m-t-4",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),r&&l.a.createElement(u.Text,{className:"Text--SubDetail m-t-8",size:"x-small"},r)),l.a.createElement("form",{onChange:h},!p()(i)&&i.map((function(e){return e.visible?l.a.createElement("div",{key:e.id,className:"InputList__node m-b-12"},l.a.createElement(u.Label,{value:e.inputLabel},l.a.createElement(u.EmailPicker,{name:e.name,value:e.value,emails:e.emails,placeholder:e.placeholder,onChange:e.inputOnTyping,onUpdate:e.inputOnUpdate,validator:e.validator,disabled:e.disabled,warningMessage:e.message}))):l.a.createElement(u.A,{key:e.id,className:"m-r-12",onClick:e.onClick},e.buttonLabel)})),!p()(o)&&o.map((function(e){return e.visible?l.a.createElement("div",{key:e.id,className:"InputList__node m-b-12"},l.a.createElement(u.Label,{value:e.inputLabel},l.a.createElement(u.Input,{name:e.name,value:e.value,placeholder:e.placeholder,onChange:e.inputOnTyping,theme:e.theme,message:e.message}))):l.a.createElement(u.A,{key:e.id,className:"m-r-12",onClick:e.onClick},e.buttonLabel)})),!p()(s)&&s.map((function(e){var t={name:e.name,value:e.value,rows:e.rows||m,maxRows:e.maxRows||d,placeholder:e.placeholder,onChange:e.onTyping};return e.warning&&(t=Object(n.a)(Object(n.a)({},t),{},{theme:"warning",message:e.charactersMessage})),l.a.createElement("div",{key:e.id,className:"TextAreaList__node"},l.a.createElement(u.Label,{value:e.label},l.a.createElement(u.Textarea,t)),e.charactersMessage&&!e.warning&&l.a.createElement(u.Text,{className:"Text--SubDetail m-t-4",size:"x-small"},e.charactersMessage))})),l.a.createElement("div",{className:"Button__list m-t-36"},f&&l.a.createElement(u.Button,Object.assign({theme:"deleteInverted",label:"Delete",block:!0},f)),l.a.createElement(u.Button,Object.assign({label:"Generate URL",type:"submit",theme:"primary",block:!0},b)))))});d.defaultProps={textareaRows:3,textareaMaxRows:10};var h=d,b=a(155),f=a.n(b),g=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={copied:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.clipboard=new f.a(".copy")}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.tooltipOverlay,r=t.url,o=t.text,s=decodeURIComponent(r);return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"m-b-24"},l.a.createElement("div",{className:"flex"},l.a.createElement(u.Text,null,a),l.a.createElement(u.Tooltip,{overlay:n,placement:"top"},l.a.createElement(u.Icon,{className:"m-l-4 m-t-4",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),o&&l.a.createElement(u.Text,{className:"Text--SubDetail m-t-8",size:"x-small"},o)),l.a.createElement("div",{className:"InputList__node m-b-12"},l.a.createElement(u.Label,{value:"Share URL"},l.a.createElement(u.Input,{className:"ShareInput",value:s,submit:l.a.createElement(u.Button,{className:"copy",label:this.state.copied?"Copied":"Copy",theme:"primary","data-clipboard-text":s,onClick:function(){return e.setState({copied:!0})},disabled:this.state.copied})}))),this.props.message&&l.a.createElement(u.Alert,{className:"m-t-16",bgColor:"#eaf6ff",image:l.a.createElement(u.Illustration,{size:"tiny",color:"#2c96df",name:"ill-upgrade"}),noBorder:!0},this.props.message))}}]),a}(c.PureComponent);g.defaultProps={};var v=g,E=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showForm:!1,showCopyResult:!1,isLoading:!1},e.openForm=function(){return e.setState({showForm:!0})},e.closeForm=function(){e.props.onClose&&e.props.onClose(),e.setState({showForm:!1,showCopyResult:!1,isLoading:!1})},e.handleClick=function(){if(!e.props.disabled)if(e.props.skipForm){var t=e.props.getShareURL();e.props.onGenerateClick(t)}else e.props.onOpen&&e.props.onOpen(),e.openForm()},e.handleGenerateClick=function(t){t&&t.preventDefault();var a=e.props.getShareURL();e.props.onGenerateClick?e.setState({isLoading:!0},(function(){return new Promise((function(t){return t(e.props.onGenerateClick(a))})).then((function(){return e.closeForm()}))})):e.setState({showCopyResult:!0})},e}return Object(o.a)(a,[{key:"renderForm",value:function(){var e=Object(n.a)(Object(n.a)({},this.props.formOptions),{},{title:this.props.socialName+" share link",primaryButtonProps:Object(n.a)(Object(n.a)({},this.props.formOptions.primaryButtonProps),{},{onClick:this.handleGenerateClick,isLoading:this.state.isLoading})});return this.props.formOptions.tooltipOverlay||(e=Object(n.a)(Object(n.a)({},e),{},{tooltipOverlay:l.a.createElement("span",null,"Users who click your branded",l.a.createElement("br",null),"link will be able to share this link in",l.a.createElement("br",null),"their ",this.props.socialName," profile")})),l.a.createElement(u.Modal,{className:"ignore-editdestination-onclickoutside",size:"md",isOpen:this.state.showForm,showClose:!0,onClose:this.closeForm},l.a.createElement(u.ModalContent,null,this.state.showCopyResult?l.a.createElement(v,Object.assign({url:this.props.getShareURL(),message:this.props.alertMessage},e)):l.a.createElement(h,e)))}},{key:"render",value:function(){return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:this.props.className,onClick:this.handleClick},this.props.children),this.renderForm())}}]),a}(c.PureComponent);t.a=E},11:function(e,t,a){"use strict";a.d(t,"b",(function(){return h}));var n=a(2),r=a(360),o=a.n(r),s=a(61),i="https://oauth.rebrandly.com",c={oauthBaseUrl:i,changePasswordUrl:i+"/manage/change-password",changeEmailUrl:i+"/manage/change-email",manageSocialAccountsUrl:i+"/manage",systemDomainId:"123abcdefghijklmnopqrstuvwxyz456",downloadReportBaseURL:"https://s3.amazonaws.com/rb-test-user-reports/user",downloadJobReportBaseURL:"https://s3.amazonaws.com/rb-test-csv-files",feed:{apiKey:"hrqg34wsayza",appId:"53150",timelineFeedGroup:"timeline",notificationFeedGroup:"notification"},client:{clientId:"1FEB3DDD-8AC7-4F83-A2B3-ED4EB558DFA2",clientSecret:"8114410F-F075-4EE9-974D-F636CD3859E6",clientIdNoVerification:"b724e442-4eff-46fd-9c46-2e225aba44fd",clientSecretVerification:"56bce730-fbc1-4699-a21a-354536e6695a"},api:{baseUrl:"https://api.rebrandly.com/v1",timeout:6e4,middleware:{frontProxy:{baseUrl:"https://test-front-proxy.rebrandly.com/api"},batchHandler:{baseUrl:"https://test-middleware.rebrandly.com/v1"},qrcodeGenerator:{baseUrl:"https://test-qr.rebrandly.com/v1"}}},cdn:{logoBaseUrl:"https://connect.test.rebrandly.com/public/stats/assets/logo"},primusUrl:"https://domain-api-v2.rebrandly.com/",bitlyConnector:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"d55c45941319d7b80efb384572d2453dc74d0e59",redirectUri:"http://localhost:3002/api/callback/bitly"},bitlyImporter:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"d55c45941319d7b80efb384572d2453dc74d0e59",redirectUri:"http://localhost:3002/api/bitly-importer/callback"},googleAnalytics:{trackingId:"UA-144204683-1"},googleConnector:{authorizationUrl:"http://localhost:3002/api/google-shortner/get-token"},payments:{stripe:{key:"pk_test_kkqveGf4BwvJ9MYlzFywKPbz00VUUyZjL9"}},plans:[{name:s.b,id:"fr34ev3i"},{name:s.e,id:"dcdcdba4"},{name:s.d,id:"4960619d"},{name:s.c,id:"ff34c646"},{name:s.a,id:"enterprise_id"}],domainUpsellDeal:{plan:"fr34ev3i",deal:"24d4d9b9"},intercomAppId:"u6qj3atn"},l={oauthBaseUrl:"https://oauth.rebrandly.com",changePasswordUrl:"https://oauth.rebrandly.com/manage/change-password",changeEmailUrl:"https://oauth.rebrandly.com/manage/change-email",manageSocialAccountsUrl:"https://oauth.rebrandly.com/manage",systemDomainId:"8f104cc5b6ee4a4ba7897b06ac2ddcfb",downloadReportBaseURL:"https://reports.rebrandly.com/user",downloadJobReportBaseURL:"https://s3.amazonaws.com/rb-csv-files",feed:{apiKey:"z8tbntjz5fuz",appId:"53149",timelineFeedGroup:"timeline",notificationFeedGroup:"notification"},client:{clientId:"1FEB3DDD-8AC7-4F83-A2B3-ED4EB558DFA2",clientSecret:"8114410F-F075-4EE9-974D-F636CD3859E6",clientIdNoVerification:"b9723985-3ea3-4f88-b5e7-28072039c3cd",clientSecretVerification:"d71e1352-cacf-4d03-ae58-274fac8328d5"},api:{baseUrl:"https://api.rebrandly.com/v1",timeout:6e4,middleware:{frontProxy:{baseUrl:"https://front-proxy.rebrandly.com/api"},batchHandler:{baseUrl:"https://middleware.rebrandly.com/v1"},qrcodeGenerator:{baseUrl:"https://qr.rebrandly.com/v1"}}},cdn:{logoBaseUrl:"https://custom.rebrandly.com/public/stats/assets/logo"},primusUrl:"https://domain-api-v2.rebrandly.com/",bitlyConnector:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"d55c45941319d7b80efb384572d2453dc74d0e59",redirectUri:"https://front-proxy.rebrandly.com/api/callback/bitly"},bitlyImporter:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"d55c45941319d7b80efb384572d2453dc74d0e59",redirectUri:"https://front-proxy.rebrandly.com/api/bitly-importer/callback"},googleConnector:{authorizationUrl:"https://front-proxy.rebrandly.com/api/google-shortner/get-token"},payments:{stripe:{key:"pk_live_820vv3uoDWFlPNsvRCCX73pZ00oZBiYWID"}},plans:[{name:s.b,id:"fr34ev3r"},{name:s.e,id:"dcdcdba4"},{name:s.d,id:"4960619d"},{name:s.c,id:"ff34c646"},{name:s.a,id:"enterprise_id"}],domainUpsellDeal:{plan:"caf9049e",deal:"c043770e"},intercomAppId:"jlqyzfll"},u={oauthBaseUrl:"https://oauth.rebrandly.com",changePasswordUrl:"https://oauth.rebrandly.com/manage/change-password",changeEmailUrl:"https://oauth.rebrandly.com/manage/change-email",manageSocialAccountsUrl:"https://oauth.rebrandly.com/manage",systemDomainId:"8f104cc5b6ee4a4ba7897b06ac2ddcfb",downloadReportBaseURL:"https://reports.rebrandly.com/user",downloadJobReportBaseURL:"https://s3.amazonaws.com/rb-csv-files",feed:{apiKey:"z8tbntjz5fuz",appId:"53149",timelineFeedGroup:"timeline",notificationFeedGroup:"notification"},client:{clientId:"1FEB3DDD-8AC7-4F83-A2B3-ED4EB558DFA2",clientSecret:"8114410F-F075-4EE9-974D-F636CD3859E6",clientIdNoVerification:"b9723985-3ea3-4f88-b5e7-28072039c3cd",clientSecretVerification:"d71e1352-cacf-4d03-ae58-274fac8328d5"},api:{baseUrl:"https://api.rebrandly.com/v1",timeout:6e4,middleware:{frontProxy:{baseUrl:"https://front-proxy.rebrandly.com/api"},batchHandler:{baseUrl:"https://middleware.rebrandly.com/v1"},qrcodeGenerator:{baseUrl:"https://qr.rebrandly.com/v1"}}},cdn:{logoBaseUrl:"https://custom.rebrandly.com/public/stats/assets/logo"},primusUrl:"https://domain-api-v2.rebrandly.com/",bitlyConnector:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"96d6356d68053fc14c5eb1f8045ac9782ed53bc1",redirectUri:"https://front-proxy.rebrandly.com/api/callback/bitly"},bitlyImporter:{authorizationUrl:"https://bitly.com/oauth/authorize",clientId:"5d0dd4448f1dfa102925cee9d467324f9124bfad",redirectUri:"https://front-proxy.rebrandly.com/api/bitly-importer/callback"},googleAnalytics:{trackingId:"UA-145284587-1"},googleConnector:{authorizationUrl:"https://front-proxy.rebrandly.com/api/google-shortner/get-token"},payments:{stripe:{key:"pk_live_820vv3uoDWFlPNsvRCCX73pZ00oZBiYWID"}},plans:[{name:s.b,id:"fr34ev3r"},{name:s.e,id:"dcdcdba4"},{name:s.d,id:"4960619d"},{name:s.c,id:"ff34c646"},{name:s.a,id:"enterprise_id"}],domainUpsellDeal:{plan:"caf9049e",deal:"c043770e"},intercomAppId:"jlqyzfll"},m=a(709),p=a.n(m),d={development:c,staging:l,production:u},h="production",b=Object(n.a)(Object(n.a)({},p()(o.a,d[h])),{},{env:h});t.a=b},112:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"d",(function(){return k})),a.d(t,"a",(function(){return O})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return j})),a.d(t,"e",(function(){return C}));var n=a(37),r=a(2),o=a(50),s=a.n(o),i=a(10),c=a(8),l=a(58),u=a(42),m=a(99),p=Object(i.b)("CREATE_CART"),d=Object(i.b)("GET_CART"),h=Object(i.b)("ADD_ITEM"),b=Object(i.b)("REMOVE_ITEM"),f=Object(i.a)("FLUSH_CART"),g=Object(i.b)("SET_COUPON"),v={isLoading:!1,id:null,items:{},features:{},price:{},vat:null};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b.FULFILLED:return t.payload.cart?Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,id:t.payload.cartid}):e;case p.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,id:t.payload.id});case d.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,items:s()(t.payload.items,"fullName"),features:s()(t.payload.features,"fullName"),id:t.payload.id,price:t.payload.price,vat:t.payload.vat});case g.FULFILLED:var a=t.payload,o=a.items,i=Object(n.a)(a,["items"]);return Object(r.a)(Object(r.a)({},e),{},{items:s()(o,"fullName")},i);case h.FULFILLED:case b.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,items:s()(t.payload.items,"fullName"),price:t.payload.price,vat:t.payload.vat});case f:return{id:null,isLoading:!1,items:{},features:{},price:{},vat:null};case g.PENDING:case p.PENDING:case d.PENDING:case h.PENDING:case b.PENDING:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!0});case g.REJECTED:case p.REJECTED:case d.REJECTED:case h.REJECTED:case b.REJECTED:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1});default:return e}}function y(){return function(e){return e({type:p,payload:Object(c.K)().then((function(t){return e(Object(m.c)({cartId:t.id})),t}))})}}function k(e){return{type:d,payload:Object(c.Kb)(e)}}function O(e,t){return function(a,n){var r=Object(l.c)(n().cart),o=function(){var r=Object(l.b)(n().cart,n().account,n().session,e,t);return r.valid?a({type:h,payload:Object(c.b)(n().cart.id,{type:e,payload:t})}):Promise.reject(r.error)};return r?o():a(y()).then((function(){return o()}))}}function w(e,t){return function(a,n){var r=Object(l.c)(n().cart),o=function(){var r,o=n().cart;return Object(l.i)(o,t)?1===Object.keys(o.items).length?a({type:b,payload:Object(c.qd)(o,{type:e,payload:t})}).then((function(){return j(!0)(a,n)})):a({type:b,payload:Object(c.qd)(o,{type:e,payload:t})}):(r="The item cannot be removed from the cart",Promise.reject({response:{data:{message:r}}}))};return r?o():a(y()).then((function(){return o()}))}}function j(e){return function(t,a){return e&&Object(c.cb)(a().cart),t(Object(m.c)({cartId:null})),t({type:f})}}function C(e,t){return{type:g,payload:Object(c.d)(e,t)}}},1149:function(e,t){},115:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(1),u=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={open:!1},e.handleToggle=function(t){e.setState({open:t}),t||(e.props.onClose&&e.props.onClose(),e.props.onSearch(null))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){this.props.search&&this.handleToggle(!0)}},{key:"render",value:function(){var e=this;return this.state.open?c.a.createElement(l.Input,{size:"md",icon:"ic-search",type:"search",value:this.props.search||"",placeholder:this.props.placeholder,onChange:this.props.onSearch,onClose:function(){return e.handleToggle(!1)},showClose:!0,autoFocus:!0,disableAutoCorrect:!0}):c.a.createElement(l.IconButton,{onClick:function(){return e.handleToggle(!0)},icon:{name:"ic-search"}})}}]),a}(i.PureComponent);t.a=u},1152:function(e,t){},1155:function(e,t){},1156:function(e,t){},116:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(109),s=a.n(o),i=a(23),c=a.n(i),l=a(1);a(1339);t.a=function(e){var t=e.children,a=e.showActions,o=e.actions,i=e.className,u=function(e){return r.a.isValidElement(e)?e:s()(e)?r.a.createElement(l.Tooltip,Object.assign({},e.tooltip,{display:!!e.tooltip,visible:!!e.tooltip}),r.a.createElement(l.IconButton,Object.assign({theme:"ghost"},e))):void 0};return r.a.createElement("div",{className:c()(i,"ActionsBox")},t,a&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ActionsBox__actions flex middle-xs"},o.map(u))))}},1181:function(e,t){},1182:function(e,t){},1187:function(e,t){},12:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return d})),a.d(t,"j",(function(){return h}));var n=a(0),r=a.n(n),o=a(1),s="HTTP_ERROR",i="NETWORK_ERROR",c="GENERIC_ERROR",l="CREATED",u="UPDATED",m="REMOVED",p="GENERIC_WARNING",d="SUCCESS",h={link:{import:{"CSV file is corrupt":"File is corrupt","An error occured while uploading files":r.a.createElement("span",null,"An error occured, make sure your file matches the ",r.a.createElement(o.A,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360010413654"},"required specs")," and try again. If the error persists ",r.a.createElement(o.A,{size:"lg",href:"https://rebrandly.support/contact"},"contact support")),"An error occured while parsing form data":r.a.createElement("span",null,"An error occured, make sure your file matches the ",r.a.createElement(o.A,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360010413654"},"required specs")," and try again. If the error persists ",r.a.createElement(o.A,{size:"lg",href:"https://rebrandly.support/contact"},"contact support")),"File size must not exceed 200MB":"File size must not exceed 200MB"},destination:{InvalidFormat:{title:"Link destination must be a valid url",showNotification:!0,type:s},InvalidMaxLength:{title:"Value cannot be longer than 2048 characters",showNotification:!0,type:s}},slashtag:{PatternMismatch:{title:"One or more characters cannot be used here",showNotification:!1,type:s},AlreadyExists:{title:"A branded link with this slashtag already exists",showNotification:!1,type:s},MinMax:{title:"Slashtag can't be longer than 50 characters",showNotification:!1,type:s},EmojisLimit:{title:"A maxiumum of 10 emojis is reached",showNotification:!1,type:s},InvalidFormat:{title:"Invalid format for slashtag",showNotification:!0,type:s},LimitedSupport:{title:"Slash tag warning!",message:r.a.createElement("span",null,"One or more characters/symbols used in the slash tag field could not be compatible with SMS and some social-media platforms. Please test it to be sure it works when you share the link. ",r.a.createElement(o.A,{size:"lg",target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/360013646037"},"Learn more")),showNotification:!1}},description:{InvalidMaxLength:{title:"Link notes cannot exceed 2000 characters",showNotification:!0,type:s}},tags:{LimitExceededPerResource:{title:"Number of tags exceeded per link",showNotification:!0,type:s}},scripts:{LimitExceededPerResource:{title:"Number of scripts exceeded per link",showNotification:!0,type:s}},title:{InvalidMinLength:{title:"Title value must be at least 3 characters",showNotification:!0,type:s}}},integration:{PermanentRedirect:{title:"Destination url of this link cannot be changed anymore",showNotification:!0,type:s}},domain:{AlreadyExists:{title:"This domain is not available",showNotification:!0,type:s},fullName:{AlreadyExists:{title:"This domain is already in use in Rebrandly",showNotification:!0,type:s},InvalidFormat:{title:"Unallowed top level domain",showNotification:!0,type:s}}},cartItem:{AlreadyExists:{title:"This domain is already in the cart",showNotification:!0,type:s},DomainTaken:{title:"This is a premium domain, not registrable via Rebrandly",cta:r.a.createElement(o.A,{href:"https://support.rebrandly.com/hc/en-us/articles/224626587",target:"_blank",rel:"noopener noreferrer"},"Learn more"),showNotification:!1,type:s},fullName:{InvalidFormat:{title:"Invalid domain name format",message:"Underscore (`_`) is not a valid character for domain names",showNotification:!0,type:s}}},tag:{LimitExceeded:{title:"Number of tags exceeded in your plan",showNotification:!0,type:s},OwnerLimitExceeded:{title:"Number of tags of the owner exceeded",showNotification:!0,type:s},name:{InvalidMinLength:{title:"Tag name cannot be less than 3 characters",showNotification:!0,type:s},InvalidMaxLength:{title:"Tag name cannot exceed 255 characters",showNotification:!0,type:s}},color:{InvalidLength:{title:"Tag color is required",showNotification:!0,type:s}}},script:{LimitExceeded:{title:"Number of scripts exceeded in your plan",showNotification:!0,type:s},name:{RequiredField:{title:"Script name is required",showNotification:!0,type:s},InvalidMinLength:{title:"Script name cannot be less than 3 characters",showNotification:!0,type:s}},script:{RequiredField:{title:"Script value is required",showNotification:!0,type:s},InvalidFormat:{title:"Script value must have a valid format",showNotification:!0,type:s}}},workspace:{CouldNotDeleteWorkspace:{title:"You can't delete a workspace that contains any active links",showNotification:!0,type:s},name:{InvalidMaxLength:{title:"Workspace name too long",showNotification:!0,type:s}},workspace:{AlreadyExists:{title:"Workspace with the same name already exists",showNotification:!0,type:s}}},teammates:{CouldNotDeleteTeammate:{title:"Workspace owner cannot be removed",showNotification:!0,type:s},DeleteError:{title:"Sorry, an error occured when deleting teammate",showNotification:!0,type:s},LimitExceeded:{title:"Number of teammates exceeded",showNotification:!0,type:s}},invite:{LimitPerDay:{title:"Daily teammate invite limit reached",cta:r.a.createElement(o.A,{href:"https://rebrandly.support/contact",size:"lg",target:"_blank",rel:"noopener noreferrer"},"Contact us"),showNotification:!0,type:s}},payment:{title:r.a.createElement("span",null,"Please try again or contact us for further assistance."),showNotification:!1,type:s},promo:{NotFound:{showNotification:!1,type:s}},domainData:{customerName:{InvalidMinLength:{message:"Cannot be shorter than 2 characters",type:s},InvalidMaxLength:{message:"Cannot exceed 128 characters",type:s}},firstName:{message:"Cannot exceed 64 characters or contain any special symbols",type:s},lastName:{message:"Cannot exceed 64 characters or contain any special symbols",type:s},city:{InvalidMinLength:{message:"Cannot be shorter than 2 characters",type:s},InvalidMaxLength:{message:"Cannot exceed 90 characters",type:s}},phone:{message:"Invalid phone number",type:s},regCode:{message:"Must be uppercase and follows country pattern",type:s},postalCode:{InvalidMaxLength:{message:"Cannot exceed 20 characters",type:s}},address:{InvalidMinLength:{message:"Cannot be shorter than 2 characters",type:s},InvalidMaxLength:{message:"Cannot exceed 256 characters",type:s}},state:{InvalidMinLength:{message:"Cannot be shorter than 2 characters",type:s},InvalidMaxLength:{message:"Cannot exceed 60 characters",type:s}},orgName:{message:"Must contain between 1 and 64 characters",type:s}},appkey:{OwnerLimitExceeded:{title:"You've reached your API key limit",showNotification:!0,type:s}},"custom rerport":{FeatureNotIncluded:{title:"You don't have this feature",showNotification:!0,type:s}},google:{ValidationFailed:{title:"Invalid destination url for google integration",showNotification:!0,type:s}},leadData:{companyEmail:{InvalidFormat:{message:"Must be a valid email",showNotification:!1}},website:{InvalidFormat:{message:"Must be a valid URL",showNotification:!1}},firstName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}},lastName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}},companyName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}}},userData:{companyEmail:{InvalidFormat:{message:"Email is not valid",showNotification:!1}},website:{InvalidFormat:{message:"Url is not valid",showNotification:!1}},firstName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}},lastName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}},companyName:{InvalidMinLength:{message:"Value cannot be smaller than 2 characters",showNotification:!1}}}};t.i=h},1240:function(e,t,a){},1242:function(e,t,a){},1244:function(e,t,a){},127:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(9),m=a.n(u),p=a(143),d=a.n(p),h=a(92),b=a.n(h),f=a(1),g=a(19),v=a(24),E=a.n(v),y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectedElements,r=t.onChange,o=t.canEdit,s={selectedElements:a,onChange:r},i=[];if(a){if(!m()(a)&&0===this.props.showMoreAfter)return l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold"},"".concat(a.length," ").concat(Object(g.capitalize)(E()(this.props.resource,a.length))));i=d()(this.props.showMoreAfter)?a:a.slice(0,this.props.showMoreAfter)}return l.a.createElement("div",{className:"OptionRow__body OptionRow__selected-tags-scripts"},i.map((function(t){if(!t)return!1;var i={label:b()(t)?t.name||t.label||t.fullName||t.id:String(t)};return t.color&&(i.color=t.color),o&&(i=Object(n.a)(Object(n.a)({},i),{},{addOn:{icon:{name:"ic-cross",color:"white",size:"tiny"},onClick:function(e){e.preventDefault(),e.stopPropagation(),r(a.filter((function(e){return e.id!==t.id})))}}})),l.a.createElement("div",{key:t.id||t,"rb-test-id":"selected-elements",className:"OptionRow__selected-tag-script"},o?l.a.cloneElement(e.props.controller,Object(n.a)(Object(n.a)({},s),{},{children:l.a.createElement(f.Tag,i)})):l.a.createElement(f.Tag,i))})),o&&l.a.cloneElement(this.props.controller,Object(n.a)(Object(n.a)({},s),{},{forceOpen:m()(a),children:l.a.createElement("div",null,m()(a)&&l.a.createElement(f.Button,{theme:"select",label:this.props.placeholder||"Select "+E()(this.props.resource,2)}),!m()(a)&&!d()(this.props.showMoreAfter)&&a.length>this.props.showMoreAfter&&l.a.createElement(f.Button,{theme:"select",label:"...and ".concat(a.length-this.props.showMoreAfter," more")}),!m()(a)&&(d()(this.props.showMoreAfter)||a.length<=this.props.showMoreAfter)&&l.a.createElement(f.Icon,{className:"OptionRow__add",name:"ic-add",size:"xsmall"}))})),!o&&!m()(a)&&!d()(this.props.showMoreAfter)&&a.length>this.props.showMoreAfter&&l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail"},"...and ".concat(a.length-this.props.showMoreAfter," more")))}}]),a}(c.PureComponent);y.defaultProps={selectedElements:[],resource:"resource"},t.a=y},128:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return h}));var n,r,o,s=a(712),i=a.n(s),c=a(11),l=a(8),u={},m=function(e){for(var t in 0===Object.keys(u).length&&console.log("no listeners"),u)u.hasOwnProperty(t)&&u[t](e)},p=function(e){return Object(l.Rc)().catch((function(e){return console.error("Unable to retrieve feeds token",e)})).then((function(t){var a=t.notificationToken,s=t.timelineToken;n=i.a.connect(c.a.feed.apiKey,null,c.a.feed.appId),r=n.feed(c.a.feed.notificationFeedGroup,e,a),o=n.feed(c.a.feed.timelineFeedGroup,e,s),r.subscribe(m)})).catch((function(e){return console.error("Unable to retrieve feeds",e)}))},d=function(e,t){if(!e||"string"!==typeof e)throw new TypeError("A valid listener name is needed");if("function"!==typeof t)throw new TypeError("A valid callback for the listener is needed");u[e]=t};var h=function(e){switch(e){case"success":return{name:"ic-success",color:"var(--color-green-400)"};case"info":return{name:"ic-help",color:"var(--color-blue-600)"};case"warning":return{name:"ic-warning",color:"var(--color-orange-400)"};case"error":return{name:"ic-warning",color:"var(--color-red-600)"};default:return{}}}},1291:function(e,t,a){},1292:function(e,t,a){},1293:function(e,t,a){},1294:function(e,t,a){},1295:function(e,t,a){},1296:function(e,t,a){},1297:function(e,t,a){},13:function(e,t,a){"use strict";var n=a(37),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(1),m=a(71),p=a(118),d=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleClick",value:function(e){if(this.props.onClick&&this.props.onClick(e),!this.props.to)return!1;e.preventDefault(),this.props.history.push(this.props.to)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.match,t.location,t.history),r=t.to,o=(t.href,t.children),s=(t.staticContext,t.onClick,Object(n.a)(t,["match","location","history","to","href","children","staticContext","onClick"])),i=this.props.href;if(r){var c="string"===typeof r?Object(p.c)(r,null,null,a.location):r;i=a.createHref(c)}return l.a.createElement(u.A,Object.assign({href:i,onClick:function(t){return e.handleClick(t)}},s),o)}}]),a}(c.Component);t.a=Object(m.g)(d)},1300:function(e,t,a){},1301:function(e,t,a){},1302:function(e,t,a){},1303:function(e,t,a){},1304:function(e,t,a){},1305:function(e,t,a){},1306:function(e,t,a){},1307:function(e,t,a){},1308:function(e,t,a){},1309:function(e,t,a){},1310:function(e,t,a){},1313:function(e,t,a){},1315:function(e,t,a){},1317:function(e,t,a){},1318:function(e,t,a){},1319:function(e,t,a){},1320:function(e,t,a){},1321:function(e,t,a){},1322:function(e,t,a){},1323:function(e,t,a){},1326:function(e,t,a){},1327:function(e,t,a){},1328:function(e,t,a){},1329:function(e,t,a){},1339:function(e,t,a){},1340:function(e,t,a){},1341:function(e,t,a){},1342:function(e,t,a){},1343:function(e,t,a){},1344:function(e,t,a){},1345:function(e,t,a){},1346:function(e,t,a){},1347:function(e,t,a){},1348:function(e,t,a){},1349:function(e,t,a){},1350:function(e,t,a){},1351:function(e,t,a){},1352:function(e,t,a){},1353:function(e,t,a){},1354:function(e,t,a){},1355:function(e,t,a){},1356:function(e,t,a){},1357:function(e,t,a){},1358:function(e,t,a){},1359:function(e,t,a){},136:function(e,t,a){"use strict";var n=a(37),r=a(0),o=a.n(r),s=a(1);t.a=function(e){var t=e.iconName,a=Object(n.a)(e,["iconName"]);return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"display-block display-sm-none"},o.a.createElement(s.Selector,Object.assign({renderTrigger:function(){return o.a.createElement(s.IconButton,{icon:{name:t},theme:"ghost"})}},a))),o.a.createElement("div",{className:"display-none display-sm-block"},o.a.createElement(s.Selector,a)))}},1360:function(e,t,a){},1361:function(e,t,a){},137:function(e,t,a){"use strict";var n=a(37),r=a(0),o=a.n(r),s=a(3),i=a.n(s),c=a(9),l=a.n(c),u=a(26),m=a(1);t.a=function(e){var t=e.items,a=e.label,r=e.isOpen,s=e.disabled;return l()(t.find((function(e){return!!e.visible})))||u.d?null:o.a.createElement(m.Dropdown,{position:"left",isOpen:r},o.a.createElement(m.Trigger,null,o.a.createElement(m.Button,{"rb-test-id":"link-add-options",label:a||"Add options",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"},disabled:s})),o.a.createElement(m.Menu,null,t.map((function(e){var t=i()(e,"tooltip",{}),a=t.display,r=Object(n.a)(t,["display"]);return e.visible&&o.a.createElement("li",{key:e.label,"data-toggle":!0},o.a.createElement(m.Tooltip,Object.assign({display:!!a},r),o.a.createElement("span",null,o.a.createElement(m.A,{disabled:e.disabled,onClick:e.disabled?function(){}:e.onClick,"rb-test-id":"add-"+e.label.toLowerCase()},e.label))))}))))}},1373:function(e,t,a){},1374:function(e,t,a){},1375:function(e,t,a){},1376:function(e,t,a){},1379:function(e,t,a){},1380:function(e,t,a){},1381:function(e,t,a){},1382:function(e,t,a){},1383:function(e,t,a){},1384:function(e,t,a){},1385:function(e,t,a){},1386:function(e,t,a){},1387:function(e,t,a){},139:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return u}));var n=a(11),r=a(1),o=a(0),s=a.n(o),i=function(){return[{label:"Name AZ",value:"az",params:{orderBy:"name",orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:"name",orderDir:"desc"}}]},c=function(e){var t=e.tags.params;return i().find((function(e){return e.params.orderBy===t.orderBy&&e.params.orderDir===t.orderDir}))},l=function(e){return e&&e.length<n.a.limits.maxTagsPerLink},u=s.a.createElement("span",null,"Tag your links to organize them in your ",s.a.createElement("br",null),"Rebrandly dashboard. ",s.a.createElement(r.A,{href:"https://support.rebrandly.com/hc/en-us/articles/226456848-How-to-Tag-Your-Branded-Links",target:"_blank"},"Learn more"))},1396:function(e,t,a){},1397:function(e,t,a){},1398:function(e,t,a){},1399:function(e,t,a){},1400:function(e,t,a){},1401:function(e,t,a){},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a(11),r=a(1),o=a(0),s=a.n(o),i=function(e){return e&&e.length<n.a.limits.maxScriptsPerLink},c=s.a.createElement("span",null,"Add retargeting/remarketing scripts ",s.a.createElement("br",null),"to your links to serve users ads at a",s.a.createElement("br",null),"later date. ",s.a.createElement(r.A,{href:"https://support.rebrandly.com/hc/en-us/articles/229508927-How-to-Use-Link-Retargeting",target:"_blank"},"Learn more"))},1473:function(e,t,a){},1474:function(e,t,a){},1475:function(e,t,a){},1476:function(e,t,a){},1477:function(e,t,a){},1478:function(e,t,a){},1479:function(e,t,a){},1480:function(e,t,a){},1481:function(e,t,a){},1482:function(e,t,a){},1483:function(e,t,a){},1485:function(e,t,a){"use strict";a.r(t);a(752);var n=a(0),r=a.n(n),o=a(229),s=a.n(o),i=a(33),c=a.n(i),l=(a(958),a(705)),u=a(263),m=a(11),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var h=a(392),b=a(47);window.onerror=function(e,t,a,n,r){u.a.error({message:e,source:t,lineno:a,colno:n,error:r,location:window.location.href})},b.a.track("app-started"),c.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"Just now",ss:"Just now",m:"1 min",mm:"%d min",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"1 year",yy:"%d years"},calendar:{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"}}),c.a.relativeTimeThreshold("ss",59);s.a.render(r.a.createElement(h.AppContainer,null,r.a.createElement(l.a,null)),document.getElementById("root")),m.a.caching.registerServiceWorker?function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");p?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):d(e)}))}}():"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},154:function(e,t,a){"use strict";var n=a(2),r=a(37),o=a(4),s=a(5),i=a(6),c=a(7),l=a(0),u=a.n(l),m=a(14),p=a(71),d=a(19),h=a(61),b=a(1),f=a(3),g=a.n(f),v=a(253),E=a(77),y=a(40),k=a(41),O=(a(1327),function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,workspace:null},e.switchToContext=function(t){var a=e.props,n=a.setContext,r=a.onWorkspaceChanged;e.props.onSelect&&e.props.onSelect(t),e.props.noContext?(console.log(t),e.setState({workspace:t})):n(t.id).then((function(){r&&r()}))},e.addWorkspace=function(t){t.preventDefault(),e.props.history.push({pathname:"/workspaces/new",state:{modal:!0}})},e.handleLoadMore=function(){var t=Object.values(e.props.workspaces);e.setState({isLoading:!0},(function(){return e.props.load(t[t.length-1].id).finally((function(){return e.setState({isLoading:!1})}))}))},e.renderTrigger=function(){if(e.state.workspace){var t=e.state.workspace,a=t.avatarUrl,n=t.name,r=t.type===E.c;return u.a.createElement("div",{className:"flex middle-xs"},a&&u.a.createElement(b.Avatar,{img:a}),n&&u.a.createElement(b.A,{size:"x-lg",className:"WorkspacesSwitch__trigger Text--SubTitle m-l-12","rb-test-id":"workspaces-selector-switch"},Object(d.truncate)(n,20)),r&&u.a.createElement(b.Tag,{className:"WorkspaceSwitchHeader__tag m-l-24",color:"purple",size:"sm",label:"Extended"}))}var o=e.props.context,s=o.avatarUrl,i=o.name,c=o.type===E.c;return u.a.createElement("div",{className:"flex middle-xs"},s&&u.a.createElement(b.Avatar,{img:s}),i&&u.a.createElement(b.A,{size:"x-lg",className:"WorkspacesSwitch__trigger Text--SubTitle m-l-12","rb-test-id":"workspaces-selector-switch"},Object(d.truncate)(i,20)),c&&u.a.createElement(b.Tag,{className:"WorkspaceSwitchHeader__tag m-l-24",color:"purple",size:"sm",label:"Extended"}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"renderOption",value:function(e){var t=e.avatarUrl,a=e.name,n=e.type,o=Object(r.a)(e,["avatarUrl","name","type"]),s=n===E.c,i=!0===o.default;return u.a.createElement("div",null,u.a.createElement("div",{className:"flex middle-xs"},u.a.createElement(b.Avatar,{img:t}),u.a.createElement(b.Text,{"rb-test-id":"workspaces-selector-switch-option",className:"m-l-12",size:"small",singleLine:!0},a),i&&u.a.createElement(b.Tag,{className:"m-l-8",label:"Default",color:"green",size:"sm"}),s&&u.a.createElement(b.Tag,{color:"purple",size:"sm",className:"m-l-8",label:"Extended"})))}},{key:"renderHeader",value:function(){return null}},{key:"renderFooter",value:function(){return this.props.showAddWorkspace&&this.props.currentPlan!==h.b?u.a.createElement(v.a,null,u.a.createElement(b.Button,{theme:"link",onClick:this.addWorkspace,icon:{name:"ic-add",size:"xsmall",position:"left"},"data-toggle":!0},"Add a new workspace")):null}},{key:"render",value:function(){var e=(this.props.domainWorkspaces||this.props.workspaces).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.name,value:e.id})}));return this.props.workspaceFilterFunc&&(e=e.filter(this.props.workspaceFilterFunc)),e.length<2&&!this.props.showAddWorkspace?this.renderTrigger():u.a.createElement(b.Selector,{className:"WorkspaceSwitch",header:this.renderHeader(),footer:this.renderFooter(),renderTrigger:this.renderTrigger,options:e,value:{value:this.state.workspace&&this.state.workspace.id||this.props.context.id},renderOption:this.renderOption,onLoadMore:this.handleLoadMore,showLoadMore:this.props.count>this.props.workspaces.length,isLoading:this.state.isLoading,onChange:this.switchToContext,showSearch:this.props.count>15,closeOnSelect:!0,hideSelected:!0})}}]),a}(l.PureComponent));O.defaultProps={showAddWorkspace:!0};t.a=Object(p.g)(Object(m.b)((function(e){var t=e.workspaces,a=t.list,n=t.items,r=t.count;return{currentPlan:g()(e.account,"subscription.category"),workspaces:a.map((function(e){return n[e]})),count:r.results,context:n[e.session.currentWorkspaceId]}}),(function(e){return{load:function(t){return e(Object(y.q)(t))},setContext:function(t){return e(Object(k.g)(t))}}}))(O))},156:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"e",(function(){return y}));var n=a(17),r=a(37),o=a(2),s=a(10),i=a(57),c=a.n(i),l=a(128),u=Object(s.a)("PUSH_NOTIFICATION_FEED_ACTIVITIES"),m=Object(s.b)("LOAD_NOTIFICATION_FEED_ACTIVITIES"),p=Object(s.b)("LOAD_TIMELINE_FEED_ACTIVITIES"),d=Object(s.a)("SET_ALL_ALL_NOTIFICATIONS_READ"),h=Object(s.a)("SET_ALL_ALL_NOTIFICATIONS_SEEN"),b={notifications:{loading:!1,next:"",unread:0,unseen:0,activitiesGroups:[]},timeline:{loading:!1,activities:[]}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.PENDING:return Object(o.a)(Object(o.a)({},e),{},{notifications:Object(o.a)(Object(o.a)({},e.notifications),{},{loading:!0})});case m.FULFILLED:var a=t.payload,s=a.results,i=Object(r.a)(a,["results"]),l=t.meta.lastId?e.notifications.activitiesGroups:[];return Object(o.a)(Object(o.a)({},e),{},{notifications:Object(o.a)(Object(o.a)(Object(o.a)({},e.notifications),i),{},{loading:!1,activitiesGroups:c()([].concat(Object(n.a)(l),Object(n.a)(s)))})});case p.PENDING:return Object(o.a)(Object(o.a)({},e),{},{timeline:Object(o.a)(Object(o.a)({},e.timeline),{},{loading:!0})});case p.FULFILLED:var f=t.payload,g=f.results,v=Object(r.a)(f,["results"]),E=t.meta.lastId?e.timeline.activities:[];return Object(o.a)(Object(o.a)({},e),{},{timeline:Object(o.a)(Object(o.a)(Object(o.a)({},e.timeline),v),{},{loading:!1,activities:c()([].concat(Object(n.a)(E),Object(n.a)(g)))})});case u:var y=t.payload.new,k=e.notifications.activitiesGroups;return Object(o.a)(Object(o.a)({},e),{},{notifications:Object(o.a)(Object(o.a)({},e.notifications),{},{unseen:+e.notifications.unseen+y.length,activitiesGroups:c()([].concat(Object(n.a)(y),Object(n.a)(k)))})});case d:return Object(o.a)(Object(o.a)({},e),{},{notifications:Object(o.a)(Object(o.a)({},e.notifications),{},{unread:0})});case h:return Object(o.a)(Object(o.a)({},e),{},{notifications:Object(o.a)(Object(o.a)({},e.notifications),{},{unseen:0})});default:return e}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(a){return a({type:m,payload:l.c.get(Object(o.a)({limit:5,id_lt:t},e)),meta:{lastId:t}})}}function v(e){return function(t){return t({type:p,payload:l.e.get({limit:20,id_lt:e}),meta:{lastId:e}})}}function E(e){return function(t,a){return t({type:u,payload:e})}}function y(){return function(e,t){return e({type:h})}}},157:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return window.parent.postMessage(e,t)}},158:function(e,t,a){"use strict";t.a=[{country:"Afghanistan",alpha2:"AF",alpha3:"AFG",numeric:"004"},{country:"\xc5land Islands",alpha2:"AX",alpha3:"ALA",numeric:"248"},{country:"Albania",alpha2:"AL",alpha3:"ALB",numeric:"008"},{country:"Algeria",alpha2:"DZ",alpha3:"DZA",numeric:"012"},{country:"American Samoa",alpha2:"AS",alpha3:"ASM",numeric:"016"},{country:"Andorra",alpha2:"AD",alpha3:"AND",numeric:"020"},{country:"Angola",alpha2:"AO",alpha3:"AGO",numeric:"024"},{country:"Anguilla",alpha2:"AI",alpha3:"AIA",numeric:"660"},{country:"Antarctica",alpha2:"AQ",alpha3:"ATA",numeric:"010"},{country:"Antigua and Barbuda",alpha2:"AG",alpha3:"ATG",numeric:"028"},{country:"Argentina",alpha2:"AR",alpha3:"ARG",numeric:"032"},{country:"Armenia",alpha2:"AM",alpha3:"ARM",numeric:"051"},{country:"Aruba",alpha2:"AW",alpha3:"ABW",numeric:"533"},{country:"Australia",alpha2:"AU",alpha3:"AUS",numeric:"036"},{country:"Austria",alpha2:"AT",alpha3:"AUT",numeric:"040"},{country:"Azerbaijan",alpha2:"AZ",alpha3:"AZE",numeric:"031"},{country:"Bahamas",alpha2:"BS",alpha3:"BHS",numeric:"044"},{country:"Bahrain",alpha2:"BH",alpha3:"BHR",numeric:"048"},{country:"Bangladesh",alpha2:"BD",alpha3:"BGD",numeric:"050"},{country:"Barbados",alpha2:"BB",alpha3:"BRB",numeric:"052"},{country:"Belarus",alpha2:"BY",alpha3:"BLR",numeric:"112"},{country:"Belgium",alpha2:"BE",alpha3:"BEL",numeric:"056"},{country:"Belize",alpha2:"BZ",alpha3:"BLZ",numeric:"084"},{country:"Benin",alpha2:"BJ",alpha3:"BEN",numeric:"204"},{country:"Bermuda",alpha2:"BM",alpha3:"BMU",numeric:"060"},{country:"Bhutan",alpha2:"BT",alpha3:"BTN",numeric:"064"},{country:"Bolivia",alpha2:"BO",alpha3:"BOL",numeric:"068"},{country:"Bonaire, Sint Eustatius and Saba",alpha2:"BQ",alpha3:"BES",numeric:"535"},{country:"Bosnia and Herzegovina",alpha2:"BA",alpha3:"BIH",numeric:"070"},{country:"Botswana",alpha2:"BW",alpha3:"BWA",numeric:"072"},{country:"Bouvet Island",alpha2:"BV",alpha3:"BVT",numeric:"074"},{country:"Brazil",alpha2:"BR",alpha3:"BRA",numeric:"076"},{country:"British Indian Ocean Territory",alpha2:"IO",alpha3:"IOT",numeric:"086"},{country:"Brunei Darussalam",alpha2:"BN",alpha3:"BRN",numeric:"096"},{country:"Bulgaria",alpha2:"BG",alpha3:"BGR",numeric:"100"},{country:"Burkina Faso",alpha2:"BF",alpha3:"BFA",numeric:"854"},{country:"Burundi",alpha2:"BI",alpha3:"BDI",numeric:"108"},{country:"Cabo Verde",alpha2:"CV",alpha3:"CPV",numeric:"132"},{country:"Cambodia",alpha2:"KH",alpha3:"KHM",numeric:"116"},{country:"Cameroon",alpha2:"CM",alpha3:"CMR",numeric:"120"},{country:"Canada",alpha2:"CA",alpha3:"CAN",numeric:"124"},{country:"Cayman Islands",alpha2:"KY",alpha3:"CYM",numeric:"136"},{country:"Central African Republic",alpha2:"CF",alpha3:"CAF",numeric:"140"},{country:"Chad",alpha2:"TD",alpha3:"TCD",numeric:"148"},{country:"Chile",alpha2:"CL",alpha3:"CHL",numeric:"152"},{country:"China",alpha2:"CN",alpha3:"CHN",numeric:"156"},{country:"Christmas Island",alpha2:"CX",alpha3:"CXR",numeric:"162"},{country:"Cocos Islands",alpha2:"CC",alpha3:"CCK",numeric:"166"},{country:"Colombia",alpha2:"CO",alpha3:"COL",numeric:"170"},{country:"Comoros",alpha2:"KM",alpha3:"COM",numeric:"174"},{country:"Congo",alpha2:"CG",alpha3:"COG",numeric:"178"},{country:"Congo",alpha2:"CD",alpha3:"COD",numeric:"180"},{country:"Cook Islands",alpha2:"CK",alpha3:"COK",numeric:"184"},{country:"Costa Rica",alpha2:"CR",alpha3:"CRI",numeric:"188"},{country:"C\xf4te d'Ivoire",alpha2:"CI",alpha3:"CIV",numeric:"384"},{country:"Croatia",alpha2:"HR",alpha3:"HRV",numeric:"191"},{country:"Cuba",alpha2:"CU",alpha3:"CUB",numeric:"192"},{country:"Cura\xe7ao",alpha2:"CW",alpha3:"CUW",numeric:"531"},{country:"Cyprus",alpha2:"CY",alpha3:"CYP",numeric:"196"},{country:"Czech Republic",alpha2:"CZ",alpha3:"CZE",numeric:"203"},{country:"Denmark",alpha2:"DK",alpha3:"DNK",numeric:"208"},{country:"Djibouti",alpha2:"DJ",alpha3:"DJI",numeric:"262"},{country:"Dominica",alpha2:"DM",alpha3:"DMA",numeric:"212"},{country:"Dominican Republic",alpha2:"DO",alpha3:"DOM",numeric:"214"},{country:"Ecuador",alpha2:"EC",alpha3:"ECU",numeric:"218"},{country:"Egypt",alpha2:"EG",alpha3:"EGY",numeric:"818"},{country:"El Salvador",alpha2:"SV",alpha3:"SLV",numeric:"222"},{country:"Equatorial Guinea",alpha2:"GQ",alpha3:"GNQ",numeric:"226"},{country:"Eritrea",alpha2:"ER",alpha3:"ERI",numeric:"232"},{country:"Estonia",alpha2:"EE",alpha3:"EST",numeric:"233"},{country:"Ethiopia",alpha2:"ET",alpha3:"ETH",numeric:"231"},{country:"Falkland Islands",alpha2:"FK",alpha3:"FLK",numeric:"238"},{country:"Faroe Islands",alpha2:"FO",alpha3:"FRO",numeric:"234"},{country:"Fiji",alpha2:"FJ",alpha3:"FJI",numeric:"242"},{country:"Finland",alpha2:"FI",alpha3:"FIN",numeric:"246"},{country:"France",alpha2:"FR",alpha3:"FRA",numeric:"250"},{country:"French Guiana",alpha2:"GF",alpha3:"GUF",numeric:"254"},{country:"French Polynesia",alpha2:"PF",alpha3:"PYF",numeric:"258"},{country:"French Southern Territories",alpha2:"TF",alpha3:"ATF",numeric:"260"},{country:"Gabon",alpha2:"GA",alpha3:"GAB",numeric:"266"},{country:"Gambia",alpha2:"GM",alpha3:"GMB",numeric:"270"},{country:"Georgia",alpha2:"GE",alpha3:"GEO",numeric:"268"},{country:"Germany",alpha2:"DE",alpha3:"DEU",numeric:"276"},{country:"Ghana",alpha2:"GH",alpha3:"GHA",numeric:"288"},{country:"Gibraltar",alpha2:"GI",alpha3:"GIB",numeric:"292"},{country:"Greece",alpha2:"GR",alpha3:"GRC",numeric:"300"},{country:"Greenland",alpha2:"GL",alpha3:"GRL",numeric:"304"},{country:"Grenada",alpha2:"GD",alpha3:"GRD",numeric:"308"},{country:"Guadeloupe",alpha2:"GP",alpha3:"GLP",numeric:"312"},{country:"Guam",alpha2:"GU",alpha3:"GUM",numeric:"316"},{country:"Guatemala",alpha2:"GT",alpha3:"GTM",numeric:"320"},{country:"Guernsey",alpha2:"GG",alpha3:"GGY",numeric:"831"},{country:"Guinea",alpha2:"GN",alpha3:"GIN",numeric:"324"},{country:"Guinea-Bissau",alpha2:"GW",alpha3:"GNB",numeric:"624"},{country:"Guyana",alpha2:"GY",alpha3:"GUY",numeric:"328"},{country:"Haiti",alpha2:"HT",alpha3:"HTI",numeric:"332"},{country:"Heard Island and McDonald Islands",alpha2:"HM",alpha3:"HMD",numeric:"334"},{country:"Holy See",alpha2:"VA",alpha3:"VAT",numeric:"336"},{country:"Honduras",alpha2:"HN",alpha3:"HND",numeric:"340"},{country:"Hong Kong",alpha2:"HK",alpha3:"HKG",numeric:"344"},{country:"Hungary",alpha2:"HU",alpha3:"HUN",numeric:"348"},{country:"Iceland",alpha2:"IS",alpha3:"ISL",numeric:"352"},{country:"India",alpha2:"IN",alpha3:"IND",numeric:"356"},{country:"Indonesia",alpha2:"ID",alpha3:"IDN",numeric:"360"},{country:"Islamic Republic of Iran",alpha2:"IR",alpha3:"IRN",numeric:"364"},{country:"Iraq",alpha2:"IQ",alpha3:"IRQ",numeric:"368"},{country:"Ireland",alpha2:"IE",alpha3:"IRL",numeric:"372"},{country:"Isle of Man",alpha2:"IM",alpha3:"IMN",numeric:"833"},{country:"Israel",alpha2:"IL",alpha3:"ISR",numeric:"376"},{country:"Italy",alpha2:"IT",alpha3:"ITA",numeric:"380"},{country:"Jamaica",alpha2:"JM",alpha3:"JAM",numeric:"388"},{country:"Japan",alpha2:"JP",alpha3:"JPN",numeric:"392"},{country:"Jersey",alpha2:"JE",alpha3:"JEY",numeric:"832"},{country:"Jordan",alpha2:"JO",alpha3:"JOR",numeric:"400"},{country:"Kazakhstan",alpha2:"KZ",alpha3:"KAZ",numeric:"398"},{country:"Kenya",alpha2:"KE",alpha3:"KEN",numeric:"404"},{country:"Kiribati",alpha2:"KI",alpha3:"KIR",numeric:"296"},{country:"North Korea",alpha2:"KP",alpha3:"PRK",numeric:"408"},{country:"South Korea",alpha2:"KR",alpha3:"KOR",numeric:"410"},{country:"Kuwait",alpha2:"KW",alpha3:"KWT",numeric:"414"},{country:"Kyrgyzstan",alpha2:"KG",alpha3:"KGZ",numeric:"417"},{country:"Laos",alpha2:"LA",alpha3:"LAO",numeric:"418"},{country:"Latvia",alpha2:"LV",alpha3:"LVA",numeric:"428"},{country:"Lebanon",alpha2:"LB",alpha3:"LBN",numeric:"422"},{country:"Lesotho",alpha2:"LS",alpha3:"LSO",numeric:"426"},{country:"Liberia",alpha2:"LR",alpha3:"LBR",numeric:"430"},{country:"Libya",alpha2:"LY",alpha3:"LBY",numeric:"434"},{country:"Liechtenstein",alpha2:"LI",alpha3:"LIE",numeric:"438"},{country:"Lithuania",alpha2:"LT",alpha3:"LTU",numeric:"440"},{country:"Luxembourg",alpha2:"LU",alpha3:"LUX",numeric:"442"},{country:"Macao",alpha2:"MO",alpha3:"MAC",numeric:"446"},{country:"Macedonia",alpha2:"MK",alpha3:"MKD",numeric:"807"},{country:"Madagascar",alpha2:"MG",alpha3:"MDG",numeric:"450"},{country:"Malawi",alpha2:"MW",alpha3:"MWI",numeric:"454"},{country:"Malaysia",alpha2:"MY",alpha3:"MYS",numeric:"458"},{country:"Maldives",alpha2:"MV",alpha3:"MDV",numeric:"462"},{country:"Mali",alpha2:"ML",alpha3:"MLI",numeric:"466"},{country:"Malta",alpha2:"MT",alpha3:"MLT",numeric:"470"},{country:"Marshall Islands",alpha2:"MH",alpha3:"MHL",numeric:"584"},{country:"Martinique",alpha2:"MQ",alpha3:"MTQ",numeric:"474"},{country:"Mauritania",alpha2:"MR",alpha3:"MRT",numeric:"478"},{country:"Mauritius",alpha2:"MU",alpha3:"MUS",numeric:"480"},{country:"Mayotte",alpha2:"YT",alpha3:"MYT",numeric:"175"},{country:"Mexico",alpha2:"MX",alpha3:"MEX",numeric:"484"},{country:"Federated States of Micronesia",alpha2:"FM",alpha3:"FSM",numeric:"583"},{country:"Republic of Moldova",alpha2:"MD",alpha3:"MDA",numeric:"498"},{country:"Monaco",alpha2:"MC",alpha3:"MCO",numeric:"492"},{country:"Mongolia",alpha2:"MN",alpha3:"MNG",numeric:"496"},{country:"Montenegro",alpha2:"ME",alpha3:"MNE",numeric:"499"},{country:"Montserrat",alpha2:"MS",alpha3:"MSR",numeric:"500"},{country:"Morocco",alpha2:"MA",alpha3:"MAR",numeric:"504"},{country:"Mozambique",alpha2:"MZ",alpha3:"MOZ",numeric:"508"},{country:"Myanmar",alpha2:"MM",alpha3:"MMR",numeric:"104"},{country:"Namibia",alpha2:"NA",alpha3:"NAM",numeric:"516"},{country:"Nauru",alpha2:"NR",alpha3:"NRU",numeric:"520"},{country:"Nepal",alpha2:"NP",alpha3:"NPL",numeric:"524"},{country:"Netherlands",alpha2:"NL",alpha3:"NLD",numeric:"528"},{country:"New Caledonia",alpha2:"NC",alpha3:"NCL",numeric:"540"},{country:"New Zealand",alpha2:"NZ",alpha3:"NZL",numeric:"554"},{country:"Nicaragua",alpha2:"NI",alpha3:"NIC",numeric:"558"},{country:"Niger",alpha2:"NE",alpha3:"NER",numeric:"562"},{country:"Nigeria",alpha2:"NG",alpha3:"NGA",numeric:"566"},{country:"Niue",alpha2:"NU",alpha3:"NIU",numeric:"570"},{country:"Norfolk Island",alpha2:"NF",alpha3:"NFK",numeric:"574"},{country:"Northern Mariana Islands",alpha2:"MP",alpha3:"MNP",numeric:"580"},{country:"Norway",alpha2:"NO",alpha3:"NOR",numeric:"578"},{country:"Oman",alpha2:"OM",alpha3:"OMN",numeric:"512"},{country:"Pakistan",alpha2:"PK",alpha3:"PAK",numeric:"586"},{country:"Palau",alpha2:"PW",alpha3:"PLW",numeric:"585"},{country:"State of Palestine",alpha2:"PS",alpha3:"PSE",numeric:"275"},{country:"Panama",alpha2:"PA",alpha3:"PAN",numeric:"591"},{country:"Papua New Guinea",alpha2:"PG",alpha3:"PNG",numeric:"598"},{country:"Paraguay",alpha2:"PY",alpha3:"PRY",numeric:"600"},{country:"Peru",alpha2:"PE",alpha3:"PER",numeric:"604"},{country:"Philippines",alpha2:"PH",alpha3:"PHL",numeric:"608"},{country:"Pitcairn",alpha2:"PN",alpha3:"PCN",numeric:"612"},{country:"Poland",alpha2:"PL",alpha3:"POL",numeric:"616"},{country:"Portugal",alpha2:"PT",alpha3:"PRT",numeric:"620"},{country:"Puerto Rico",alpha2:"PR",alpha3:"PRI",numeric:"630"},{country:"Qatar",alpha2:"QA",alpha3:"QAT",numeric:"634"},{country:"R\xe9union",alpha2:"RE",alpha3:"REU",numeric:"638"},{country:"Romania",alpha2:"RO",alpha3:"ROU",numeric:"642"},{country:"Russian Federation",alpha2:"RU",alpha3:"RUS",numeric:"643"},{country:"Rwanda",alpha2:"RW",alpha3:"RWA",numeric:"646"},{country:"Saint Barth\xe9lemy",alpha2:"BL",alpha3:"BLM",numeric:"652"},{country:"Saint Helena, Ascension and Tristan da Cunha",alpha2:"SH",alpha3:"SHN",numeric:"654"},{country:"Saint Kitts and Nevis",alpha2:"KN",alpha3:"KNA",numeric:"659"},{country:"Saint Lucia",alpha2:"LC",alpha3:"LCA",numeric:"662"},{country:"Saint Martin",alpha2:"MF",alpha3:"MAF",numeric:"663"},{country:"Saint Pierre and Miquelon",alpha2:"PM",alpha3:"SPM",numeric:"666"},{country:"Saint Vincent and the Grenadines",alpha2:"VC",alpha3:"VCT",numeric:"670"},{country:"Samoa",alpha2:"WS",alpha3:"WSM",numeric:"882"},{country:"San Marino",alpha2:"SM",alpha3:"SMR",numeric:"674"},{country:"Sao Tome and Principe",alpha2:"ST",alpha3:"STP",numeric:"678"},{country:"Saudi Arabia",alpha2:"SA",alpha3:"SAU",numeric:"682"},{country:"Senegal",alpha2:"SN",alpha3:"SEN",numeric:"686"},{country:"Serbia",alpha2:"RS",alpha3:"SRB",numeric:"688"},{country:"Seychelles",alpha2:"SC",alpha3:"SYC",numeric:"690"},{country:"Sierra Leone",alpha2:"SL",alpha3:"SLE",numeric:"694"},{country:"Singapore",alpha2:"SG",alpha3:"SGP",numeric:"702"},{country:"Sint Maarten",alpha2:"SX",alpha3:"SXM",numeric:"534"},{country:"Slovakia",alpha2:"SK",alpha3:"SVK",numeric:"703"},{country:"Slovenia",alpha2:"SI",alpha3:"SVN",numeric:"705"},{country:"Solomon Islands",alpha2:"SB",alpha3:"SLB",numeric:"090"},{country:"Somalia",alpha2:"SO",alpha3:"SOM",numeric:"706"},{country:"South Africa",alpha2:"ZA",alpha3:"ZAF",numeric:"710"},{country:"South Georgia and the South Sandwich Islands",alpha2:"GS",alpha3:"SGS",numeric:"239"},{country:"South Sudan",alpha2:"SS",alpha3:"SSD",numeric:"728"},{country:"Spain",alpha2:"ES",alpha3:"ESP",numeric:"724"},{country:"Sri Lanka",alpha2:"LK",alpha3:"LKA",numeric:"144"},{country:"Sudan",alpha2:"SD",alpha3:"SDN",numeric:"729"},{country:"Suriname",alpha2:"SR",alpha3:"SUR",numeric:"740"},{country:"Svalbard and Jan Mayen",alpha2:"SJ",alpha3:"SJM",numeric:"744"},{country:"Swaziland",alpha2:"SZ",alpha3:"SWZ",numeric:"748"},{country:"Sweden",alpha2:"SE",alpha3:"SWE",numeric:"752"},{country:"Switzerland",alpha2:"CH",alpha3:"CHE",numeric:"756"},{country:"Syrian Arab Republic",alpha2:"SY",alpha3:"SYR",numeric:"760"},{country:"Taiwan",alpha2:"TW",alpha3:"TWN",numeric:"158"},{country:"Tajikistan",alpha2:"TJ",alpha3:"TJK",numeric:"762"},{country:"United Republic of Tanzania",alpha2:"TZ",alpha3:"TZA",numeric:"834"},{country:"Thailand",alpha2:"TH",alpha3:"THA",numeric:"764"},{country:"Timor-Leste",alpha2:"TL",alpha3:"TLS",numeric:"626"},{country:"Togo",alpha2:"TG",alpha3:"TGO",numeric:"768"},{country:"Tokelau",alpha2:"TK",alpha3:"TKL",numeric:"772"},{country:"Tonga",alpha2:"TO",alpha3:"TON",numeric:"776"},{country:"Trinidad and Tobago",alpha2:"TT",alpha3:"TTO",numeric:"780"},{country:"Tunisia",alpha2:"TN",alpha3:"TUN",numeric:"788"},{country:"Turkey",alpha2:"TR",alpha3:"TUR",numeric:"792"},{country:"Turkmenistan",alpha2:"TM",alpha3:"TKM",numeric:"795"},{country:"Turks and Caicos Islands",alpha2:"TC",alpha3:"TCA",numeric:"796"},{country:"Tuvalu",alpha2:"TV",alpha3:"TUV",numeric:"798"},{country:"Uganda",alpha2:"UG",alpha3:"UGA",numeric:"800"},{country:"Ukraine",alpha2:"UA",alpha3:"UKR",numeric:"804"},{country:"United Arab Emirates",alpha2:"AE",alpha3:"ARE",numeric:"784"},{country:"United Kingdom",alpha2:"GB",alpha3:"GBR",numeric:"826"},{country:"United States of America",alpha2:"US",alpha3:"USA",numeric:"840"},{country:"United States Minor Outlying Islands",alpha2:"UM",alpha3:"UMI",numeric:"581"},{country:"Uruguay",alpha2:"UY",alpha3:"URY",numeric:"858"},{country:"Uzbekistan",alpha2:"UZ",alpha3:"UZB",numeric:"860"},{country:"Vanuatu",alpha2:"VU",alpha3:"VUT",numeric:"548"},{country:"Venezuela",alpha2:"VE",alpha3:"VEN",numeric:"862"},{country:"Viet Nam",alpha2:"VN",alpha3:"VNM",numeric:"704"},{country:"Virgin Islands",alpha2:"VG",alpha3:"VGB",numeric:"092"},{country:"Virgin Islands",alpha2:"VI",alpha3:"VIR",numeric:"850"},{country:"Wallis and Futuna",alpha2:"WF",alpha3:"WLF",numeric:"876"},{country:"Western Sahara",alpha2:"EH",alpha3:"ESH",numeric:"732"},{country:"Yemen",alpha2:"YE",alpha3:"YEM",numeric:"887"},{country:"Zambia",alpha2:"ZM",alpha3:"ZMB",numeric:"894"},{country:"Zimbabwe",alpha2:"ZW",alpha3:"ZWE",numeric:"716"}]},165:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(29),m=a.n(u),p=a(90),d=a.n(p),h=a(9),b=a.n(h),f=a(46),g=a.n(f),v=a(104),E=a(78),y=a(11).a.api.middleware.batchHandler.baseUrl,k=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={subject:e.props.subject||"",message:e.props.message||"",toList:e.props.toList||[],ccList:e.props.ccList||[],bccList:e.props.bccList||[],ccVisibility:!!e.props.ccAddress||!b()(e.props.ccList),bccVisibility:!!e.props.bccAddress||!b()(e.props.bccList)},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({subject:e.props.subject||"",message:e.props.message||"",ccVisibility:!!e.props.ccAddress||!b()(e.props.ccList),bccVisibility:!!e.props.bccAddress||!b()(e.props.bccList),toList:e.props.toList||[],ccList:e.props.ccList||[],bccList:e.props.bccList||[]})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e.getShareURL=function(){var t=Object(E.a)(e.state.toList),a=Object(E.a)(e.state.ccList),n=Object(E.a)(e.state.bccList),r=e.state,o=r.subject,s=r.message;if(!e.props.onGenerateClick){var i=d.a.stringify({cc:a,bcc:n,subject:o,body:s}),c=new m.a(t,{protocol:"mailto:"}).set("query",i);return encodeURIComponent(c.href)}var l=new m.a("".concat(y,"/mail/compose"),!0),u={"rb-dashboard-composer":"mailto",to:btoa(t),cc:btoa(a),bcc:btoa(n),body:s,subject:o};return Object.keys(u).forEach((function(e){u[e]||delete u[e]})),l.set("query",u),encodeURIComponent(l.href)},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.subject!==e.subject&&this.setState({subject:this.props.subject}),this.props.message!==e.message&&this.setState({message:this.props.message}),this.props.ccAddress!==e.ccAddress&&this.setState({ccVisibility:!!this.props.ccAddress||!b()(this.props.ccList)}),this.props.bccAddress!==e.bccAddress&&this.setState({bccVisibility:!!this.props.bccAddress||!b()(this.props.bccList)}),g()(this.props.toList,e.toList)||this.setState({toList:this.props.toList}),g()(this.props.ccList,e.ccList)||this.setState({ccList:this.props.ccList,ccVisibility:!!this.props.ccAddress||!b()(this.props.ccList)}),g()(this.props.bccList,e.bccList)||this.setState({bccList:this.props.bccList,bccVisibility:!!this.props.bccAddress||!b()(this.props.bccList)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.onChange,o=t.skipForm,s=t.alertMessage,i=t.onGenerateClick,u=t.className,m=t.onOpen,p=t.disabled,d=!b()(this.state.toList)&&Object(E.b)(this.state.toList)&&Object(E.b)(this.state.ccList)&&Object(E.b)(this.state.bccList),h={tooltipOverlay:l.a.createElement("span",null,"Users who click your branded link will be",l.a.createElement("br",null),"able to email the configured message in",l.a.createElement("br",null),"their pre-defined email app"),emailPickers:[{id:1,name:"emailAddress",value:this.props.emailAddress,emails:this.state.toList,inputLabel:"To (separate multiple emails with \u201c;\u201d)",placeholder:"john@email.com",inputOnUpdate:function(t){return e.setState({toList:t})},visible:!0},{id:2,name:"ccAddress",value:this.props.ccAddress,emails:this.state.ccList,inputLabel:"CC (optional)",placeholder:"john@email.com",inputOnUpdate:function(t){return e.setState({ccList:t})},buttonLabel:"CC",onClick:function(){return e.setState({ccVisibility:!0})},visible:this.state.ccVisibility},{id:3,name:"bccAddress",value:this.props.bccAddress,emails:this.state.bccList,inputLabel:"BCC (optional)",placeholder:"john@email.com",inputOnUpdate:function(t){return e.setState({bccList:t})},buttonLabel:"BCC",onClick:function(){return e.setState({bccVisibility:!0})},visible:this.state.bccVisibility}],inputs:[{id:4,name:"subject",value:this.state.subject,inputLabel:"Subject (optional)",placeholder:"Subject",inputOnTyping:function(t){return e.setState({subject:t})},visible:!0}],textAreas:[{id:1,name:"message",value:this.state.message,label:"Message (optional)",placeholder:"Message text",onTyping:function(t){return e.setState({message:t})}}],primaryButtonProps:{disabled:!d},secondaryButtonProps:this.props.deleteProps&&Object(n.a)({},this.props.deleteProps),onChange:r};return this.props.deleteProps&&this.props.buttonLabel&&(h.primaryButtonProps.label=this.props.buttonLabel),l.a.createElement(c.Fragment,null,l.a.createElement(v.a,{className:u,socialName:"Email",formOptions:h,getShareURL:this.getShareURL,onGenerateClick:i&&this.handleGenerateUrl,onClose:this.handleClose,onOpen:m,skipForm:o,alertMessage:s,disabled:p},a))}}]),a}(c.PureComponent);t.a=k},166:function(e,t,a){"use strict";var n=a(2),r=a(28),o=a(0),s=a.n(o),i=a(29),c=a.n(i),l=a(90),u=a.n(l),m=a(9),p=a.n(m),d=a(153),h=a.n(d),b=a(397),f=a(104),g=a(78),v=a(11).a.api.middleware.batchHandler.baseUrl;t.a=function(e){var t=Object(o.useState)(e.message||""),a=Object(r.a)(t,2),i=a[0],l=a[1],m=Object(o.useState)(e.toList||[]),d=Object(r.a)(m,2),E=d[0],y=d[1];Object(o.useEffect)((function(){l(e.message||""),y(e.toList||[])}),[e.message,e.toList]);var k=function(){e.onClose&&e.onClose(),l(e.message||""),y(e.toList||[])},O=function(){var t=Object(g.a)(E);if(!e.onGenerateClick){var a=new c.a(t,{protocol:"sms:"});return encodeURIComponent("".concat(a.href,"?&body=").concat(encodeURIComponent(i)))}var n=new c.a("".concat(v,"/sms/compose")),r={"rb-dashboard-composer":"sms",to:btoa(t),body:i};return n.set("query",u.a.stringify(r)),encodeURIComponent(n.href)},w=e.children,j=e.onChange,C=e.skipForm,N=e.alertMessage,S=e.onGenerateClick,x=e.className,L=e.onOpen,T=e.disabled,_=!p()(E)&&Object(g.c)(E),D={tooltipOverlay:s.a.createElement("span",null,"Users who click your branded link will be",s.a.createElement("br",null),"able to send the configured message in",s.a.createElement("br",null),"their pre-defined SMS app"),emailPickers:[{id:1,name:"number",value:e.number,emails:E,inputLabel:"Phone number (separate multiple numbers with \u201c;\u201d)",placeholder:"e.g. +44654321",validator:function(e){var t=!1,a=Object(b.a)(e);return a&&(t=a.isValid()),h()(e,"^\\+?\\d*$")&&t},message:"Phone number not valid",inputOnUpdate:function(e){return y(e)},disabled:E.length>=10,visible:!0}],textAreas:[{id:1,name:"message",value:i,label:"Message",placeholder:"Message text",onTyping:function(e){return l(e)}}],onClick:function(){return S(O())},primaryButtonProps:{disabled:!_},secondaryButtonProps:e.deleteProps&&Object(n.a)({},e.deleteProps),onChange:j};return e.deleteProps&&e.buttonLabel&&(D.primaryButtonProps.label=e.buttonLabel),s.a.createElement(o.Fragment,null,s.a.createElement(f.a,{className:x,socialName:"SMS",formOptions:D,getShareURL:O,onGenerateClick:S&&function(t){return new Promise((function(a){return a(e.onGenerateClick(t))})).then((function(){return k()}))},onClose:k,skipForm:C,alertMessage:N,onOpen:L,disabled:T},w))}},167:function(e,t,a){"use strict";var n=a(2),r=a(28),o=a(0),s=a.n(o),i=a(397),c=a(29),l=a.n(c),u=a(90),m=a.n(u),p=a(153),d=a.n(p),h=a(104),b=a(11).a.api.middleware.batchHandler.baseUrl;t.a=function(e){var t=Object(o.useState)(e.phoneNumber||""),a=Object(r.a)(t,2),c=a[0],u=a[1];Object(o.useEffect)((function(){u(e.phoneNumber||"")}),[e.phoneNumber]);var p=function(){e.onClose&&e.onClose(),u(e.phoneNumber||"")},f=e.children,g=e.onChange,v=e.skipForm,E=e.alertMessage,y=e.onGenerateClick,k=e.onOpen,O=e.disabled,w=!1,j={},C=Object(i.a)(c);C&&(w=C.isValid()),c&&!w&&(j={message:"Phone number not valid",theme:"warning"});var N={text:"Make sure you include the proper country code",inputs:[Object(n.a)({id:1,name:"phone",value:c,inputLabel:"Recipient phone number",placeholder:"e.g. +44654321",inputOnTyping:function(e){if(!e)return u(e);if(d()(e,"^\\+?\\d*$")){var t=e.replace(/^\+?/,"+");return u(t)}},visible:!0},j)],primaryButtonProps:{disabled:!(c&&w)},secondaryButtonProps:e.deleteProps&&Object(n.a)({},e.deleteProps),tooltipOverlay:s.a.createElement("span",null,"Users who click your branded link",s.a.createElement("br",null),"will be able to call the number with",s.a.createElement("br",null),"their pre-defined phone call app"),onChange:g};return e.deleteProps&&e.buttonLabel&&(N.primaryButtonProps.label=e.buttonLabel),s.a.createElement(o.Fragment,null,s.a.createElement(h.a,{socialName:"Telephone",formOptions:N,getShareURL:function(){if(!e.onGenerateClick){var t=new l.a(c,{protocol:"tel:"});return encodeURIComponent(t.href)}var a=new l.a("".concat(b,"/tel/compose")),n={"rb-dashboard-composer":"tel",to:btoa(c)};return a.set("query",m.a.stringify(n)),encodeURIComponent(a.href)},onGenerateClick:y&&function(t){return new Promise((function(a){return a(e.onGenerateClick(t))})).then((function(){return p()}))},onClose:p,skipForm:v,alertMessage:E,onOpen:k,disabled:O},f))}},168:function(e,t,a){"use strict";var n=a(17),r=a(15),o=a(2),s=a(4),i=a(5),c=a(6),l=a(7),u=a(0),m=a.n(u),p=a(14),d=a(1),h=a(19),b=a(46),f=a.n(b),g=a(109),v=a.n(g),E=a(3),y=a.n(E),k=a(33),O=a.n(k),w=a(24),j=a.n(w),C=a(127),N=a(9),S=a.n(N),x=a(143),L=a.n(x),T=a(92),_=a.n(T),D=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.controller,t=this.props,a=t.canManageOptions,n=t.selectedElements,r=t.onChange,s=t.canEdit,i=t.canAddMore,c=t.options,l={selectedElements:n,onChange:r,canManageOptions:a,canAddMore:i,options:c},p=[];if(n){if(!S()(n)&&0===this.props.showMoreAfter)return m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},"".concat(n.length," ").concat(Object(h.capitalize)(j()(this.props.resource,n.length))));p=L()(this.props.showMoreAfter)?n:n.slice(0,this.props.showMoreAfter)}return m.a.createElement("div",{className:"OptionRow__body OptionRow__selected-tags-scripts"},p.map((function(t,a){if(!t)return!1;var i=_()(t)?t.name:String(t);t.icon&&(i=m.a.createElement(u.Fragment,null,m.a.createElement("span",{className:"m-r-4"},t.icon),i));var c={};return t.color&&(c.color=t.color),s&&(c=Object(o.a)(Object(o.a)({},c),{},{addOn:{icon:{name:"ic-cross",color:"white",size:"tiny"},onClick:function(e){e.preventDefault(),e.stopPropagation(),r(n.filter((function(e){return e.id!==t.id})).map((function(e){return e.id})))}}})),m.a.createElement(u.Fragment,{key:t.id||t},a>0&&m.a.createElement("div",{className:"Text--SubDetail m-r-8"},"or"),m.a.createElement("div",{"rb-test-id":"selected-elements",className:"OptionRow__selected-tag-script"},s?m.a.createElement(e,l,m.a.createElement(d.Tag,c,i)):m.a.createElement(d.Tag,c,i)))})),s&&m.a.createElement(e,Object.assign({},l,{forceOpen:S()(n)}),m.a.createElement("div",null,S()(n)&&m.a.createElement(d.Button,{theme:"select",label:"Select ".concat(this.props.label)}),!S()(n)&&!L()(this.props.showMoreAfter)&&n.length>this.props.showMoreAfter&&m.a.createElement(d.Button,{theme:"select",label:"...and ".concat(n.length-this.props.showMoreAfter," more")}),!S()(n)&&(L()(this.props.showMoreAfter)||n.length<=this.props.showMoreAfter)&&m.a.createElement(d.Icon,{className:"OptionRow__add",name:"ic-add",size:"xsmall"}))),!s&&!S()(n)&&!L()(this.props.showMoreAfter)&&n.length>this.props.showMoreAfter&&m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail"},"...and ".concat(n.length-this.props.showMoreAfter," more")))}}]),a}(u.PureComponent);D.defaultProps={selectedElements:[],resource:"resource",options:[]};var A=D,I=a(198),M=(a(671),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:e.props.value||"",isOpen:!0},e.openDropdown=function(){return e.setState({isOpen:!0})},e.closeDropdown=function(){return e.setState({isOpen:!1})},e.handleChange=function(t){e.props.onChange&&e.props.onChange(t),e.setState({value:t})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit&&e.props.onSubmit(e.state.value),e.closeDropdown()},e}return Object(i.a)(a,[{key:"render",value:function(){return m.a.createElement(d.Dropdown,{isOpen:this.state.isOpen,onOpen:this.openDropdown},m.a.createElement(d.Trigger,null,m.a.createElement(d.Button,{theme:"select",label:this.props.value||this.props.triggerLabel||"Insert a value"})),m.a.createElement(d.Content,{className:"p-16"},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"OptionDropdown"},m.a.createElement(d.Label,{value:"Value"},m.a.createElement(d.Input,{placeholder:this.props.placeholder||"Parameter",onChange:this.handleChange,value:this.state.value,autoFocus:!0,submit:m.a.createElement(d.Button,{label:"Save",theme:"primary",disabled:!this.state.value,onClick:this.handleSubmit})}))))))}}]),a}(u.PureComponent)),R=a(376),P=a(44),z=(a(1296),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderValues",value:function(){var e=this,t=Object(P.f)(this.props.condition.property);switch(t.operator){case"id":case"entity":var a=y()(t,"store"),n=this.props.getCollection(a),r=(this.props.condition.values||[]).map((function(e){return n[e]||{id:e,name:e}})),s=t.controller,i=t.limit?this.props.canAddMore&&r.length<t.limit:this.props.canAddMore;return m.a.createElement(C.a,{controller:m.a.createElement(s,{canManageOptions:this.props.canManageOptions,canAddMore:i,tooltipOverlay:m.a.createElement("span",null,"You can add up to ",t.limit," ",j()(t.resource)," for each report,",m.a.createElement("br",null),"please deselect one to continue")}),resource:t.resource,selectedElements:r,canEdit:this.props.canEdit,showMoreAfter:this.props.showMoreAfter,onChange:function(t){return e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:t.map((function(e){return e.id}))}))}});case"preset":var c=t.limit?this.props.canAddMore&&(this.props.condition.values||[]).length>t.limit:this.props.canAddMore;return m.a.createElement(A,{controller:t.controller,label:t.label,options:t.options,resource:t.resource,selectedElements:(this.props.condition.values||[]).map((function(e){return t.options.find((function(t){return t.id===e}))})),canManageOptions:this.props.canManageOptions,canEdit:this.props.canEdit,canAddMore:c,showMoreAfter:this.props.showMoreAfter,onChange:function(t){return e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:t}))}});case"numeric":var l=t.options.find((function(t){return t.value===e.props.condition.values}));return this.props.canEdit?m.a.createElement(I.a,{className:"m-r-8",options:t.options,value:l,onChange:function(t){return e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:t}))}}):m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},l.label);case"date":var u="range"===this.props.condition.operator,p=this.props.condition.values,h=function(t){return v()(t)?e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:[t.startDate,t.endDate]})):e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:[t]}))};if(this.props.canEdit){if(!u&&!y()(p,"[0]"))return h(O()().format("YYYY-MM-DD")),null;if(u&&!y()(p,"[1]")){var b=O()().format("YYYY-MM-DD");return h({startDate:b,endDate:b}),null}var f=O()(y()(p,"[0]")),g=y()(p,"[1]")&&O()(p[1]);return u?m.a.createElement(R.a,{label:f&&g?f.format("DD-MM-YY")+" - "+g.format("DD-MM-YY"):"Select a range",onDateRangeChanged:h,startDate:f.toDate(),endDate:g&&g.toDate(),showCalendar:!0,showQuickOptions:!1}):m.a.createElement(d.DatePicker,{selected:f.toDate(),minDate:O()().toDate(),customInput:m.a.createElement(d.Button,{theme:"select",label:f.format("DD-MM-YYYY")}),onChange:function(e){return h(O()(e).format("YYYY-MM-DD"))}})}return m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},p[0]&&O()(y()(p,"[0]")).format("DD-MM-YYYY"),p[1]&&" - "+O()(y()(p,"[1]")).format("DD-MM-YYYY"));case"string":return this.props.canEdit?m.a.createElement(M,{placeholder:t.placeholder,triggerLabel:t.triggerLabel,value:this.props.condition.values,onSubmit:function(t){return e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:t}))}}):m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},this.props.condition.values);case"bool":var E=t.options||[{label:"True",value:!0},{label:"False",value:!1}];return this.props.canEdit?m.a.createElement(I.a,{className:"m-r-8",options:E,value:E.find((function(t){return t.value===e.props.condition.values})),onChange:function(t){return e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{values:t}))}}):m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},this.props.condition.values);default:return!1}}},{key:"render",value:function(){var e=this;switch(Object(P.e)(this.props.condition)){case"condition":var t=Object(P.f)(this.props.condition.property),s=Object(h.capitalize)(t.label);return m.a.createElement("div",{className:"col-xs-10 flex full-width"},m.a.createElement(d.Icon,{name:t.icon,size:"xsmall",color:"#c7c9cb"}),m.a.createElement("div",{className:"flex between-xs full-width m-l-12"},m.a.createElement("div",{className:"OptionRow__body"},m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail"},s)," ",this.props.canEdit&&t.operators.length>1?m.a.createElement(I.a,{className:"m-r-8",options:t.operators,value:t.operators.find((function(t){return t.value===e.props.condition.operator})),onChange:function(t){e.props.onChange(Object(o.a)(Object(o.a)({},e.props.condition),{},{operator:t}))}}):m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},y()(t.operators.find((function(t){return t.value===e.props.condition.operator})),"label",this.props.condition.operator)),this.renderValues()),this.props.canEdit&&this.props.onDelete&&m.a.createElement("div",{className:"flex end-xs"},m.a.createElement(d.Icon,{className:"OptionRow__delete",name:"ic-trash-bin",size:"xsmall",onClick:this.props.onDelete}))));case"formula":var i=Object.keys(this.props.condition)[0];return m.a.createElement(u.Fragment,null,m.a.createElement("div",{className:"GridRow row"},m.a.createElement("div",{className:"col-xs-2"},m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail"},"Match")),m.a.createElement("div",{className:"col-xs"},this.props.canEdit?m.a.createElement(I.a,{options:P.b,value:P.b.find((function(e){return f()(e.value,i)})),onChange:function(t){var a=Object.values(e.props.condition)[0];e.props.onChange(Object(r.a)({},t,a))}}):m.a.createElement(d.Text,{size:"small",className:"Text--SubDetail font-semibold"},y()(P.b.find((function(e){return f()(e.value,i)})),"label")))),this.props.condition[i].map((function(t,o){return m.a.createElement("div",{key:"condition_"+o,className:"GridRow row"},m.a.createElement("div",{className:"col-xs-2 Text--SubDetail"},0===o?"When":i),m.a.createElement(a,{canEdit:e.props.canEdit,canManageOptions:e.props.canManageOptions,canAddMore:e.props.canAddMore,condition:t,getCollection:e.props.getCollection,showMoreAfter:e.props.showMoreAfter,onDelete:function(){e.props.onChange(Object(r.a)({},i,e.props.condition[i].filter((function(e,t){return t!==o}))))},onChange:function(t){var a=Object(n.a)(e.props.condition[i]);a[o]=t,e.props.onChange(Object(r.a)({},i,a))}}))})));default:return null}}}]),a}(u.PureComponent));z.defaultProps={canEdit:!0,canAddMore:!1,canManageOptions:!1};t.a=Object(p.b)((function(e){return{getCollection:function(t){return y()(e,"".concat(t,".items"),[])}}}))(z)},169:function(e,t,a){"use strict";a.d(t,"b",(function(){return k})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return w})),a.d(t,"d",(function(){return j}));var n=a(32),r=a.n(n),o=a(55),s=a(17),i=a(15),c=a(2),l=a(53),u=a.n(l),m=a(10),p=a(8),d=a(41),h=a(56),b=a(362),f=Object(m.b)("LOAD_PARAMS_TEMPLATES"),g=Object(m.b)("CREATE_PARAMS_TEMPLATE"),v=Object(m.b)("UPDATE_PARAMS_TEMPLATE"),E=Object(m.b)("DELETE_PARAMS_TEMPLATE"),y={isLoading:!1,items:{},list:[]};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a.FULFILLED:return y;case f.PENDING:case g.PENDING:return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case f.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,items:t.payload.reduce((function(e,t){return Object.assign(e,Object(i.a)({},t.id,t))}),{}),list:a});case f.REJECTED:case g.REJECTED:return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,items:{}});case g.FULFILLED:return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,items:Object.assign({},Object(i.a)({},t.payload.id,t.payload),e.items),list:[t.payload.id].concat(Object(s.a)(e.list))});case v.FULFILLED:return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},t.payload.id,t.payload))});case E.FULFILLED:return Object(c.a)(Object(c.a)({},e),{},{items:u()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id}))});default:return e}}function O(e){return function(t){return t({type:f,payload:Object(p.gc)(e).catch((function(e){return[]}))})}}function w(e,t){return function(a){return a({type:g,payload:Object(p.O)({name:e},t).then(function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.a)(h.p,function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.V)(a.id,n,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{}}))})}}function j(e,t){return{type:v,payload:Object(p.Wd)(e.id,e,t)}}},171:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(11),r="available",o="unavailable",s="unknown",i={env:n.b,baseUrls:{primus:n.a.primusUrl,api:n.a.api.baseUrl,domainPrefix:n.a.api.domainPrefix.baseUrl}}},178:function(e,t,a){"use strict";var n=a(37),r=a(0),o=a.n(r),s=a(490),i=a.n(s),c=a(31),l=a(11);t.a=function(e){var t=e.destination,a=Object(n.a)(e,["destination"]),r="https://www.google.com/s2/favicons?domain=".concat(t&&i.a.parse(t).hostname),s=Object(c.o)(t);if(Object(c.n)(t))switch(s["rb-dashboard-composer"]){case c.f:r="".concat(l.a.cdn.assetsBaseUrl,"/images/mailto-favicon-2.png");break;case c.h:r="".concat(l.a.cdn.assetsBaseUrl,"/images/sms-favicon.png");break;case c.j:r="".concat(l.a.cdn.assetsBaseUrl,"/images/tel-favicon.png")}return o.a.createElement("img",Object.assign({src:r,alt:t?"".concat(t," favicon"):"Placeholder favicon"},a))}},179:function(e,t,a){"use strict";t.a={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"\u0430\u04a7\u0441\u0443\u0430 \u0431\u044b\u0437\u0448\u04d9\u0430"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"\u12a0\u121b\u122d\u129b"},an:{name:"Aragonese",nativeName:"aragon\xe9s"},ar:{name:"Arabic",nativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"},as:{name:"Assamese",nativeName:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"},av:{name:"Avaric",nativeName:"\u0430\u0432\u0430\u0440 \u043c\u0430\u0446\u04c0"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"az\u0259rbaycan dili"},ba:{name:"Bashkir",nativeName:"\u0431\u0430\u0448\u04a1\u043e\u0440\u0442 \u0442\u0435\u043b\u0435"},be:{name:"Belarusian",nativeName:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f \u043c\u043e\u0432\u0430"},bg:{name:"Bulgarian",nativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a"},bh:{name:"Bihari",nativeName:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"\u09ac\u09be\u0982\u09b2\u09be"},bo:{name:"Tibetan Standard",nativeName:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"catal\xe0"},ce:{name:"Chechen",nativeName:"\u043d\u043e\u0445\u0447\u0438\u0439\u043d \u043c\u043e\u0442\u0442"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423"},cs:{name:"Czech",nativeName:"\u010de\u0161tina"},cu:{name:"Old Church Slavonic",nativeName:"\u0469\u0437\u044b\u043a\u044a \u0441\u043b\u043e\u0432\u0463\u043d\u044c\u0441\u043a\u044a"},cv:{name:"Chuvash",nativeName:"\u0447\u04d1\u0432\u0430\u0448 \u0447\u04d7\u043b\u0445\u0438"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"Dhivehi"},dz:{name:"Dzongkha",nativeName:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41"},ee:{name:"Ewe",nativeName:"E\u028begbe"},el:{name:"Greek",nativeName:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espa\xf1ol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"\u0641\u0627\u0631\u0633\u06cc"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"Vakaviti"},fo:{name:"Faroese",nativeName:"f\xf8royskt"},fr:{name:"French",nativeName:"Fran\xe7ais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"G\xe0idhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran\xed",nativeName:"Ava\xf1e'\u1ebd"},gu:{name:"Gujarati",nativeName:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"\u0647\u064e\u0648\u064f\u0633\u064e"},he:{name:"Hebrew (HE)",nativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea"},hi:{name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"hrvatski jezik"},ht:{name:"Haitian",nativeName:"Krey\xf2l ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Indonesian"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"As\u1ee5s\u1ee5 Igbo"},ii:{name:"Nuosu",nativeName:"\ua188\ua320\ua4bf Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"I\xf1upiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"\xcdslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"\u1403\u14c4\u1483\u144e\u1450\u1466"},iw:{name:"Hebrew (IW)",nativeName:"Hebrew (IW)"},ja:{name:"Japanese",nativeName:"\u65e5\u672c\u8a9e"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"G\u0129k\u0169y\u0169"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"\u049b\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"\u1781\u17c1\u1798\u179a\u1797\u17b6\u179f\u17b6"},kn:{name:"Kannada",nativeName:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},ko:{name:"Korean",nativeName:"\ud55c\uad6d\uc5b4"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"\u0915\u0936\u094d\u092e\u0940\u0930\u0940"},ku:{name:"Kurdish",nativeName:"Kurd\xee"},kv:{name:"Komi",nativeName:"\u043a\u043e\u043c\u0438 \u043a\u044b\u0432"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"L\xebtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Ling\xe1la"},lo:{name:"Lao",nativeName:"\u0e9e\u0eb2\u0eaa\u0eb2"},lt:{name:"Lithuanian",nativeName:"lietuvi\u0173 kalba"},lu:{name:"Luba-Katanga",nativeName:"Tshiluba"},lv:{name:"Latvian",nativeName:"latvie\u0161u valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M\u0327aje\u013c"},mi:{name:"M\u0101ori",nativeName:"te reo M\u0101ori"},mk:{name:"Macedonian",nativeName:"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},ml:{name:"Malayalam",nativeName:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},mn:{name:"Mongolian",nativeName:"\u041c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b"},mr:{name:"Marathi",nativeName:"\u092e\u0930\u093e\u0920\u0940"},ms:{name:"Malay",nativeName:"\u0647\u0627\u0633 \u0645\u0644\u0627\u064a\u0648\u200e"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"\u1017\u1019\u102c\u1005\u102c"},na:{name:"Nauru",nativeName:"Ekakair\u0169 Naoero"},nb:{name:"Norwegian Bokm\xe5l",nativeName:"Norsk bokm\xe5l"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"\u0928\u0947\u092a\u093e\u0932\u0940"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din\xe9 bizaad"},ny:{name:"Chichewa",nativeName:"chiChe\u0175a"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"\u0b13\u0b21\u0b3c\u0b3f\u0b06"},os:{name:"Ossetian",nativeName:"\u0438\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433"},pa:{name:"Panjabi",nativeName:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},pi:{name:"P\u0101li",nativeName:"\u092a\u093e\u0934\u093f"},pl:{name:"Polish",nativeName:"j\u0119zyk polski"},ps:{name:"Pashto",nativeName:"\u067e\u069a\u062a\u0648"},pt:{name:"Portuguese",nativeName:"Portugu\xeas"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"limba rom\xe2n\u0103"},ru:{name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"\u0938\u093f\u0928\u094d\u0927\u0940"},se:{name:"Northern Sami",nativeName:"Davvis\xe1megiella"},sg:{name:"Sango",nativeName:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},si:{name:"Sinhala",nativeName:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"},sk:{name:"Slovak",nativeName:"sloven\u010dina"},sl:{name:"Slovene",nativeName:"slovenski jezik"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},te:{name:"Telugu",nativeName:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},tg:{name:"Tajik",nativeName:"\u0442\u043e\u04b7\u0438\u043a\u04e3"},th:{name:"Thai",nativeName:"\u0e44\u0e17\u0e22"},ti:{name:"Tigrinya",nativeName:"\u1275\u130d\u122d\u129b"},tk:{name:"Turkmen",nativeName:"T\xfcrkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"T\xfcrk\xe7e"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043b\u0435"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5\u200e"},uk:{name:"Ukrainian",nativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},ur:{name:"Urdu",nativeName:"\u0627\u0631\u062f\u0648"},uz:{name:"Uzbek",nativeName:"\u040e\u0437\u0431\u0435\u043a"},ve:{name:"Venda",nativeName:"Tshiven\u1e13a"},vi:{name:"Vietnamese",nativeName:"Ti\u1ebfng Vi\u1ec7t"},vo:{name:"Volap\xfck",nativeName:"Volap\xfck"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9"},yo:{name:"Yoruba",nativeName:"Yor\xf9b\xe1"},za:{name:"Zhuang",nativeName:"Sa\u026f cue\u014b\u0185"},zh:{name:"Chinese",nativeName:"\u4e2d\u6587"},zu:{name:"Zulu",nativeName:"isiZulu"},others:{name:"Others",nativeName:"unknown"}}},18:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return d}));var n=a(15),r=a(2),o=a(53),s=a.n(o),i=a(10),c=Object(i.a)("APPEND_NOTIFICATION"),l=Object(i.a)("REMOVE_NOTIFICATION"),u={items:{}};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),{},Object(n.a)({},t.notification.id,t.notification))});case l:return Object(r.a)(Object(r.a)({},e),{},{items:s()(e.items,t.payload.id)});default:return e}}var p=function(e,t,a,n,r){var o=Date.now();return{type:c,notification:{type:e,id:o,timestamp:o,title:t,message:a,cta:n,duration:r}}},d=function(e){return{type:l,payload:{id:e}}}},180:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(19),i=a(24),c=a.n(i),l=a(3),u=a.n(l),m=a(1),p=a(49),d=a(13),h=a(38),b=a(30),f=a(22);t.a=Object(o.b)((function(e,t){var a=e.workspaces.items[t.workspaceId];return{canInvite:Object(f.e)(e.account.id,t.workspaceId,e)!==f.b?Object(f.d)(e,t.workspaceId,"edit","workspaces.teammates"):Object(b.hasFeature)("collaboration.teammates",u()(e.account,"subscription.features")),canCreate:!u()(a,"subscription.limits.teammates")||Object(h.b)("teammates",a)>=1||Object(h.f)("teammates",e.account),overQuota:Object(h.e)("teammates",e.account),featureLimits:Object(b.getFeatureLimits)("teammates",a),availableTeammates:Object(h.b)("teammates",a)}}))((function(e){var t=e.canCreate,a=e.overQuota,n=(e.featureLimits,e.availableTeammates),o=e.canInvite,i=e.tooltip,l=e.children;if(!o){var h=r.a.createElement("span",null,"You are not allowed to invite teammates in this workspace."," ",r.a.createElement(d.a,{href:"https://support.rebrandly.com/hc/en-us/articles/115006434008-How-to-Update-or-Change-a-Workspace",target:"_blank"},"Learn more"));return r.a.createElement(m.Tooltip,{overlay:h},r.a.cloneElement(l,{disabled:!0}))}if(!t){var b=r.a.createElement("span",null,"You've reached the maximum number of teammates ",r.a.createElement("br",null),"in your current plan. You'll need to ",r.a.createElement(d.a,{to:"/pricing"},"upgrade your plan")," to ",r.a.createElement("br",null),"create more.");return r.a.createElement(m.Tooltip,{overlay:b},r.a.cloneElement(l,{disabled:!0}))}if(0===n&&a){var f=u()(a,"block.units",0),g=u()(a,"block.price.net",0);return r.a.createElement(p.a,{icon:{name:"ic-information",color:"#2281c2",size:"md"},tooltip:i,title:"Hang on!",message:r.a.createElement("span",null,"You've reached the maximum number of teammates in your current plan. For every ",r.a.createElement("strong",null,"additional ",Object(s.formatNumber)(f)," ",c()("teammate",f))," you will be billed ",r.a.createElement("strong",null,"$",Object(s.formatNumber)(g),"/month extra"),"."),primaryButtonProps:{label:"I agree",theme:"checkout"},secondaryButtonProps:{label:"Learn more",onClick:function(){return window.open("https://support.rebrandly.com/hc/en-us/articles/115001565594-How-Rebrandly-Pricing-Works")}}},l)}return r.a.createElement(m.Tooltip,Object.assign({display:!!i},i),l)}))},182:function(e,t,a){"use strict";var n=a(17),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(275),m=a(304),p=a(505),d=a(23),h=a.n(d),b=(a(511),0),f=0,g=0,v=0,E=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(r.a)(this,a),n=t.call(this,e);var o=e.data||[],s=!e.enableShowMore;return n.state={showAll:s,data:o,height:45*(s?o.length:o.length>5?5:o.length)},n.x=Object(u.b)(),n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=45*(this.state.showAll?this.props.data.length:this.props.data.length>5?5:this.props.data.length);this.props.data!==e.data&&this.setState({height:a,data:this.props.data}),t.showAll!==this.state.showAll&&this.setState({height:a})}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t,a=this.state.data.length,r=this.props.width-v-f,o=this.state.height+b+g,s=this.x.rangeRound([r,0]).domain([0,1]);if(this.state.showAll||a<=5)t=Object(n.a)(this.state.data);else{t=Object(n.a)(this.state.data).slice(0,4);var i=Object(n.a)(this.state.data).slice(4,a).reduce((function(e,t){return e+Number(t.value)}),0);t=[].concat(Object(n.a)(t),[{className:"other",label:"Other ".concat(this.props.name||"items"),icon:null,key:"other",value:i,onClick:function(){return e.setState({showAll:!0})}}])}return l.a.createElement("div",{className:"HorizontalBarChart--scrollable "+this.props.className,style:{position:"relative"}},l.a.createElement("svg",{width:this.props.width,height:o,className:"HorizontalBarChart"},l.a.createElement("g",{transform:"translate(".concat(v,", ").concat(b,")"),className:"chart"},l.a.createElement("g",{className:"axis axis--x axis--h",transform:"translate(0, ".concat(this.state.height,")")},l.a.createElement("g",{ref:function(e){return Object(p.a)(e).attr("class","grid").call(Object(m.a)(s).ticks(0))}})),t.map((function(a,n){var o=!!a.icon;return l.a.createElement("g",{key:a.key,onClick:a.onClick,className:h()("gRow",a.className),onMouseOver:function(t){return e.props.onMouseOver(a,t)},onMouseOut:function(t){return e.props.onMouseOut(a,t)}},l.a.createElement("rect",{onClick:function(t){return e.props.onSelect(a,t)},className:"bar",y:45*n,x:s(a.value||0),height:44,width:r-s(a.value||0)}),n<t.length-1&&l.a.createElement("line",{className:"backline",x1:0,y1:45*n+44,x2:r,y2:45*n+44}),l.a.createElement("text",{className:h()("values",{"values--grey":0===a.value}),x:r-12,y:45*n+27},(100*a.value).toFixed(2)+"%"),l.a.createElement("text",{className:h()("labels",{"labels--grey":0===a.value}),x:1===Number(a.value)?o?34:12:o?22:0,y:45*n+27},a.label||a.key))})))),t.map((function(e,t){var a=!!e.icon;return l.a.createElement("span",{key:t,style:{position:"absolute",left:(1===Number(e.value)&&a?12:0)+v,top:45*t+12+b,fill:"var(--color-black)"}},e.icon)})))}}]),a}(c.PureComponent);E.defaultProps={className:"",onMouseOver:function(e,t){},onMouseOut:function(e,t){},onSelect:function(e,t){},enableShowMore:!0},t.a=E},183:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(0),r=a.n(n),o=a(1),s=a(35),i=a(13),c=function(){return r.a.createElement(s.a,{size:"lg",illustration:r.a.createElement(o.SpotIllustration,{size:"lg",name:"ill-spot-broken-link",color:"var(--color-white)"}),title:"This workspace is no longer available",message:"Contact your workspace administrator for an invitation to another team",button:r.a.createElement(i.a,{to:"/links"},r.a.createElement(o.Button,{size:"lg",theme:"primary",label:"Go to links"}))})},l=function(e){var t=e.linkUrl;return r.a.createElement(s.a,{size:"lg",illustration:r.a.createElement(o.Illustration,{size:"lg",name:"ill-shield"}),title:"Protect your links with Rebrandly",message:r.a.createElement("span",null,"This link's stats are private, you need to be the owner of the link to see them"),button:r.a.createElement("div",{className:"Button__list"},r.a.createElement(i.a,{to:t},r.a.createElement(o.Button,{theme:"secondary",label:"View stats"})))})},u=function(e){var t=e.onButtonClick;return r.a.createElement(s.a,{size:"lg",illustration:r.a.createElement(o.Illustration,{size:"lg",name:"ill-shield"}),title:"Protect your links with Rebrandly",message:t?"The token has expired":"Token not valid",button:t&&r.a.createElement(o.Button,{className:"m-l-12",onClick:t,theme:"primary",label:"Reload page"})})},m=function(e){var t=e.text,a=void 0===t?"You can't report this workspace":t,n=e.showUpgradeButton,c=void 0===n||n,l=e.message,u=e.illustration,m=e.button;return r.a.createElement("div",{className:"p-t-48 p-b-128"},r.a.createElement(s.a,{"rb-test-id":"can-not-report-this-workspace",illustration:r.a.createElement(o.SpotIllustration,{name:u||c?"ill-spot-upgrade":"ill-spot-empty-list-reports",color:"var(--color-white)"}),title:a,button:m||c&&r.a.createElement(i.a,{to:"/pricing"},r.a.createElement(o.Button,{theme:"primary",label:"Upgrade your plan"})),message:l}))},p=function(){return r.a.createElement(s.a,{size:"lg",illustration:r.a.createElement(o.SpotIllustration,{size:"lg",name:"ill-spot-404"}),title:"This page does not exist",message:"We couldn\u2019t find the page you\u2019re looking for",button:r.a.createElement(i.a,{to:"/links"},r.a.createElement(o.Button,{size:"lg",theme:"primary",label:"Go to dashboard"}))})}},192:function(e,t,a){"use strict";var n=a(2),r=a(0),o=a.n(r),s=a(158);s.a.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.country,value:e.alpha2.toLowerCase(),icon:o.a.createElement("i",{className:"flag flag--tiny flag-"+e.alpha2.toLowerCase()})})}));t.a=function(e){return!!e&&(Number.isInteger(e)?(r=(r=e).toString(),s.a.find((function(e){return e.numeric===r}))):(n=(n=e).toUpperCase(),s.a.find((function(e){return e.country.toUpperCase()===n}))||(a=(a=e).toUpperCase(),s.a.find((function(e){return e.alpha3===a})))||(t=(t=e).toUpperCase(),s.a.find((function(e){return e.alpha2===t})))));var t,a,n,r}},193:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return E})),a.d(t,"a",(function(){return k}));var n=a(2),r=a(4),o=a(3),s=a.n(o),i=a(9),c=a.n(i),l=a(500),u=a.n(l),m=a(501),p=a.n(m),d=a(19),h=a(12),b=[{label:"Business",value:"company"},{label:"Personal",value:"individual"}],f=p.a.map((function(e){return{label:"+".concat(e[2]),value:e[1],name:e[0],prefix:"+".concat(e[2])}})),g=function(e){var t=p.a.find((function(t){return t[1]===e}));return t?t[0]:null},v=function(e,t,a){var n=t[e].conditionalRules;if(!n)return null;var r=n.find((function(e){return e.when.hasValues.includes(a[e.when.propertyName])}));return r?"example: ".concat(r.example):null},E=function(e,t){if(!t)return{};var a=t.find((function(t){return t.property===e}));return a?{theme:"error",message:s()(h.i.domainData,"".concat(e,".").concat(a.code,".message"),s()(h.i.domainData,"".concat(e,".message"),"This field has an error"))}:{}},y=function(e,t){if(!e)return null;switch(e.code){case"InvalidLength":return"Value cannot be different than ".concat(e.length," characters long.");case"InvalidMinLength":return"Value cannot be less then than ".concat(e.minLength," characters.");case"InvalidMaxLength":return"Value cannot be greater than ".concat(e.maxLength," characters long.");case"InvalidEmailAddress":return"Please insert a valid email address";case"OutOfRange":case"PatternMismatch":return"Invalid format";case"RequiredField":return"Required field";case"PrefixMismatch":return"Prefix mismatch for ".concat(t,". Must begin with '").concat(e.prefix,"'. Input was: '").concat(e.input);default:return"Unknown error \ud83d\ude14"}},k=function e(){var t=this;Object(r.a)(this,e),this.setFields=function(e){return!!(t.fields=e)},this.setData=function(e){return t.data=e,t.getForm(t.data)},this.getData=function(){return t.data},this.getFieldErrors=function(e){if(!t.errors)return null;var a={},n=null;for(var r in t.errors){var o=t.errors[r].errors.filter((function(t){return t.property===e}));o.length&&(n=!0,a[r]=o.map((function(t){return y(t,e)})))}return n&&a},this.getStateOptions=function(){return function(e,t){var a=s()(t,"country"),n=s()(e,"state");if(c()(a)||c()(n))return!1;var r=[];return n.conditionalValues.forEach((function(e,t){e.when.hasValues.includes(a)&&(r=e.values.map((function(e){return{label:Object(d.capitalize)(e),value:e}})))})),r}(t.fields,t.data)},this.getPlaceholder=function(e,a){return v(e,t.fields,a)},this.shouldShow=function(e,a){return function(e,t,a){var n=t[e];return!!n&&(!n.requiredWhen||n.requiredWhen.reduce((function(e,n){var r=n.propertyName;return"multiselector"===t[r].type?e&&u()(n.hasValues,s()(a,r)).length>0:e&&n.hasValues.includes(s()(a,r))}),!0))}(e,t.fields,a)},this.setErrors=function(e){return t.errors=e,t.getForm(t.data)},this.clearErrorFromField=function(e){for(var a in t.errors)t.errors[a].errors=t.errors[a].errors.filter((function(t){return t.property!==e}));return t.getForm(t.data)},this.getForm=function(e){var a={};return Object.keys(t.fields).filter((function(a){return t.shouldShow(a,e)})).forEach((function(r){var o=t.data[r],i=t.fields[r].values,c=i&&i.map((function(e){return{label:s()(t.fields[r],"labels[".concat(e,"]"),e),value:e}}));"string"===typeof o&&o.length&&(t.fields[r].uppercase&&(o=o.toUpperCase()),t.fields[r].lowercase&&(o=o.toLowerCase()));var l=null;t.fields[r].conditionalValues&&(t.fields[r].conditionalValues.forEach((function(a){var n=a.when.propertyName;if("multiselector"===t.fields[n].type){var r=u()(a.when.hasValues,s()(e,n));r.length>0&&(i=a.values,l={field:n,value:r},c=i&&i.map((function(e){return{label:s()(a,"labels[".concat(e,"]"),e),value:e}})))}else a.when.hasValues.includes(s()(e,n))&&(i=a.values,l={field:n,value:s()(e,n)},c=i&&i.map((function(e){return{label:s()(a,"labels[".concat(e,"]"),e),value:e}})))})),i.includes(o)||(o=null),i&&1===i.length&&(o=i[0]));var m=function(e,t,a){var n=t[e].conditionalRules;if(!n)return null;var r=n.find((function(e){return e.when.hasValues.includes(a[e.when.propertyName])}));return r?r.dummyValue:null}(r,t.fields,t.data);a[r]=Object(n.a)(Object(n.a)({},t.fields[r]),{},{placeholder:v(r,t.fields,t.data),value:m||o,values:i,options:c,error:t.getFieldErrors(r,t.data[r]),disabled:i&&1===i.length||!!m,dummyValue:m,restrictedBy:l})})),a}}},194:function(e,t,a){"use strict";var n=a(11),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(32),m=a.n(u),p=a(55),d=a(71),h=a(105),b=a(1),f=a(62),g=(a(1309),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={visible:!0},e.onSubmit=function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),t.abrupt("return",e.props.handleSubmit());case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.body.classList.remove("card-data-blurred");var t=this.props.history.location.pathname;this.historyListenerOff=this.props.history.listen((function(a){e.setState({visible:a.pathname===t})}))}},{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"componentWillUnmount",value:function(){this.historyListenerOff()}},{key:"render",value:function(){var e=this,t=this.context.theme===f.a,a={base:{letterSpacing:"0.2px",fontFamily:"helvetica, sans-serif",fontWeight:"lighter",color:t?"#f9f9fa":"#212732","::placeholder":{color:t?"#838893":"#C7C9CB"}},invalid:{color:"#E84E50",iconColor:"#E84E50"}};return l.a.createElement("form",{className:"StripeForm",onSubmit:this.onSubmit},this.state.visible&&l.a.createElement(h.CardElement,{onReady:this.props.handleCardElementReady,onChange:function(t){return e.props.handleCardChange(t)},className:"StripeForm__CardElement Form__control--input",options:{style:a}}),l.a.createElement("div",{className:"StripeForm__buttons m-t-36 text-center"},this.props.renderCancelButton({onClick:this.props.handleCancel}),this.props.renderSubmitButton({type:"submit"})),l.a.createElement("div",{className:"StripeForm__footer flex middle-xs center-xs m-t-24"},l.a.createElement(b.Text,{className:"Text--note m-r-4",size:"x-small"},"Powered by"),l.a.createElement(b.A,{href:"https://stripe.com",target:"_blank"},l.a.createElement("img",{alt:"stripe-logo",src:"".concat(n.a.cdn.assetsBaseUrl,"/images/logos/logo-stripe.svg")}))))}}]),a}(c.Component));g.defaultProps={renderCancelButton:function(){return null}},g.contextType=f.d;var v,E=Object(d.g)(g),y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(E,this.props)}}]),a}(c.Component);switch(n.a.payments.provider){case"stripe":v=y;break;case"braintree":default:v=y}t.a=v},196:function(e,t,a){"use strict";var n=a(17),r=a(4),o=a(5),s=a(6),i=a(7),c=a(2),l=a(0),u=a.n(l),m=a(1),p=a(9),d=a.n(p),h=a(52),b=a.n(h),f=a(3),g=a.n(f),v=a(14),E=a(377),y=a(264),k=a(81),O=a(11),w=function(e){return Object(c.a)(Object(c.a)({},e),{},{label:e.name,value:e.id})},j=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={defaultViewMode:"select",viewMode:"select",formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){return e.setState({viewMode:"create",currentOption:null,formIsOpen:!0})},e.handleOpenEdit=function(t,a){t.preventDefault(),t.stopPropagation(),e.setState({currentOption:a,viewMode:"edit",formIsOpen:!0})},e.handleCloseForm=function(){return e.setState({currentOption:null,viewMode:e.state.defaultViewMode,formIsOpen:!1})},e.renderComponent=function(){return u.a.cloneElement(e.props.children,{})},e.handleSuccess=function(t){var a=e.props,r=a.selectedElements,o=a.onChange;t&&!r.find((function(e){return e.id===t.id}))&&o([].concat(Object(n.a)(r),[t])),e.setState({viewMode:"select",selectorOpen:!0})},e.handleDelete=function(t){var a=e.props,n=a.onChange,r=a.selectedElements;e.handleCloseForm(),n&&n(r.filter((function(e){return e.id!==t.id})))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){d()(this.props.workspaceTags)&&this.loadTags()}},{key:"loadTags",value:function(e){return e||this.props.resetList(),this.props.load(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.viewMode,n=t.formIsOpen,r=t.selectorOpen,o=t.currentOption,s=this.props,i=s.workspaceTags,p=s.selectedElements,h=s.onChange,f=s.canManageOptions,v=s.count,k=s.canAddMore,j=s.isLoading,C=s.tooltipOverlay,N={isLoading:j,onLoadMore:function(){return e.loadTags(g()(b()(e.props.workspaceTags),"id"))},isOpen:r,triggerSize:"large",showSearch:v.total>15,renderTrigger:this.renderComponent,multi:!0,onChange:function(e){k&&h(e)},footer:f&&u.a.createElement(y.a,null,u.a.createElement(m.Button,{"rb-test-id":"new-tag-button",theme:"link",icon:{name:"ic-add"},label:"Create new tag",onClick:this.handleOpenCreate}))};if(!d()(i)){var S=p&&p.map((function(e){return w(e)}));N=Object(c.a)(Object(c.a)({},N),{},{value:S,options:i.map((function(e){return w(e)})),renderOption:function(t){var a=S&&!!S.find((function(e){return e.value===t.value}));return u.a.createElement("div",{className:"flex middle-xs"},u.a.createElement(m.Tooltip,{placement:"left",overlay:C||u.a.createElement("span",null,"You can add up to ",O.a.limits.maxTagsPerLink," tags on each link,",u.a.createElement("br",null),"please deselect one to continue"),display:!k&&!a},u.a.createElement("div",{className:"CheckboxOption"},u.a.createElement(m.Label,{className:"CheckboxOption__label",value:u.a.createElement(m.Tag,{className:"CheckboxOption__tag",label:t.label,color:t.color,size:"lg"})},u.a.createElement(m.Checkbox,{checked:!!a,disabled:!k&&!a})))),f&&u.a.createElement(m.IconButton,{"rb-test-id":"link-edit-tag-button",className:"m-l-8 p-0",theme:"ghost",icon:{name:"ic-edit",size:"xsmall"},onClick:function(a){return e.handleOpenEdit(a,t)}}))},showLoadMore:v.total>i.length})}return u.a.createElement(l.Fragment,null,"select"===a&&u.a.createElement(m.Selector,N),("edit"===a||"create"===a)&&u.a.createElement(m.Dropdown,{isOpen:n},u.a.createElement(m.Trigger,null,this.renderComponent()),u.a.createElement(m.Content,null,u.a.createElement(E.a,Object.assign({},o,{workspaceId:this.props.workspaceId,onSuccess:this.handleSuccess,onCancel:this.handleCloseForm,onDelete:this.handleDelete})))))}}]),a}(l.PureComponent);t.a=Object(v.b)((function(e){var t=e.tags,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceTags:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e,t){return{load:function(a){return e(Object(k.i)(a,t.workspaceId))},resetList:function(){return e(Object(k.k)())}}}))(j)},198:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),s=a(3),i=a.n(s);t.a=function(e){var t=e.options,a=e.onChange,n=e.value,s=e.placeholder,c=e.className;return r.a.createElement(o.Selector,{className:c,options:t,onChange:function(e){return a(e.value)},value:n,renderTrigger:function(){return r.a.createElement(o.Button,{theme:"select",label:i()(n,"label")||s||"Pick one"})},renderOption:function(e,t){return r.a.createElement("div",{className:"flex between-xs middle-xs","data-toggle":!0},r.a.createElement(o.Text,{className:"Text--Detail",size:"small"},e.label),t&&r.a.createElement(o.Icon,{className:"p-l-12",name:"ic-checkmark",size:"tiny",color:"#2281c2"}))}})}},21:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return d}));var n=a(37),r=a(0),o=a.n(r),s=a(23),i=a.n(s),c=(a(1300),function(e){var t=e.className,a=e.children;return o.a.createElement("div",{className:"line-bottom p-t-16 p-b-16 display-none display-md-block"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"row"},a)))}),l=function(e){var t=e.className,a=e.children;return o.a.createElement("div",{className:i()("ListColumn",t)},a)},u=function(e){var t=e.className,a=e.children,r=Object(n.a)(e,["className","children"]);return o.a.createElement("ul",Object.assign({className:i()("ListRows",t)},r),a)},m=function(e){var t=e.containerClassName,a=e.className,r=e.children,s=Object(n.a)(e,["containerClassName","className","children"]);return o.a.createElement("li",Object.assign({className:i()("ListRow",t||"ListRow--full")},s),o.a.createElement("div",{className:a},o.a.createElement("div",{className:"row middle-xs"},r)))},p=function(e){var t=e.className,a=e.children;return o.a.createElement("div",{className:t},a)},d=function(e){var t=e.children;return o.a.createElement("div",null,t)}},22:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return g})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return E}));var n=a(4),r=a(5),o=a(3),s=a.n(o),i=a(0),c=a.n(i),l=a(93),u="owner",m="admin",p={roles:[u,m,"user","guest"],resources:["workspaces","workspaces.domains","workspaces.teammates","workspaces.custom-reports","workspaces.tags","workspaces.deeplinks","workspaces.scripts","workspaces.utm","workspaces.links","workspaces.stats","workspaces.tags.stats","workspaces.teammates.stats","workspaces.domains.stats","workspaces.links.stats","workspaces.domains.details","workspaces.rules"],actions:["create","edit","delete","view"],matrix:[[[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],[[1,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],[[1,1,1,1],[1,1,1,1],[0,0,0,1],[0,0,0,0]],[[1,1,1,1],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[1,1,1,1],[1,1,1,1],[0,0,0,1],[0,0,0,1]],[[1,1,1,1],[1,1,1,1],[0,0,0,1],[0,0,0,1]],[[1,1,1,1],[1,1,1,1],[0,0,0,1],[0,0,0,1]],[[1,1,1,1],[1,1,1,1],[0,0,0,1],[0,0,0,1]],[[1,1,1,1],[1,1,1,1],[1,0,0,1],[1,0,0,0]],[[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]]]},d={owner:{label:"Owner",value:u},admin:{label:"Administrator",value:m,description:c.a.createElement("span",null,"Manages access to teammates, reports,",c.a.createElement("br",null),"tags, scripts, templates and all data",c.a.createElement("br",null),"created in the workspace")},user:{label:"User",value:"user",default:!0,description:c.a.createElement("span",null,"Accesses workspace domains and",c.a.createElement("br",null),"templates, manages links they create,",c.a.createElement("br",null),"views teammates\u2019 links")},guest:{label:"Guest",value:"guest",description:c.a.createElement("span",null,"Access workspaces domains and",c.a.createElement("br",null),"templates, manages links they create")}},h=function(){function e(t,a,r,o){if(Object(n.a)(this,e),o.length!==a.length)throw new Error("matrix.length should equal to resources.lenth");o.forEach((function(e){if(e.length!==t.length)throw new Error("length of each row should equal to roles.lenth");e.forEach((function(e){if(e.length!==r.length)throw new Error("length of each element should equal to allows.lenth")}))})),this.roles=t,this.resources=a,this.allows=r,this.matrix=o}return Object(r.a)(e,[{key:"isAllowed",value:function(e,t,a){if(!this.roles.includes(e))throw new Error("Provided role is not found in the roles array");if(!this.resources.includes(t))throw new Error("Provided resource is not found in the resources array");if(!this.allows.includes(a))throw new Error("Provided allow is not found in the allows array");var n=this.roles.indexOf(e),r=this.resources.indexOf(t),o=this.allows.indexOf(a);return this.matrix[r][n][o]}}]),e}();function b(e,t,a,n,r){var o=f(e.account.id,t,e),i=e.account.id;if(a=a.toLowerCase(),n=n.toLowerCase(),r)switch(n){case"workspaces.links":if(s()(r,"creator.id")===i)return!0;break;case"workspaces.domains.details":if(s()(r,"ownerId")===i)return!0;break;case"workspaces.teammates":if(f(r.id,t,e)===u)return!1}return!!new h(p.roles,p.resources,p.actions,p.matrix).isAllowed(o,n,a)}var f=function(e,t,a){var n=Object(l.b)(e,t),r=a.roles.items[n];return r||(console.warn("Warning: Role not found for user "+e+" in worskpace "+t),r="guest"),r},g=function(){if(arguments.length<2)throw new TypeError("Provide at least a role and a reference to the state");var e=arguments.length<=0?void 0:arguments[0],t=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2],a=2===arguments.length?t.session.currentWorkspaceId:arguments.length<=1?void 0:arguments[1];return Array.isArray(e)?!!e.find((function(e){return f(t.account.id,a,t)===e})):f(t.account.id,a,t)===e},v=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return g.apply(void 0,[m].concat(t))},E=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return g.apply(void 0,[u].concat(t))}},220:function(e,t,a){"use strict";var n=a(2),r=a(32),o=a.n(r),s=a(55),i=a(11),c=a(45),l=a(271),u=a.n(l),m=a(263),p=i.a.api.proxy.host,d=i.a.api.proxy.port,h=i.a.api.baseUrl,b=i.a.api.timeout,f=i.a.api.endpoints,g=u.a.CancelToken,v=function(e,t){return u()(e).then((function(e){return e.data})).catch((function(e){return t?Promise.reject(e):k(e)}))},E=!1,y=[],k=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n,r,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=18;break}if(a=t.config,n=t.response,r=n.status,s=n.data,i=n.headers,l=a,m.a.http({error:{request:a,response:{status:r,data:s,headers:i}}}),401!==r){e.next=15;break}if(!c.b.isTokenExpired()){e.next=10;break}return E||(E=!0,c.b.refreshToken().then((function(e){var t;E=!1,t=e,y.forEach((function(e){return e(t)})),y=[]}))),e.abrupt("return",new Promise((function(e,t){var a;a=function(t){l.headers.Authorization="Bearer "+t,e(v(l))},y.push(a)})));case 10:return c.b.clearSession(),s&&s.suspendedAccount&&c.b.redirectToLogout({path:"/suspended"}),e.abrupt("return",Promise.reject(t));case 13:e.next=16;break;case 15:return e.abrupt("return",Promise.reject(t));case 16:e.next=19;break;case 18:t.request;case 19:throw t;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O={};["get","post","put","delete"].forEach((function(e){O[e]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.path,o=a.params,s=(a.body,a.payload),i=a.extraHeaders,l=a.overrideBaseURL,u=a.forceProxy,m=a.canceller,g=a.skipErrorHanling,E=f[t]||t;r&&(E+="/"+r);var y=c.b.getToken(),k=Object(n.a)({},i),O=i&&i["Content-type"],w=i&&i.Authorization;y&&!w&&(k.Authorization="Bearer "+y),O||!s||"post"!==e&&"delete"!==e&&"put"!==e||(k.Accept="application/json",k["Content-type"]="application/json");var j={method:e,baseURL:l||h,url:E,headers:k,params:o,data:s,timeout:b,withCredentials:!1,responseType:"json",onUploadProgress:function(e){},onDownloadProgress:function(e){},validateStatus:function(e){return e>=200&&e<300},proxy:u?{host:p,port:d}:null,cancelToken:m?m.token:null};return v(j,g)}})),O.CancelToken=g,t.a=O},223:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(19),i=a(24),c=a.n(i),l=a(3),u=a.n(l),m=a(1),p=a(49),d=a(13),h=a(38),b=a(30);t.a=Object(o.b)((function(e,t){return{canInvite:Object(b.hasFeature)("collaboration.teammates",u()(e.account,"subscription.features")),canCreate:Object(h.a)("teammates",e.account),overQuota:Object(h.e)("teammates",e.account),featureLimits:Object(b.getFeatureLimits)("teammates",e.account),availableTeammates:Object(h.b)("teammates",e.account)}}))((function(e){var t=e.canCreate,a=e.overQuota,n=(e.featureLimits,e.availableTeammates),o=e.canInvite,i=e.tooltip,l=e.children;if(!o){var h=r.a.createElement("span",null,"You are not allowed to invite teammates in this workspace."," ",r.a.createElement(d.a,{href:"https://support.rebrandly.com/hc/en-us/articles/115006434008-How-to-Update-or-Change-a-Workspace",target:"_blank"},"Learn more"));return r.a.createElement(m.Tooltip,{overlay:h},r.a.cloneElement(l,{disabled:!0}))}if(!t){var b=r.a.createElement("span",null,"You've reached the maximum number of teammates ",r.a.createElement("br",null),"in your current plan. You'll need to ",r.a.createElement(d.a,{to:"/pricing"},"upgrade your plan")," to ",r.a.createElement("br",null),"create more.");return r.a.createElement(m.Tooltip,{overlay:b},r.a.cloneElement(l,{disabled:!0}))}if(0===n&&a){var f=u()(a,"block.units",0),g=u()(a,"block.price.net",0);return r.a.createElement(p.a,{icon:{name:"ic-information",color:"#2281c2",size:"md"},tooltip:i,title:"Hang on!",message:r.a.createElement("span",null,"You've reached the maximum number of teammates in your current plan. For every ",r.a.createElement("strong",null,"additional ",Object(s.formatNumber)(f)," ",c()("teammate",f))," you will be billed ",r.a.createElement("strong",null,"$",Object(s.formatNumber)(g),"/month extra"),"."),primaryButtonProps:{label:"I agree",theme:"checkout"},secondaryButtonProps:{label:"Learn more",onClick:function(){return window.open("https://support.rebrandly.com/hc/en-us/articles/115001565594-How-Rebrandly-Pricing-Works")}}},l)}return r.a.createElement(m.Tooltip,Object.assign({display:!!i},i),l)}))},225:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1);a(1326);t.a=function(e){var t=e.height;return r.a.createElement("div",{className:"TimelineChart_placeholder",style:{minHeight:t}},r.a.createElement(o.Loading,null))}},228:function(e,t,a){"use strict";a.d(t,"b",(function(){return q})),a.d(t,"a",(function(){return V}));var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(71),u=a(23),m=a.n(u),p=a(155),d=a.n(p),h=a(9),b=a.n(h),f=a(46),g=a.n(f),v=a(3),E=a.n(v),y=a(1),k=a(255),O=a(178),w=a(17),j=a(2),C=a(14),N=a(98),S=a.n(N),x=a(73),L=a.n(x),T=a(13),_=a(252),D=a(266),A=a(8),I=a(26),M=a(38),R=a(22),P=a(11),z=function(e){return Object(j.a)(Object(j.a)({},e),{},{label:e.fullName,value:e.id,disabled:!e.active,tooltip:e.active?null:{className:"ignore-react-onclickoutside",overlay:c.a.createElement("span",null,"This domain is not ready yet. ",c.a.createElement(T.a,{to:{pathname:"/domains/".concat(e.id),state:{modal:!0}}},"Learn more"))}})},F=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={domainsCount:0,isLoading:!1,term:"",results:[],showManageDomainsModal:!1},e.fetchDomains=function(){var t=E()(e.props,"context.id");if(!t)return null;var a=E()(e.props.preferences.lastUsedDomains,t),n=e.state.term.length?e.state.term:null;e.setState({isLoading:!0});var r={detached:!1,orderBy:"active",term:n};e.props.isWsOwner||(r.active=!0);var o=[Object(A.sc)(r),Object(A.A)({type:"user",detached:!1})];return a&&o.push(Object(A.rc)(a).catch((function(e){return null}))),Promise.all(o).then((function(t){var a=t[0],n=t[1].count,r=t[2];e.setState({results:Object(w.a)(a),domainsCount:n}),r&&r.active?(e.state.results.find((function(e){return e.id===r.id}))||e.setState({results:[r].concat(Object(w.a)(e.state.results))}),!e.props.selectedDomain&&e.handleChangeDomain(r)):e.handleChangeDomain(E()(a,"[0]"))})).catch((function(){})).finally((function(){e.setState({isLoading:!1})}))},e.debouncedLoadDomains=L()(e.fetchDomains,P.a.debounceSearchTime),e.search=function(t){(0===t.length||t.length>2)&&e.setState({term:t},(function(){return e.debouncedLoadDomains()}))},e.openManageDomainsModal=function(){return e.setState({showManageDomainsModal:!0})},e.closeManageDomainsModal=function(){return e.setState({showManageDomainsModal:!1})},e.handleNewDomain=function(){if(e.props.onNewDomainClick)return e.props.onNewDomainClick();e.props.history.push("/domains/new")},e.renderManageDomainsFooter=function(){if(I.d)return!1;var t={label:0===e.props.countCustomDomains&&e.props.canManageDomains?"Register new domain":"Manage domains",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"},disabled:!e.props.canManageDomains,onClick:function(){return!!e.props.canManageDomains&&(0===e.props.countCustomDomains?e.handleNewDomain():e.openManageDomainsModal())}},a=c.a.createElement("span",null,"You are not allowed to add domains",c.a.createElement("br",null),"in this workspace. ",c.a.createElement(T.a,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115006434008-How-to-Update-or-Change-a-Workspace",rel:"noopener noreferrer"},"Learn more"));return 0===e.props.countCustomDomains&&e.props.canManageDomains?c.a.createElement(_.a,null,c.a.createElement(y.Button,t)):c.a.createElement(y.Tooltip,{overlay:a,placement:"top",display:!e.props.canManageDomains},c.a.createElement(y.Button,Object.assign({},t,{"data-toggle":!0})))},e.handleChangeDomain=function(t){if(t&&t.active){if(!e.props.onChange(t)){var a=e.state.results.find((function(e){return e.active}));a&&e.props.onChange(a)}}else e.props.onChange()},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchDomains()}},{key:"componentDidUpdate",value:function(e){E()(this.props,"context.id")&&e.context.id!==this.props.context.id&&this.fetchDomains()}},{key:"render",value:function(){var e=this,t=S()(this.state.results.map((function(e){return z(e)})),["active","fullName","age"],["desc","asc","desc"]),a=b()(t)?"No domains in this workspace":b()(t.filter((function(e){return e.active})))?"No active domains in this workspace":"Select domain";return c.a.createElement(i.Fragment,null,c.a.createElement(y.Selector,{onSearchClose:function(){return e.search("")},"rb-test-id":"new-link-branded-domain",triggerSize:"large",placeholder:a,isLoading:this.state.isLoading,options:t,value:this.props.selectedDomain&&z(this.props.selectedDomain),footer:this.renderManageDomainsFooter(),onChange:this.handleChangeDomain,term:this.state.term,onSearch:this.search,showSearch:this.state.domainsCount>this.state.results.length||this.state.results.length>15,closeOnSelect:!0}),c.a.createElement(D.a,{workspaceId:this.props.context.id,onClose:this.closeManageDomainsModal,onAttachDomain:function(t){return e.fetchDomains().then((function(){return e.handleChangeDomain(t)}))},onDetachDomain:function(t){return e.fetchDomains().then((function(){return t.id===e.props.selectedDomain.id?e.handleChangeDomain():null}))},onNewDomainClick:this.handleNewDomain,isOpen:this.state.showManageDomainsModal}))}}]),a}(i.Component),U=Object(l.g)(Object(C.b)((function(e){return{context:e.workspaces.items[e.session.currentWorkspaceId],isWsOwner:Object(R.h)(e.session.currentWorkspaceId,e),preferences:e.preferences.items,countCustomDomains:Object(M.c)("domains",e.account),canManageDomains:Object(R.d)(e,e.session.currentWorkspaceId,"edit","workspaces.domains")}}))(F)),B=a(154),W=a(48),G=a(66),H=a(58),q=(a(676),[{key:"shortest",label:"Shortest",description:"Shortest slash tag",value:{type:"random",options:null},usesDomain:!0},{key:"random",label:"Random",description:"Randomly generated slash tag",value:{type:"random",options:null}},{key:"no_delimiter",label:"Suggested",description:"Slash tag based on data from the destination URL",value:{type:"custom",options:{separator:"none",capitalization:"lowercase"}}},{key:"dash",label:"Suggested with dash (SEO friendly)",description:"Slash tag based on data from the destination URL, separated by a dash",value:{type:"custom",options:{separator:"dash",capitalization:"lowercase"}}},{key:"camel_case",label:"Suggested camel case",description:"Slash tag based on data from the destination URL, using upper and lower case characters",value:{type:"custom",options:{separator:"none",capitalization:"camelcase"}}}]),V=q[0].key,Y=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isEditingTitle:!1,workspace:null,copyToClipboard:e.props.copyToClipboard,showSlugoptionsModal:!1},e.handleChangeCopyToClipboard=function(t){e.props.rememberCopyToClipboard&&e.props.rememberCopyToClipboard(t),e.setState({copyToClipboard:t})},e.submit=function(t){t&&t.preventDefault();var a=Object(H.h)(e.props.destination),n=Object(H.j)(e.props.slashtag);if(a&&e.props.isBroken&&e.props.workspaces&&e.props.workspaces.length>1&&n.valid||a&&n.valid&&!b()(e.props.domain)){if(n.warning&&!e.props.shutSlugAlphabetsWarning)return e.setState({showSlugWarning:!0});e.props.onSubmit(t)}},e.openSlugOption=function(){e.setState({showSlugoptionsModal:!0})},e.onWorkspaceSelect=function(t){e.setState({workspace:t})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.state.copyToClipboard&&(this.clipboard=new d.a(".LinkForm__copy"))}},{key:"componentDidUpdate",value:function(e,t){this.state.copyToClipboard!==t.copyToClipboard&&(this.state.copyToClipboard?this.clipboard=new d.a(".LinkForm__copy"):this.clipboard&&this.clipboard.destroy()),E()(e.workspace,"id")!==E()(this.props.workspace,"id")&&this.props.onSelectDomain(null)}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this,t=Object(H.h)(this.props.destination),a=Object(H.j)(this.props.slashtag),n=t&&this.props.isBroken&&this.props.workspaces.length>1&&a.valid||t&&a.valid&&!b()(this.props.domain),r=this.props.domain&&"".concat(E()(this.props.domain,"fullName"),"/").concat("/"===this.props.slashtag[0]?this.props.slashtag.slice(1):this.props.slashtag),o=this.props.slugAlgorithm||V,s=!t&&this.props.destination.length>=2041?"This URL is too long":null;return c.a.createElement(i.Fragment,null,c.a.createElement("form",{onChange:this.props.onChange,onSubmit:this.submit},this.props.showDestination&&c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"m-b-48"},t?c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"flex middle-xs m-b-8",style:{minHeight:"36px"}},c.a.createElement(O.a,{destination:Object(G.c)(this.props.destination)}),r&&this.props.slashtag&&c.a.createElement(y.Text,{size:"large",singleLine:!0,className:"LinkForm__shorturl m-l-12"},r)),c.a.createElement(y.InlineInput,{label:"Link title",className:m()("LinkForm__title",{hidden:!this.props.title}),name:"title",value:this.props.title,singleLine:!0})):c.a.createElement(y.Text,{size:"large",className:"LinkForm__title m-b-48"},"Rebrand a new link")),c.a.createElement("div",{className:"Form__group"},c.a.createElement(k.a,{name:this.props.destinationInputName,size:"lg",value:this.props.destination,onSubmit:this.submit,onChange:this.props.onChange,theme:s?"warning":null,message:s}))),this.props.workspaces&&this.props.workspaces.length>1&&c.a.createElement("div",{className:"Form__group row"},c.a.createElement("div",{className:"col-xs-12"},c.a.createElement(y.Label,{value:"Workspace",size:"lg"},c.a.createElement("div",{className:"Form__group_ws col-sm-12 p-t-8 p-b-8"},c.a.createElement(B.a,{showAddWorkspace:!1,domainWorkspaces:this.props.workspaces,noContext:!0,onSelect:this.onWorkspaceSelect}))))),c.a.createElement("div",{style:{display:t?"block":"none"}},c.a.createElement("div",{className:"Form__group row",style:{display:this.props.isBroken?"none":"auto"}},c.a.createElement("div",{className:"LinkForm__domains col-xs-12 col-sm-5"},c.a.createElement(y.Label,{value:"Branded domain",size:"lg"},c.a.createElement(U,{selectedDomain:this.props.domain,onChange:this.props.onSelectDomain,onNewDomainClick:this.props.onNewDomainClick}))),c.a.createElement("div",{className:"LinkForm__slashtag col-xs-12 col-sm-7",style:{display:this.props.isBroken?"none":"auto"}},c.a.createElement(y.Label,{value:"Slash tag",size:"lg",className:"slugInput"},c.a.createElement(y.Input,{name:"slashtag","rb-test-id":"new-link-slashtag",value:this.props.slashtag,placeholder:this.props.isLoadingSlug?"Loading...":"Slashtag (eg. card)",theme:a.valid?null:"warning",message:a.message,disableAutoCorrect:!0,button:{icon:{name:"ic-gear",size:"xsmall"},onClick:this.openSlugOption}})))),c.a.createElement("div",{className:"row around-xs middle-xs m-t-64"},c.a.createElement("div",{className:"col-xs last-xs first-sm"},c.a.createElement("div",{className:"row center-xs"},c.a.createElement(y.Label,{value:"Copy to clipboard",style:{display:this.props.isBroken?"none":"auto"}},c.a.createElement(y.Toggle,{value:"copy",checked:this.state.copyToClipboard,onChange:this.handleChangeCopyToClipboard})))),c.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-7 col-lg-6 first-xs last-sm flex"},this.props.onCancel&&c.a.createElement(y.Button,{className:"LinkForm__copy m-r-12",label:"Cancel",size:"lg",onClick:this.props.onCancel,block:!0}),c.a.createElement(y.Button,{className:"LinkForm__copy","rb-test-id":"new-link-create-button",label:this.props.submitLabel||this.props.isBroken&&"Repair link"||"Create link",type:"submit",theme:"primary",size:"lg","data-clipboard-text":this.props.domain&&Object(G.a)(r,"active"===E()(this.props.domain,"status.encryption")),disabled:this.props.isProcessing||!n,isLoading:this.props.isProcessing,block:!0}))))),c.a.createElement(y.Modal,{isOpen:this.state.showSlugoptionsModal,showClose:!0,onClose:function(){return e.setState({showSlugoptionsModal:!1})}},c.a.createElement(y.ModalContent,null,c.a.createElement(y.Text,{className:"Text--SubTitle"},"Choose a slash tag style"),q.map((function(t){return c.a.createElement("div",{className:"GridRow",key:t.key},c.a.createElement("div",{className:"m-t-16 OptionRow__body"},c.a.createElement(y.Label,{size:"lg",value:t.label},c.a.createElement(y.Radio,{checked:g()(o,t.key),onClick:function(){e.setState({showSlugoptionsModal:!1}),e.props.onSlugAlgorithmChange(t)}})),c.a.createElement(y.Tooltip,{overlay:t.description},c.a.createElement(y.Icon,{name:"ic-information",className:"m-l-4",size:"xsmall",color:"#c7c9cb"}))))})))),c.a.createElement(W.a,{isOpen:this.state.showSlugWarning,icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:E()(a.warning,"title"),message:E()(a.warning,"message"),checkboxProps:{checked:this.props.shutSlugAlphabetsWarning,onChange:function(t){return e.props.onSlugAlphabetsWarningChange(t.target.checked)}},secondaryButtonProps:{label:"Cancel",onClick:function(){return e.setState({showSlugWarning:!1})}},primaryButtonProps:{label:"Continue anyway",onClick:function(){e.setState({showSlugWarning:!1},e.props.onSubmit)}}}))}}]),a}(i.PureComponent);Y.defaultProps={showDestination:!0};t.c=Object(l.g)(Y)},252:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(19),i=a(24),c=a.n(i),l=a(3),u=a.n(l),m=a(1),p=a(30),d=a(49),h=a(13),b=a(38);t.a=Object(o.b)((function(e){return{canCreate:Object(b.a)("domains",e.account),overQuota:Object(b.e)("domains",e.account),featureLimits:Object(p.getFeatureLimits)("domains",e.account),availableDomains:Object(b.b)("domains",e.account)}}))((function(e){var t=e.canCreate,a=e.overQuota,n=e.featureLimits,o=e.availableDomains,i=e.children;if(!t){var l=r.a.createElement("span",null,"Your current plan only covers ",Object(s.formatNumber)(n.included)," custom ",c()("domain",n.included),". You can ",r.a.createElement("br",null),"add more custom domains to share a wider variety of ",r.a.createElement("br",null),"branded links. ",r.a.createElement(h.a,{to:"/pricing"},"View our plan options"));return r.a.createElement(m.Tooltip,{overlay:l},r.a.cloneElement(i,{disabled:!0}))}if(0===o&&a){var p=u()(a,"block.units",0),b=u()(a,"block.price.net",0);return r.a.createElement(d.a,{icon:{name:"ic-information",color:"#2281c2",size:"md"},title:"Hang on!",message:r.a.createElement("span",null,"You've reached the maximum number of domains in your current plan. For every\xa0",r.a.createElement("strong",null,"additional ",Object(s.formatNumber)(p)," ",c()("domain",p))," you will be billed\xa0",r.a.createElement("strong",null,"$",Object(s.formatNumber)(b),"/month extra"),".\xa0",r.a.createElement(m.A,{href:"https://support.rebrandly.com/hc/en-us/articles/115001565594-How-Rebrandly-Pricing-Works",size:"lg",target:"_blank",rel:"noopener noreferrer"},"Learn more")),primaryButtonProps:{label:"I agree",theme:"checkout"},secondayButtonProps:{}},i)}return i}))},253:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(71),i=a(1),c=a(30),l=a(13),u=a(49),m=a(38);t.a=Object(s.g)(Object(o.b)((function(e){return{domainsCount:Object(m.c)("workspaces",e.account),canCreate:Object(m.a)("workspaces",e.account),featureLimits:Object(c.getFeatureLimits)("workspaces",e.account)}}))((function(e){var t=e.canCreate,a=e.domainsCount,n=(e.featureLimits,e.children),o=e.history;if(!t){var s=r.a.createElement("span",null,"You've reached the maximum number of workspaces available ",r.a.createElement("br",null),"in your current plan. You'll need to upgrade your plan to ",r.a.createElement("br",null),"create more. ",r.a.createElement(l.a,{to:"/pricing"},"View our plan options"));return r.a.createElement(i.Tooltip,{overlay:s},r.a.cloneElement(n,{disabled:!0}))}return a?n:r.a.createElement(u.a,{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"No domains available",message:"In order to create a workspace, you need a custom domain name",primaryButtonProps:{label:"New domain",theme:"primary"}},r.a.cloneElement(n,{onClick:function(){return o.push("/domains/new")}}))})))},254:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(71),m=a(14),p=a(3),d=a.n(p),h=a(9),b=a.n(h),f=a(1),g=a(704),v=a(33),E=a.n(v),y=a(316),k=a(69),O=a(315),w=a(314),j=a(13),C=a(66),N=a(8),S=a(11),x=(a(507),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getData=function(t,a){return Object(N.tc)("links",d()(e.props.link,"id"),t,a)},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t=d()(this.props.link,"clicks",0),a=d()(this.props.link,"lastClickDate"),n=d()(this.props.link,"createdAt"),r=d()(this.props.link,"shortUrl"),o=d()(this.props.link,"https"),s=Object(C.a)(r,o);if(a&&E()(a).isBefore(S.a.statsStartDate)&&t>0)e=l.a.createElement(y.a,{item:this.props.link});else switch(t){case 0:e=l.a.createElement(c.Fragment,null,l.a.createElement(k.q,{shortUrl:s,onRefresh:this.props.refreshResource}),this.props.hasMasterDomain&&l.a.createElement(f.Alert,{className:"m-b-36",title:"Important note about this link",status:"info"},l.a.createElement(f.Text,{size:"small"},"In case a link already exists in the main website (blog, etc...) it will have priority.",l.a.createElement("br",null),"Links created in Rebrandly with a master domain will only work if they are not present in the main domain.\xa0",l.a.createElement(j.a,{size:"lg",target:"_blank",href:""},"Learn more"))));break;case 1:e=l.a.createElement(O.a,{refreshResource:this.props.refreshResource,getData:this.getData,lastClickDate:a,createdAt:n});break;default:e=l.a.createElement(w.f,{refreshResource:this.props.refreshResource,item:this.props.link,getData:this.getData,scrollableElem:this.props.scrollableElem,hasMasterDomain:this.props.hasMasterDomain})}return l.a.createElement("div",{className:"m-t-24"},e)}}]),a}(c.PureComponent)),L=a(15),T=a(228),_=a(48),D=a(31),A=a(38),I=a(43),M=a(84),R=a(18),P=a(99),z=a(12),F=a(102),U=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={domain:e.props.link.domain,slashtag:e.props.link.slashtag||"",isProcessing:!1,showAlreadyExistModal:!1,alreadyExistingLink:null,errors:null},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;r&&(e.setState({errors:null}),e.setState((function(e){var t=n;return"slashtag"===r&&(t=Object(D.q)(n)),Object(L.a)({},r,t)})))},e.handleChangeDomain=function(t){return e.setState({domain:t}),t&&t.active},e.handleSubmit=function(t){t&&t.preventDefault();var a=d()(e.state.domain,"id");e.setState({isProcessing:!0}),e.props.createLink(a,e.state.slashtag).then((function(t){var a=t.value;e.props.createNotification(z.h,"Link updated"),e.onPersistDomainPreference(a.domain),e.props.attachBulkOptions(a.id),e.props.history.push("/links"),e.props.history.push({pathname:"/links/".concat(a.id,"/share"),state:{modal:!0}})})).catch((function(t){var n=d()(t,"data.errors"),r=!b()(n)&&n.find((function(e){return"AlreadyExists"===e.code})),o=!b()(n)&&n.find((function(e){return"AlreadyExistsTrashed"===e.code})),s={slashtag:e.state.slashtag,"domain.id":a};r&&Object(N.Ob)(s).then((function(t){return e.setState({showAlreadyExistModal:!0,alreadyExistingLink:t[0]})})).catch((function(){return e.setState({showAlreadyExistModal:!0})})),o&&e.setState({showAlreadyExistModal:!0,alreadyExistingLink:{status:D.e}}),e.setState({isProcessing:!1,errors:n})}))},e.handleSlugAlgorithmChanged=function(t){e.props.rememberPreference(Object(L.a)({},F.a,t.key))},e.handleAlphabetsWarningChanged=function(t){e.props.rememberPreference(Object(L.a)({},F.b,t))},e.closeAlreadyExistModal=function(){return e.setState({showAlreadyExistModal:!1})},e}return Object(o.a)(a,[{key:"onPersistDomainPreference",value:function(e){var t=this.props,a=t.context,r=t.preferences;(0,t.rememberPreference)({lastUsedDomains:Object(n.a)(Object(n.a)({},r.lastUsedDomains),{},Object(L.a)({},a.id,e.id))})}},{key:"renderAlreadyExistModal",value:function(){var e,t;switch(d()(this.state.alreadyExistingLink,"status")){case D.e:e="This link already exists in trash!",t="You\u2019ve already created and trashed a link with the same domain name and slashtag.";break;case D.a:e="This link already exists!",t="You\u2019ve already created a link with the same domain name and slashtag, you can\u2019t duplicate it.",this.state.alreadyExistingLink.id;break;default:e="This link already exists!",t="A link with the same domain and slash-tag already exists.  You can\u2019t duplicate it."}return l.a.createElement(_.a,{isOpen:this.state.showAlreadyExistModal,onClose:this.closeAlreadyExistModal,icon:{name:"ic-warning",color:"#f6852f",size:"sm"},title:e,message:t,primaryButtonProps:{label:"Ok, got it",onClick:this.closeAlreadyExistModal}})}},{key:"render",value:function(){var e=this;return l.a.createElement(c.Fragment,null,l.a.createElement(f.Text,{className:"Text--SubTitle m-b-36"},"Branded url"),l.a.createElement(T.c,{showDestination:!1,workspace:this.props.context,rememberCopyToClipboard:function(t){return e.props.rememberPreference({copyToClipboard:t})},destination:this.props.link.destination,slashtag:this.state.slashtag,domain:this.state.domain,isProcessing:this.state.isProcessing,slugAlgorithm:this.props.preferences[F.a],onSlugAlgorithmChange:this.handleSlugAlgorithmChanged,shutSlugAlphabetsWarning:this.props.preferences[F.b],onSlugAlphabetsWarningChange:this.handleAlphabetsWarningChanged,copyToClipboard:this.props.preferences.copyToClipboard,onChange:this.handleChange,onSelectDomain:this.handleChangeDomain,onSubmit:this.handleSubmit,onCancel:this.props.onCancel,submitLabel:"Save link"}),this.renderAlreadyExistModal())}}]),a}(c.PureComponent),B=Object(u.g)(Object(m.b)((function(e){return{context:e.workspaces.items[e.session.currentWorkspaceId],preferences:e.preferences.items,countCustomDomains:Object(A.c)("domains",e.account),sharedDomains:e.domains,domains:e.domains.list.map((function(t){return e.domains.items[t]}))}}),(function(e,t){return{loadDomains:function(t){return e(Object(M.f)(t))},setParams:function(t){return e(Object(M.h)(t))},countSharedDomains:function(t){return e(Object(M.b)(t)).then((function(e){return e.value}))},loadSharedDomain:function(t){return e(Object(M.e)(t))},rememberPreference:function(t){return e(Object(P.c)(t))},createLink:function(a,n){return e(Object(I.h)({title:t.link.title,description:t.link.description,destination:t.link.destination,slashtag:n,domainId:a}))},attachBulkOptions:function(a){return Object(N.k)([a],{tags:t.link.tags.map((function(e){return e.id})),scripts:t.link.scripts.map((function(e){return e.id})),apps:t.link.appRules.map((function(e){return{id:e.id,path:e.path}})),rules:d()(t.link,"rules",[])}).then((function(){return e(Object(I.v)(t.link.id))}))},createNotification:function(t,a,n){return e(Object(R.a)(t,a,null,n))}}}))(U)),W=a(226),G=a.n(W),H=a(110),q=a.n(H),V=a(24),Y=a.n(V),K=a(196),J=a(265),Q=a(49),X=a(168),Z=a(17),$=a(46),ee=a.n($),te=a(19),ae=a(137),ne=a(90),re=a.n(ne),oe=a(29),se=a.n(oe),ie=a(87),ce=a.n(ie),le=(a(1343),{allow_underscores:!0}),ue=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleKeyDown=function(e){13===e.keyCode&&e.preventDefault()},o.handleChange=function(e){o.props.onChange&&o.props.onChange(e),o.setState({value:e})},o.handleSubmit=function(e){e.preventDefault(),o.props.onSubmit&&o.props.onSubmit(o.state.value)},o.appendQueryParameters=function(){var e=se()(o.state.value,{},!0),t=Object(n.a)(Object(n.a)({},e.query),o.mainURL.query);o.setState({value:"".concat(e.origin).concat(e.pathname,"?").concat(re.a.stringify(t))})},o.mainURL=se()(e.value,{},!0),o.state={value:o.props.value||""},o}return Object(o.a)(a,[{key:"render",value:function(){var e=ce()(this.state.value,le),t={rows:3,onChange:this.handleChange,value:this.state.value,autoFocus:!0,onKeyDown:this.handleKeyDown};return this.state.value.length>0&&!e&&(t=Object(n.a)(Object(n.a)({},t),{},{theme:"warning",message:"Is not a valid URL"})),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(f.Label,{value:"Destination URL"},l.a.createElement(f.Textarea,t)),!b()(this.mainURL.query)&&l.a.createElement("div",{className:"m-b-12",onClick:this.appendQueryParameters},l.a.createElement(f.A,null,"Add query parameters from main destination url")),l.a.createElement(f.Button,{"data-toggle":!0,className:"m-t-4 block-xs",disabled:this.state.value.length>0&&!e,type:"submit",label:"Save",theme:"primary"}))}}]),a}(c.PureComponent),me=a(44),pe=[me.a["req.country"],me.a["calendar.weekday"],me.a["calendar.date"],me.a["agent.platform"],me.a["calendar.hour"],me.a["req.language"],me.a["agent.os"]],de=Object(L.a)({},"and",[]),he={or:[]},be=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleChangeDestination=function(e){return o.setState({destination:e})},o.handleSubmit=function(){o.setState({isLoading:!0}),o.props.onSubmit({destination:Object(C.c)(o.state.destination),condition:Object(me.d)(o.state.condition)}).then((function(){o.setState({condition:de,destination:o.props.destination||"",isLoading:!1}),o.props.onClose()})).catch((function(e){})).finally((function(){return o.setState({isLoading:!1})}))},o.state={condition:de,destination:o.props.destination||"",isLoading:!1},o.initialState=Object(n.a)({},o.state),o}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=!this.state.isLoading&&!b()(this.state.destination)&&!Object(me.g)(this.state.condition)&&(!ee()(this.state.condition,de)&&!ee()(this.state.condition,he)||this.state.destination!==this.props.destination),a=pe.filter((function(t){return!Object(me.h)(e.state.condition,t.property)}));return l.a.createElement(f.Modal,{isOpen:this.props.isOpen,showClose:!0,onClose:function(){e.setState(e.initialState),e.props.onClose()},shouldCloseOnOverlayClick:!1},l.a.createElement(f.ModalContent,null,l.a.createElement(f.Text,{className:"Text--SubTitle"},"Create a new routing rule"),l.a.createElement("div",{className:"m-t-16"},l.a.createElement(X.a,{type:"routing",condition:Object(me.c)(this.state.condition),onChange:function(t){return e.setState({condition:t})},canAddMore:!0,canEdit:!0,showMoreAfter:1}),l.a.createElement("div",{className:"GridRow"},l.a.createElement(ae.a,{label:"Add a filter",items:a.map((function(t){return{label:Object(te.capitalize)(t.label),visible:!0,onClick:function(){var a={property:t.property,operator:t.operators[0].value,values:[]},n=Object.keys(e.state.condition)[0],r=e.state.condition[n];e.setState({condition:Object(L.a)({},n,[].concat(Object(Z.a)(r),[a]))})}}}))})),l.a.createElement("div",{className:"row middle-xs"},l.a.createElement("div",{className:"col-xs-2"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail"},"then")),l.a.createElement("div",{className:"col-xs-10 flex"},l.a.createElement(f.Icon,{name:"ic-link",size:"xsmall",color:"#c7c9cb"}),l.a.createElement("div",{className:"OptionRow__body full-width m-l-12"},l.a.createElement(f.Dropdown,{className:"full-width"},l.a.createElement(f.Trigger,null,l.a.createElement(f.Button,{className:"max-full-width text-left ellipsis",theme:"select",label:this.state.destination||"add destination url"})),l.a.createElement(f.Content,{className:"p-16 OptionTextarea"},l.a.createElement(ue,{value:this.state.destination,onSubmit:this.handleChangeDestination})))))))),l.a.createElement(f.ModalFooter,null,l.a.createElement(f.Button,{className:"m-r-12",label:"Cancel",onClick:this.props.onClose}),l.a.createElement(f.Button,{label:"Save",theme:"primary",onClick:this.handleSubmit,disabled:!t,isLoading:this.state.isLoading})))}}]),a}(c.PureComponent),fe=(a(1344),[me.a["req.country"],me.a["calendar.weekday"],me.a["calendar.date"],me.a["agent.platform"],me.a["calendar.hour"],me.a["req.language"],me.a["agent.os"]]),ge=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={condition:d()(e.props.rule,"condition",{}),destination:d()(e.props.rule,"destination",""),isLoading:!1},e.handleChangeDestination=function(t){return e.setState({destination:t})},e.handleSave=function(){e.setState({isLoading:!0}),e.props.onSave({destination:Object(C.c)(e.state.destination),condition:Object(me.d)(e.state.condition)}).then(e.props.onClose).catch(e.props.onClose).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.condition.or||this.state.condition.and,a=!this.state.isLoading&&!b()(this.state.destination)&&!b()(t.find((function(e){return!b()(e.values)})))&&(!ee()(d()(this.props.rule,"condition",{}),this.state.condition)||!ee()(d()(this.props.rule,"destination",""),this.state.destination)),n=fe.filter((function(e){return!Object.values(t).find((function(t){return e.property===t.property}))}));return l.a.createElement(f.Modal,{isOpen:this.props.isOpen,onClose:this.props.onClose,shouldCloseOnOverlayClick:!1},l.a.createElement(f.ModalContent,null,l.a.createElement(f.Text,{className:"Text--SubTitle"},"Edit rule"),l.a.createElement("div",{className:"m-t-16"},l.a.createElement(X.a,{type:"routing",condition:Object(me.c)(this.state.condition),onChange:function(t){return e.setState({condition:t})},canAddMore:!0,canEdit:!0,showMoreAfter:1}),l.a.createElement("div",{className:"flex"},l.a.createElement(ae.a,{label:"Add a filter",items:n.map((function(t){return{label:Object(te.capitalize)(t.label),visible:!0,onClick:function(){var a={property:t.property,operator:t.operators[0].value,values:[]},n=Object.keys(e.state.condition)[0],r=e.state.condition[n];e.setState({condition:Object(L.a)({},n,[].concat(Object(Z.a)(r),[a]))})}}}))})),l.a.createElement("div",{className:"row middle-xs m-t-16"},l.a.createElement("div",{className:"col-xs-1"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail"},"then")),l.a.createElement("div",{className:"col-xs-11 flex"},l.a.createElement(f.Icon,{name:"ic-link",size:"xsmall",color:"#c7c9cb"}),l.a.createElement("div",{className:"OptionRow__body full-width m-l-12"},l.a.createElement(f.Dropdown,{className:"full-width"},l.a.createElement(f.Trigger,null,l.a.createElement(f.Button,{className:"max-full-width text-left ellipsis",theme:"select",label:this.state.destination||"add destination url"})),l.a.createElement(f.Content,{className:"p-16 OptionTextarea"},l.a.createElement(ue,{value:this.state.destination,onSubmit:this.handleChangeDestination})))))))),l.a.createElement(f.ModalFooter,null,l.a.createElement("div",{className:"flex"},l.a.createElement(f.Button,{className:"m-r-12",label:"Cancel",onClick:this.props.onClose}),l.a.createElement(f.Button,{label:"Save",theme:"primary",onClick:this.handleSave,disabled:!a,isLoading:this.state.isLoading}))))}}]),a}(c.PureComponent),ve=a(116),Ee=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showNewRoutingModal:!1,showEditRoutingModal:!1,isLoading:!1,rule:null},e.handleEditRule=function(t){e.setState({rule:t}),e.openEditRoutingModal()},e.handleDeleteRule=function(t){e.setState({isLoading:!0},(function(){return e.props.onDelete(t.id).then((function(){e.confirmDeleteRule&&e.confirmDeleteRule.hideModal(),e.setState({isLoading:!1})}))}))},e.openEditRoutingModal=function(){return e.setState({showEditRoutingModal:!0})},e.closeEditRoutingModal=function(){return e.setState({showEditRoutingModal:!1,rule:null})},e.openNewRoutingModal=function(){return e.setState({showNewRoutingModal:!0})},e.closeNewRoutingModal=function(){return e.setState({showNewRoutingModal:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this,a=!this.props.hasRoutingFeature||this.props.rules.length>=this.props.maxTrafficRoutingRules,r=l.a.createElement("span",null,"Rebrandly's dynamic link routing lets",l.a.createElement("br",null),"route your audience through clicks on",l.a.createElement("br",null),"your branded links. ",l.a.createElement(f.A,{target:"_blank",rel:"noopener noreferrer",href:"https://support.rebrandly.com/hc/en-us/articles/360008624093"},"Learn more"));return this.props.hasRoutingFeature?this.props.rules.length>=this.props.maxTrafficRoutingRules&&(e=l.a.createElement("span",null,"You can add up to ",this.props.maxTrafficRoutingRules," routing rules on each",l.a.createElement("br",null),"link, please remove one to continue.",l.a.createElement("br",null),"Need more rules? ",l.a.createElement(f.A,{href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"Contact us"))):e=this.props.isOwner?l.a.createElement("span",null,' Your current plan doesn"t ',l.a.createElement("br",null)," include link routing.",l.a.createElement(j.a,{to:"/pricing"},"Upgrade your plan")):l.a.createElement("span",null,"You can't add link routing from this workspace"),l.a.createElement(c.Fragment,null,l.a.createElement(f.Modal,{isOpen:this.props.isOpen,onClose:this.props.onClose,showClose:!0},l.a.createElement(f.ModalContent,null,l.a.createElement("div",{className:"flex middle-xs m-b-24"},l.a.createElement(f.Text,{className:"Text--SubTitle m-r-4"},"Traffic routing"),l.a.createElement(f.Tooltip,{overlay:r,placement:"top"},l.a.createElement(f.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"}))),this.props.rules.map((function(e,a){var r=a===t.props.rules.length-1;return l.a.createElement(c.Fragment,{key:e.id},0!==a&&l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail m-b-12"},"Otherwise"),l.a.createElement(ve.a,{className:"m-b-12",showActions:t.props.hasRoutingFeature&&t.props.canEdit,actions:[l.a.createElement(f.IconButton,{key:1,onClick:function(){return t.handleEditRule(Object(n.a)(Object(n.a)({},e),{},{isLastRule:r}))},icon:{name:"ic-edit",size:"xsmall"},theme:"ghost"}),l.a.createElement(Q.a,{ref:function(e){return t.confirmDeleteRule=e},key:0,tooltip:{overlay:"Only the last rule can be deleted",display:!r,placement:"top"},icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete this rule?",message:"Traffic on this link will stop following this rule.",primaryButtonProps:{label:"Delete",theme:"delete",isLoading:t.state.isLoading,onClick:function(){return t.handleDeleteRule(e)}}},l.a.createElement(f.IconButton,{icon:{name:"ic-trash-bin",size:"xsmall"},theme:"dangerGhost",disabled:!r}))]},l.a.createElement(X.a,{canEdit:!1,showMoreAfter:1,condition:Object(me.c)(e.condition)}),l.a.createElement("div",{className:"row flex-baseline"},l.a.createElement("div",{className:"col-xs-2 Text--SubDetail"},"then"),l.a.createElement("div",{className:"col-xs-10 flex full-width"},l.a.createElement(f.Icon,{size:"xsmall",color:"#c7c9cb",name:"ic-link"}),l.a.createElement(f.Tooltip,{overlay:"".concat(e.destination),placement:"top"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold m-l-12",singleLine:!0},e.destination))))))})),l.a.createElement("div",{className:"flex middle-xs m-b-24"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail"},"Otherwise point to default destination URL")),this.props.canEdit&&l.a.createElement(f.Tooltip,{overlay:e,placement:"left",display:a},l.a.createElement(f.Button,{label:"Add new rule",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"},disabled:a,onClick:this.openNewRoutingModal})))),l.a.createElement(be,{rulesSelected:this.props.rules,onClose:this.closeNewRoutingModal,onSubmit:this.props.onCreateNewRule,destination:this.props.destination,isOpen:this.state.showNewRoutingModal}),this.state.rule&&l.a.createElement(ge,{rule:this.state.rule,onClose:this.closeEditRoutingModal,onSave:function(e){return t.props.onEdit(t.state.rule.id,e)},isOpen:this.state.showEditRoutingModal}))}}]),a}(c.PureComponent),ye=a(28),ke=a(16),Oe=a(73),we=a.n(Oe),je=a(36),Ce=[{name:"Abodo",ios_namespace:"abodo",android_namespace:"abodo",ios_scheme:"abodo://",ios_app_url:"https://apps.apple.com/us/app/apartments-for-rent-abodo/id839313249?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.abodo.ABODO&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/abodo.jpg",category:["real estate"],app_maps:[{name:"Abodo Generic",types:[{label:"Home",example:"abodo.com/",ios:"com.abodo.ABODO/http/www.abodo.com/",android:"android-app://com.abodo.ABODO/http/www.abodo.com/{id}",placeholder:"{path}"}]}]},{name:"ADP Mobile Solutions",ios_namespace:"adp",android_namespace:"adp",ios_scheme:"adpmobile://",ios_app_url:"https://apps.apple.com/us/app/adp-mobile-solutions/id444553167",android_app_url:"https://play.google.com/store/apps/details?id=com.adpmobile.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/adp.jpg",category:["productivity"],app_maps:[{name:"ADP Mobile Solutions General",types:[{label:"Home",example:"adp.com/",ios:"",android:"intent://my.adp.com/static/redbox/ext/find-me/mobile-federation-redirect/{id}#Intent;package=com.adpmobile.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Airbnb",ios_namespace:"airbnb",android_namespace:"airbnb",ios_app_url:"https://apps.apple.com/us/app/airbnb/id401626263",android_app_url:"https://play.google.com/store/apps/details?id=com.airbnb.android",ios_scheme:"airbnb://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/airbnb.jpg",category:["popular","travel"],app_maps:[{name:"Airbnb General",types:[{label:"Home",example:"airbnb.com/",ios:"",android:"intent://www.airbnb.com/{id}#Intent;package=com.airbnb.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Alexa",ios_namespace:"alexa",android_namespace:"alexa",ios_scheme:"alexa://",ios_app_url:"https://apps.apple.com/us/app/amazon-alexa/id944011620",android_app_url:"https://play.google.com/store/apps/details?id=com.amazon.dee.app&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/alexa.jpg",category:["shopping"],app_maps:[{name:"Alexa General",types:[{label:"Home",example:"alexa.com/",ios:"",android:"alexa://{id}",placeholder:"{path}"}]}]},{name:"Aliexpress",ios_namespace:"aliexpress",android_namespace:"aliexpress",ios_scheme:"aliexpress://",ios_app_url:"https://apps.apple.com/us/app/aliexpress-shopping-app/id436672029?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.alibaba.aliexpresshd&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/aliexpress.jpg",category:["shopping"],app_maps:[{name:"AliExpress General",types:[{label:"Home",example:"aliexpress.com/",ios:"",android:"aliexpress://{id}",placeholder:"{path}"}]}]},{name:"Amazon Music",ios_namespace:"amazonmusic",android_namespace:"amazonmusic",ios_app_url:"https://apps.apple.com/us/app/amazon-music/id510855668",android_app_url:"https://play.google.com/store/apps/details?id=com.amazon.mp3",ios_scheme:"amznmp3://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/amazon_music.jpg",category:["music"],app_maps:[{name:"Amazon Music General",types:[{label:"Home",example:"music.amazon.com/",ios:"",android:"intent://music.amazon.com/{id}#Intent;package=com.amazon.mp3;scheme=amznmp3;end",placeholder:"{path}"}]}]},{name:"Amazon",ios_namespace:"amazon",android_namespace:"amazon",ios_scheme:"com.amazon.mobile.shopping.web://",ios_app_url:"https://apps.apple.com/us/app/amazon-app-shop-browse-scan/id297606951",android_app_url:"https://play.google.com/store/apps/details?id=com.amazon.mShop.android.shopping",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/amazon.jpg",category:["popular","shopping"],app_maps:[{name:"Amazon Product",types:[{label:"Product",example:"amazon.com/",ios:"amazon.com/",android:"intent://#Intent;package=com.amazon.mShop.android.shopping;scheme=com.amazon.mobile.shopping.web://amazon.com/{id}/;end",placeholder:"{product}"}]},{name:"Amazon Category",types:[{label:"Category",example:"amazon.com/",ios:"amazon.com/",android:"intent://#Intent;package=com.amazon.mShop.android.shopping;scheme=com.amazon.mobile.shopping.web://amazon.com/{id}/;end",placeholder:"{category}"}]}]},{name:"Angie's List",ios_namespace:"angieslist",android_namespace:"angieslist",ios_scheme:"angieslist://",ios_app_url:"https://apps.apple.com/us/app/angies-list/id389294696",android_app_url:"https://play.google.com/store/apps/details?id=com.angieslist.android.activity",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/angies.jpg",category:["real estate"],app_maps:[{name:"Angie's List General",types:[{label:"Home",example:"angieslist.com/",ios:"",android:"intent://{id}#Intent;package=com.angieslist.android.activity;scheme=https;end",placeholder:"{path}"}]}]},{name:"Apartments",ios_namespace:"apartmentscomrentals",android_namespace:"apartmentscomrentals",ios_scheme:"com.apartments.www://",ios_app_url:"https://apps.apple.com/us/app/apartments-com-rentals/id319836632",android_app_url:"https://play.google.com/store/apps/details?id=com.apartments.mobile.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/apartments.jpg",category:["real estate"],app_maps:[{name:"Apartments.com Home",types:[{label:"Home",example:"apartments.com",ios:"",android:"https://apartments.com/{id}",placeholder:"{path}"}]}]},{name:"Behance",ios_namespace:"behance",android_namespace:"behance",ios_scheme:"behance://",ios_app_url:"https://apps.apple.com/us/app/behance/id489667151",android_app_url:"https://play.google.com/store/apps/details?id=com.behance.behance",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/behance.jpg",category:["productivity"],app_maps:[{name:"Behance Project Link",types:[{label:"Project",example:"behance.net/gallery/",ios:"gallery/",android:"intent://behance.net/gallery/{id}/workinprogress#Intent;package=com.behance.behance;scheme=https;end",placeholder:"{path}"}]},{name:"Behance Profile Link",types:[{label:"Profile",example:"behance.net/",ios:"profile/",android:"intent://behance.net/{id}/workinprogress#Intent;package=com.behance.behance;scheme=https;end",placeholder:"{path}"}]},{name:"Behance General",types:[{label:"Home",example:"behance.net/",ios:"",android:"intent://behance.net/{id}/workinprogress#Intent;package=com.behance.behance;scheme=https;end",placeholder:"{path}"}]}]},{name:"Best Buy",ios_namespace:"bestbuy",android_namespace:"bestbuy",ios_scheme:"bestbuy://",ios_app_url:"https://apps.apple.com/us/app/best-buy/id314855255",android_app_url:"https://play.google.com/store/apps/details?id=com.bestbuy.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/bestbuy.jpg",category:["shopping"],app_maps:[{name:"Best Buy General",types:[{label:"Home",example:"bestbuy.com/",ios:"",android:"intent://www.bestbuy.com/{id}#Intent;package=com.bestbuy.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Bol",ios_namespace:"bolcom",android_namespace:"bolcom",ios_scheme:"bol://",ios_app_url:"https://apps.apple.com/us/app/bol-com/id904894760",android_app_url:"https://play.google.com/store/apps/details?id=com.bol.shop",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/bol.jpg",category:["shopping"],app_maps:[{name:"Bol General",types:[{label:"Home",example:"bol.com/",ios:"",android:"intent://{path}#Intent;package=com.bol.shop;scheme=https;end",placeholder:"{path}"}]}]},{name:"Cisco Webex",ios_namespace:"webex",android_namespace:"webex",ios_scheme:"wbx://",ios_app_url:"https://apps.apple.com/us/app/cisco-webex-meetings/id298844386",android_app_url:"https://play.google.com/store/apps/details?id=com.cisco.webex.meetings",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/webex.jpg",category:["productivity"],app_maps:[{name:"Cisco Webex Gerneral",types:[{label:"Home",example:"webex.com/",ios:"",android:"intent://{id}#Intent;package=com.cisco.webex.meetings;scheme=https;end",placeholder:"{path}"}]}]},{name:"Deezer",ios_namespace:"deezer",android_namespace:"deezer",ios_scheme:"deezer://",ios_app_url:"https://apps.apple.com/app/deezer-music-podcast-player/id292738169",android_app_url:"https://play.google.com/store/apps/details?id=deezer.android.app",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/deezer.jpg",category:["music"],app_maps:[{name:"Deezer General",types:[{label:"Home",example:"deezer.com/",ios:"",android:"intent://www.deezer.com/{id}/#Intent;package=deezer.android.app;scheme=deezer;end",placeholder:"{path}"}]}]},{name:"Disney+",ios_namespace:"disney",android_namespace:"disney",ios_scheme:"disneyplus://",ios_app_url:"https://apps.apple.com/us/app/disney/id1446075923",android_app_url:"https://play.google.com/store/apps/details?id=com.disney.disneyplus&hl=en_US",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/disneyplus.jpg",category:["video"],app_maps:[{name:"Disney+ - All",types:[{label:"Movie",example:"www.disneyplus.com/",ios:"disneyplus.com/",android:"intent://disneyplus.com/{id}#Intent;package=com.disney.disneyplus;scheme=disneyplus;end",placeholder:"{movie}"},{label:"Series",example:"www.disneyplus.com/",ios:"disneyplus.com/",android:"intent://disneyplus.com/{id}#Intent;package=com.disney.disneyplus;scheme=disneyplus;end",placeholder:"{serie}"},{label:"Watchlist",example:"www.disneyplus.com/",ios:"disneyplus.com/",android:"intent://disneyplus.com/{id}#Intent;package=com.disney.disneyplus;scheme=disneyplus;end",placeholder:"{watchlist}"},{label:"Originals",example:"www.disneyplus.com/",ios:"disneyplus.com/",android:"intent://disneyplus.com/{id}#Intent;package=com.disney.disneyplus;scheme=disneyplus;end",placeholder:"{path}"}]}]},{name:"Ebay",ios_namespace:"ebay",android_namespace:"ebay",ios_app_url:"https://apps.apple.com/us/app/ebay-buy-sell-save-money/id282614216?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.ebay.mobile&hl=en",ios_scheme:"ebay://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/ebay.jpg",category:["shopping"],app_maps:[{name:"eBay General",types:[{label:"Home",example:"ebay.com/",ios:"",android:"intent://{id}#Intent;package=com.ebay.mobile;scheme=https;end",placeholder:"{path}"}]}]},{name:"EOnline",ios_namespace:"eonline",android_namespace:"eonline",ios_scheme:"eonline://",ios_app_url:"https://apps.apple.com/us/app/e!-now/id876520365",android_app_url:"https://play.google.com/store/apps/details?id=com.nbcu.tve.e",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/eonline.jpg",category:["video"],app_maps:[{name:"Eonline General",types:[{label:"Home",example:"eonline.com/",ios:"",android:"intent://{id}#Intent;package=com.nbcu.tve.e;scheme=https;end",placeholder:"{path}"}]}]},{name:"Etsy",ios_namespace:"etsy",android_namespace:"etsy",ios_scheme:"etsy://",ios_app_url:"https://apps.apple.com/us/app/etsy-shop-handmade-vintage/id477128284",android_app_url:"https://play.google.com/store/apps/details?id=com.etsy.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/etsy.jpg",category:["popular","shopping"],app_maps:[{name:"Etsy Listing",types:[{label:"Listing",example:"etsy.com/listing/",ios:"",android:"etsy://listing/{id}",placeholder:"{listing}"}]},{name:"Etsy Category",types:[{label:"Category",example:"etsy.com/c/",ios:"category/",android:"etsy://category/{id}",placeholder:"{category}"}]},{name:"Etsy Shop",types:[{label:"Shop",example:"etsy.com/shop/",ios:"shop/",android:"etsy://shop/{id}",placeholder:"{shop}"}]},{name:"Etsy General",types:[{label:"Home",example:"etsy.com/",ios:"",android:"etsy://category/{id}",placeholder:"{category}"}]}]},{name:"Eventbrite",ios_namespace:"eventbrite",android_namespace:"eventbrite",ios_scheme:"com-eventbrite-attendee://",ios_app_url:"https://apps.apple.com/us/app/eventbrite/id487922291",android_app_url:"https://play.google.com/store/apps/details?id=com.eventbrite.attendee",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/eventbrite.jpg",category:["popular","travel"],app_maps:[{name:"Eventbrite General",types:[{label:"Home",example:"eventbrite.com/",ios:"www.eventbrite.com/",android:"intent://www.eventbrite.com/{id}#Intent;package=com.eventbrite.attendee;scheme=https;end",placeholder:"{path}"}]}]},{name:"Excel",ios_namespace:"microsoftexcel",android_namespace:"googlesheets",ios_scheme:"ms-excel://",ios_app_url:"https://apps.apple.com/us/app/microsoft-excel/id586683407",android_app_url:"https://play.google.com/store/apps/details?id=com.google.android.apps.docs.editors.sheets",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/excel.jpg",category:["productivity"],app_maps:[{name:"Excel General",types:[{label:"Home",example:"office.com/",ios:"",android:"intent://1drv.ms/{id}/#Intent;package=com.microsoft.office.excel;scheme=https;end",placeholder:"{path}"}]}]},{name:"Facebook",ios_namespace:"facebook",android_namespace:"facebook",ios_scheme:"fb://",ios_app_url:"https://apps.apple.com/us/app/facebook/id284882215",android_app_url:"https://play.google.com/store/apps/details?id=com.facebook.katana&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/facebook.jpg",category:["popular","telecom"],app_maps:[{name:"Facebook Profile",types:[{label:"Profile",example:"facebook.com/profile",ios:"profile/",android:"fb://profile/{id}",placeholder:"{path}"}]},{name:"Facebook Friends",types:[{label:"Friends",example:"facebook.com/friends",ios:"friends/",android:"fb://friends/{id}",placeholder:"{path}"}]},{name:"Facebook Notifications",types:[{label:"Notifications",example:"facebook.com/notifications",ios:"notifications/",android:"fb://notifications/{id}",placeholder:"{path}"}]},{name:"Facebook Albums",types:[{label:"Albums",example:"facebook.com/albums",ios:"albums/",android:"fb://albums/{id}",placeholder:"{path}"}]},{name:"Facebook Page",types:[{label:"Page",ios:"profile/",example:"facebook.com/page",android:"fb://page/{id}",placeholder:"{path}"}]}]},{name:"Facebook Messenger",ios_namespace:"messenger",android_namespace:"messenger",ios_scheme:"fb-messenger-public://",ios_app_url:"https://apps.apple.com/us/app/messenger/id454638411?mt=8&ign-mpt=uo%3D2",android_app_url:"https://play.google.com/store/apps/details?id=com.facebook.orca&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/facebook_messenger.jpg",category:["popular","telecom"],app_maps:[{name:"Facebook Messenger",types:[{label:"m.me",ios:"user-thread/",android:"intent://user/{id}/#Intent;scheme=fb-messenger;package=com.facebook.orca;end",placeholder:"{thread}"}]}]},{name:"Fizy",ios_namespace:"fizy",android_namespace:"fizy",ios_scheme:"fizy://",ios_app_url:"https://apps.apple.com/us/app/fizy-music-video/id404239912",android_app_url:"https://play.google.com/store/apps/details?id=com.turkcell.gncplay",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/fizy.jpg",category:["music"],app_maps:[{name:"Fizy General",types:[{label:"Home",example:"fizy.com/",ios:"",android:"https://fizy.com/{id}",placeholder:"{path}"}]}]},{name:"Flipkart",ios_namespace:"flipkart",android_namespace:"flipkart",ios_scheme:"flipkart://",ios_app_url:"https://apps.apple.com/in/app/flipkart-online-shopping-app/id742044692",android_app_url:"https://play.google.com/store/apps/details?id=com.flipkart.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/flipkart.jpg",category:["popular","shopping"],app_maps:[{name:"General",types:[{label:"General",example:"flipkart.com/",ios:"",android:"intent://{id}#Intent;package=com.flipkart.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Google Docs",ios_namespace:"googledocs",android_namespace:"googledocs",ios_scheme:"googledocs://",ios_app_url:"https://apps.apple.com/us/app/google-docs-sync-edit-share/id842842640",android_app_url:"https://play.google.com/store/apps/details?id=com.google.android.apps.docs.editors.docs",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/google_docs.jpg",category:["productivity"],app_maps:[{name:"Google Docs General",types:[{label:"Home",example:"docs.google.com/",ios:"",android:"intent://docs.google.com/{id}#Intent;package=com.google.android.apps.docs.editors.docs;scheme=https;end",placeholder:"{path}"}]}]},{name:"Google Places",ios_namespace:"googlemaps",android_namespace:"maps",ios_scheme:"comgooglemapsurl://",ios_app_url:"https://apps.apple.com/us/app/google-maps-gps-navigation/id585027354?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.pcsalt.places&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/google_places.jpg",category:["travel"],app_maps:[{name:"Google Places",types:[{label:"Places",example:"google.com/maps/place/",ios:"/www.google.com/maps/place/",android:"intent://www.google.com/maps/place/{id}#Intent;package=com.google.android.apps.maps;scheme=https;end",placeholder:"place/{path}"}]}]},{name:"Google Translate",ios_namespace:"googletranslate",android_namespace:"googletranslate",ios_scheme:"googletranslate://",ios_app_url:"https://apps.apple.com/us/app/google-translate/id414706506",android_app_url:"https://play.google.com/store/apps/details?id=com.google.android.apps.translate",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/google_translate.jpg",category:["productivity"],app_maps:[{name:"Google Translate Home",types:[{label:"Home",example:"translate.google.com/",ios:"",android:"https://translate.google.com/{id}",placeholder:"{path}"}]}]},{name:"GrubHub",ios_namespace:"grubhub",android_namespace:"grubhub",ios_scheme:"grubhub://",ios_app_url:"https://apps.apple.com/us/app/grubhub-food-delivery-takeout/id302920553?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.grubhub.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/grubhub.jpg",category:["popular"],app_maps:[{name:"Uber Eats General",types:[{label:"Home",example:"grubhub.com/",ios:"",android:"grubhub://{id}",placeholder:"{path}"}]}]},{name:"HBO GO",ios_namespace:"hbogo",android_namespace:"hbogo",ios_scheme:"hbogo://",ios_app_url:"https://apps.apple.com/us/app/hbo-go-stream-with-tv-package/id429775439",android_app_url:"https://play.google.com/store/apps/details?id=com.HBO",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/hbo.jpg",category:["video"],app_maps:[{name:"HBO GO General",types:[{label:"Home",example:"hbogo.com/",ios:"",android:"intent://{id}#Intent;package=com.HBO;scheme=https;end",placeholder:"{path}"}]}]},{name:"Houzz",ios_namespace:"houzz",android_namespace:"houzz",ios_scheme:"houzz://",ios_app_url:"https://apps.apple.com/us/app/houzz/id399563465",android_app_url:"https://play.google.com/store/apps/details?id=com.houzz.app",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/houzz.jpg",category:["real estate"],app_maps:[{name:"Houzz General",types:[{label:"Home",example:"https://www.houzz.com/",ios:"",android:"intent://{id}#Intent;package=com.houzz.app;scheme=https;end",placeholder:"{path}"}]}]},{name:"HSN",ios_namespace:"hsn",android_namespace:"hsn",ios_scheme:"hsnapp://",ios_app_url:"https://apps.apple.com/us/app/hsn-for-iphone/id324326909?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.hsn.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/hsn.jpg",category:["shopping"],app_maps:[{name:"HSN General",types:[{label:"Home",example:"hsn.com/",ios:"",android:"hsnapp://{id}",placeholder:"{path}"}]}]},{name:"Instagram",ios_namespace:"instagram",android_namespace:"instagram",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/instagram.jpg",ios_app_url:"https://apps.apple.com/us/app/instagram/id389801252",android_app_url:"https://play.google.com/store/apps/details?id=com.instagram.android",ios_scheme:"instagram://",category:["popular","telecom"],app_maps:[{name:"Instagram Media Page",types:[{label:"Home",example:"instagram.com/p/",ios:"",android:"intent://instagram.com/p//#Intent;package=com.instagram.android;scheme=https;end",placeholder:""}]},{name:"Instagram Personal Profile",types:[{label:"Profile",example:"instagram.com/",ios:"user?username=",android:"intent://instagram.com/_u/{id}/#Intent;package=com.instagram.android;scheme=https;end",placeholder:"{username}"}]},{name:"Instagram Tag",types:[{label:"Tag",example:"instagram.com/explore/tags/",ios:"tag?name=",android:"intent://instagram.com/explore/tags/{id}/#Intent;package=com.instagram.android;scheme=https;end",placeholder:"{tag}"}]},{name:"TV",types:[{label:"TV",example:"instagram.com/tv/",ios:"media?id=",android:"intent://instagram.com/p/{id}/#Intent;package=com.instagram.android;scheme=https;end ",placeholder:"{tv}"}]}]},{name:"Hulu",ios_namespace:"hulu",android_namespace:"hulu",ios_scheme:"hulu://",ios_app_url:"https://apps.apple.com/us/app/hulu-watch-tv-shows-movies/id376510438",android_app_url:"https://play.google.com/store/apps/details?id=com.hulu.plus",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/hulu.jpg",category:["video"],app_maps:[{name:"Hulu General",types:[{label:"Home",example:"hulu.com/",ios:"",android:"intent://www.hulu.com/{id}/#Intent;package=com.hulu.plus;scheme=hulu;end",placeholder:"{path}"}]}]},{name:"Klook",ios_namespace:"klook",android_namespace:"klook",ios_scheme:"klook://",ios_app_url:"https://apps.apple.com/us/app/klook-sightseeing-day-trips/id961850126",android_app_url:"https://play.google.com/store/apps/details?id=com.klook&hl=en_US",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/klook.jpg",category:["travel"],app_maps:[{name:"Klook Home",types:[{label:"Home",example:"klook.com/",ios:"",android:"klook://webview?url=https%3A%2F%2Fwww.klook.com/{id}",placeholder:"{path}"}]}]},{name:"Kohls",ios_namespace:"kohls",android_namespace:"kohls",ios_scheme:"kohlsapp://",ios_app_url:"https://apps.apple.com/us/app/kohls/id472014516?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.kohls.mcommerce.opal",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/kohls.jpg",category:["shopping"],app_maps:[{name:"Kohls General",types:[{label:"Home",example:"kohls.com/",ios:"",android:"https://kohls.com/{id}",placeholder:"{path}"}]}]},{name:"Linkedin",ios_namespace:"linkedin",android_namespace:"linkedin",ios_scheme:"linkedin://",ios_app_url:"https://apps.apple.com/us/app/linkedin-network-job-finder/id288429040",android_app_url:"https://play.google.com/store/apps/details?id=com.linkedin.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/linkedin.jpg",category:["social"],app_maps:[{name:"Linkedin General",types:[{label:"General",example:"linkedin.com/",ios:"in/",android:"intent://www.linkedin.com/in/{id}/#Intent;package=com.linkedin.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Lyft",ios_namespace:"lyft",android_namespace:"lyft",ios_scheme:"lyft://",ios_app_url:"https://apps.apple.com/us/app/lyft/id529379082",android_app_url:"https://play.google.com/store/apps/details?id=me.lyft.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/lyft.jpg",category:["travel"],app_maps:[{name:"Lyft Home",types:[{label:"Home",example:"lyft.com/",ios:"",android:"intent://lyft.bttn.io/{id}#Intent;package=me.lyft.android;scheme=lyft;end",placeholder:"{path}"}]}]},{name:"Macy's",ios_namespace:"macys",android_namespace:"macys",ios_scheme:"macys://",ios_app_url:"https://apps.apple.com/us/app/macys/id341036067",android_app_url:"https://play.google.com/store/apps/details?id=com.macys.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/macys.jpg",category:["shopping"],app_maps:[{name:"Macy's General",types:[{label:"Home",example:"macys.com/",ios:"",android:"com.macys.mobile://{id}",placeholder:"{path}"}]}]},{name:"Mixcloud",ios_namespace:"mixcloud",android_namespace:"mixcloud",ios_scheme:"mc://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/mixcloud.jpg",ios_app_url:"https://apps.apple.com/br/app/mixcloud-radio-dj-mixes/id401206431",android_app_url:"https://play.google.com/store/apps/details?id=com.mixcloud.player",category:["music"],app_maps:[{name:"Mixcloud General",types:[{label:"Home",example:"mixcloud.com/",ios:"",android:"intent://www.mixcloud.com/{id}#Intent;package=com.mixcloud.player;scheme=https;end",placeholder:"{path}"}]}]},{name:"Netflix",ios_namespace:"netflix",android_namespace:"netflix",ios_scheme:"nflx://",ios_app_url:"https://apps.apple.com/us/app/netflix/id363590051?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.netflix.mediaclient&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/netflix.jpg",category:["video"],app_maps:[{name:"Netflix General",types:[{label:"Home",example:"netflix.com/",ios:"",android:"nflx://{id}",placeholder:"{path}"}]}]},{name:"Nickelodeon",ios_namespace:"nick",android_namespace:"nick",ios_scheme:"nickapp://",ios_app_url:"https://apps.apple.com/us/app/nick/id596133590",android_app_url:"https://play.google.com/store/apps/details?id=com.nickonline.android.nickapp",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/nickelodeon.jpg",category:["video"],app_maps:[{name:"Nick General",types:[{label:"Home",example:"nick.com/",ios:"content?type=",android:"nickapp://content?type={id}",placeholder:"{path}"}]}]},{name:"Nook",ios_namespace:"nook",android_namespace:"nook",ios_scheme:"nook://",ios_app_url:"https://apps.apple.com/us/app/nook/id373582546",android_app_url:"https://play.google.com/store/apps/details?id=com.nook.app",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/nook.jpg",category:["productivity"],app_maps:[{types:[{label:"Home",example:"barnesandnoble.com/b/nook/",ios:"",android:"intent://www.nook.com/{id}#Intent;package=bn.ereader;scheme=https;end",placeholder:"{path}"}]}]},{name:"Overstock",ios_namespace:"overstock",android_namespace:"overstock",ios_scheme:"ostk://",ios_app_url:"https://apps.apple.com/us/app/overstock-furniture-home-decor/id339883869?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.overstock&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/overstock.jpg",category:["shopping"],app_maps:[{name:"Overstock Category",types:[{label:"Category",example:"overstock.com/",ios:"www.overstock.com/category/",android:"ostk://www.overstock.com/category/{id}",placeholder:"{path}"}]},{name:"Overstock Department",types:[{label:"Department",example:"overstock.com/",ios:"www.overstock.com/",android:"ostk://www.overstock.com/{id}",placeholder:"{path}"}]},{name:"Overstock Flash Deals",types:[{label:"Flash Deals",example:"overstock.com/flash-deals/",ios:"www.overstock.com/flash-deals/",android:"ostk://www.overstock.com/flash-deals/{id}",placeholder:"{path}"}]},{name:"Overstock General",types:[{label:"Home",example:"overstock.com/",ios:"www.overstock.com/",android:"ostk://www.overstock.com/{id}",placeholder:"{path}"}]}]},{name:"Pandora",ios_namespace:"pandora",android_namespace:"pandora",ios_scheme:"pandora://",ios_app_url:"https://apps.apple.com/us/app/pandora-music-podcasts/id284035177",android_app_url:"https://play.google.com/store/apps/details?id=com.pandora.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/pandora.jpg",category:["music"],app_maps:[{name:"Pandora General",types:[{label:"Home",example:"pandora.com/",ios:"",android:"intent://www.pandora.com/{id}/#Intent;package=com.pandora.android;scheme=https;end",placeholder:"{path}"}]}]},{name:"Redbox",ios_namespace:"redbox",android_namespace:"redbox",ios_scheme:"rbapp://",ios_app_url:"https://apps.apple.com/us/app/redbox/id339532909?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.redbox.android.activity&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/redbox.jpg",category:["video"],app_maps:[{name:"Redbox General",types:[{label:"Home",example:"redbox.com/",ios:"",android:"rbapp://{id}",placeholder:"{path}"}]}]},{name:"Reddit",ios_namespace:"reddit",android_namespace:"reddit",ios_scheme:"reddit://",ios_app_url:"https://apps.apple.com/us/app/reddit/id1064216828",android_app_url:"https://play.google.com/store/apps/details?id=com.reddit.frontpage&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/reddit.jpg",category:["popular","telecom"],app_maps:[{name:"Reddit - All",types:[{label:"All",example:"reddit.com/",ios:"",android:"intent://reddit.com/{id}/#Intent;package=com.reddit.frontpage;scheme=https;end",placeholder:"{path}"}]}]},{name:"REI",ios_namespace:"reico",android_namespace:"reico",ios_scheme:"rei://www.rei.com/search?query=brand%3D",ios_app_url:"https://apps.apple.com/us/app/rei/id404849387",android_app_url:"https://play.google.com/store/apps/details?id=com.ubermind.rei",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/rei.jpg",category:["shopping"],app_maps:[{name:"REI Product",types:[{label:"Product",example:"rei.com/product/",ios:"",android:"rei://www.rei.com/search?query=brand%3D{id}",placeholder:"{product}"}]},{name:"REI Category",types:[{label:"Category",example:"rei.com/c/",ios:"",android:"rei://www.rei.com/search?query=category%3D{id}",placeholder:"{category}"}]},{name:"REI Brand",types:[{label:"Brand",example:"rei.com/b/",ios:"",android:"rei://www.rei.com/search?query=brand%3D{id}",placeholder:"{brand}"}]},{name:"REI General",types:[{label:"Home",example:"rei.com/",ios:"",android:"rei://www.rei.com/search?query={id}",placeholder:"{path}"}]}]},{name:"Sharepoint",ios_namespace:"microsoftsharepoint",android_namespace:"microsoftsharepoint",ios_scheme:"ms-sharepoint://",ios_app_url:"https://apps.apple.com/us/app/microsoft-sharepoint/id1091505266",android_app_url:"https://play.google.com/store/apps/details?id=com.microsoft.sharepoint",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/sharepoint.jpg",category:["popular","productivity"],app_maps:[{name:"Sharepoint General",types:[{label:"Home",example:"sharepoint.com/",ios:"",android:"intent://{path}#Intent;package=com.microsoft.sharepoint;scheme=ms-sharepoint;end",placeholder:"{path}"}]}]},{name:"Shazam",ios_namespace:"shazam",android_namespace:"shazam",ios_scheme:"shazam://",ios_app_url:"https://apps.apple.com/us/app/shazam/id284993459",android_app_url:"https://play.google.com/store/apps/details?id=com.shazam.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/shazam.jpg",category:["music"],app_maps:[{name:"Shazam Gerneral",types:[{label:"Home",example:"shazam.com/",ios:"",android:"https://shazam.com/{id}",placeholder:"{path}"}]}]},{name:"Slack",ios_namespace:"slack",android_namespace:"slack",ios_scheme:"slack://",ios_app_url:"https://apps.apple.com/us/app/slack/id618783545",android_app_url:"https://play.google.com/store/apps/details?id=com.Slack",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/slack.jpg",category:["popular","productivity"],app_maps:[{name:"Slack General",types:[{label:"Home",example:"slack.com/",ios:"",android:"intent://go.slack.com/{id}#Intent;package=com.Slack;scheme=https;end",placeholder:"{path}"}]}]},{name:"SMS",ios_namespace:"sms",android_namespace:"sms",ios_app_url:"https://apps.apple.com/us/app/rebrandly/id1103787320",android_app_url:"https://play.google.com/store/apps/details?id=com.rebrandlynative&hl=en",ios_scheme:"sms://",skip_store:!0,icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/sms.jpg",category:["productivity"],app_maps:[{name:"General",types:[{label:"Number",example:"sms://+3900000000",ios:"",android:"sms://{id}",placeholder:"{number}"}]}]},{name:"Snapchat",ios_namespace:"snapchat",android_namespace:"snapchat",ios_scheme:"snapchat://",ios_app_url:"https://apps.apple.com/us/app/snapchat/id447188370",android_app_url:"https://play.google.com/store/apps/details?id=com.snapchat.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/snapchat.jpg",category:["popular","telecom"],app_maps:[{name:"Snapchat General",types:[{label:"Home",example:"snapchat.com/",ios:"",android:"snapchat.com/{id}",placeholder:"{path}"}]}]},{name:"Spotify",ios_namespace:"spotify",android_namespace:"spotify",ios_scheme:"spotify://",ios_app_url:"https://apps.apple.com/us/app/spotify-music/id324684580?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.spotify.music&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/spotify.jpg",category:["popular","music"],app_maps:[{name:"Spotify Album",types:[{label:"Album",example:"open.spotify.com/album/",ios:"",android:"intent://album/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{album}"}]},{name:"Spotify Generic",types:[{label:"Home",example:"open.spotify.com/",ios:"",android:"intent://{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{path}"}]},{name:"Spotify Episode",types:[{label:"Episode",example:"open.spotify.com/episode",ios:"episode/",android:"intent://episode/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{episode}"}]},{name:"Spotify Show",types:[{label:"Show",example:"open.spotify.com/show/",ios:"show/",android:"intent://show/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{show}"}]},{name:"Spotify Artist",types:[{label:"Artist",example:"open.spotify.com/artist/",ios:"artist/",android:"intent://artist/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{artist}"}]},{name:"Spotify Track",types:[{label:"Track",example:"open.spotify.com/track/",ios:"track/",android:"intent://track/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{track}"}]},{name:"Spotify Playlist",types:[{label:"Playlist",example:"open.spotify.com/playlist/",ios:"playlist/",android:"intent://playlist/{id}#Intent;package=com.spotify.music;scheme=spotify;end",placeholder:"{playlist}"}]}]},{name:"Target",ios_namespace:"target",android_namespace:"target",ios_scheme:"target://www.target.com/",ios_app_url:"https://apps.apple.com/us/app/target/id297430070?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.target.ui&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/target.jpg",category:["shopping"],app_maps:[{name:"Target - All",types:[{label:"Product",example:"www.target.com/p/",ios:"p/",android:"intent://www.target.com/p/{id}#Intent;package=com.target.ui;scheme=https;end",placeholder:"{product}"},{label:"Category",example:"www.target.com/c/",ios:"c/",android:"intent://www.target.com/c/{id}#Intent;package=com.target.ui;scheme=https;end",placeholder:"{category}"}]},{name:"Target General",types:[{label:"Home",example:"target.com/",ios:"",android:"intent://www.target.com/{id}#Intent;package=com.target.ui;scheme=https;end",placeholder:"{path}"}]}]},{name:"Telephone",ios_namespace:"telephone",android_namespace:"telephone",ios_app_url:"https://apps.apple.com/us/app/rebrandly/id1103787320",android_app_url:"https://play.google.com/store/apps/details?id=com.rebrandlynative&hl=en",ios_scheme:"tel://",skip_store:!0,icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/telephone.jpg",category:["productivity"],app_maps:[{name:"General",types:[{label:"Number",example:"tel://+3900000000",ios:"",android:"tel://{id}",placeholder:"{number}"}]}]},{name:"Telegram",ios_namespace:"telegram",android_namespace:"telegram",ios_scheme:"tg://",ios_app_url:"https://apps.apple.com/us/app/telegram-messenger/id686449807",android_app_url:"https://play.google.com/store/apps/details?id=org.telegram.messenger&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/telegram.jpg",category:["productivity"],app_maps:[{name:"General",types:[{label:"Home",example:"tg.me/",ios:"",android:"tg://{id}",placeholder:"{path}"}]}]},{name:"TikTok",ios_namespace:"tiktok",android_namespace:"tiktok",ios_scheme:"snssdk1233://",ios_app_url:"https://apps.apple.com/np/app/tiktok/id835599320",android_app_url:"https://play.google.com/store/apps/details?id=com.ss.android.ugc.trill",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/tiktok.jpg",category:["popular","telecom"],app_maps:[{name:"TikTok - Profile",types:[{label:"Profile",example:"www.tiktok.com/profile_name/video/",ios:"",android:"intent://home/{id}#Intent;package=com.zhiliaoapp.musically;scheme=snssdk1233;end",placeholder:"{profile}"}]},{name:"TikTok - Video",types:[{label:"Video",example:"www.tiktok.com/",ios:"vm.tiktok.com/video/",android:"intent://aweme/detail/{id}#Intent;package=com.zhiliaoapp.musically;scheme=snssdk1233;end",placeholder:"{video}"}]}]},{name:"Trip Advisor",ios_namespace:"tripadvisor",android_namespace:"tripadvisor",ios_scheme:"tripadvisor://",ios_app_url:"https://apps.apple.com/us/app/tripadvisor-hotels-vacation/id284876795",android_app_url:"https://play.google.com/store/apps/details?id=com.tripadvisor.tripadvisor&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/tripadvisor.jpg",category:["travel"],app_maps:[{name:"General",types:[{label:"General",example:"tripadvisor.com/",ios:"",android:"intent://www.tripadvisor.com/{id}#Intent;package=com.tripadvisor.tripadvisor;scheme=https;end",placeholder:"{path}"}]}]},{name:"Trulia",ios_namespace:"trulia",android_namespace:"trulia",ios_scheme:"trulia://",ios_app_url:"https://apps.apple.com/us/app/trulia-real-estate-find-homes/id288487321",android_app_url:"https://play.google.com/store/apps/details?id=com.trulia.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/trulia.jpg",category:["real estate"],app_maps:[{name:"Trulia Home",types:[{label:"Home",example:"trulia.com/",ios:"",android:"https://trulia.com/{id}",placeholder:"{path}"}]}]},{name:"Uber",ios_namespace:"uber",android_namespace:"uber",ios_scheme:"uber://",ios_app_url:"https://apps.apple.com/us/app/uber/id368677368",android_app_url:"https://play.google.com/store/apps/details?id=com.ubercab",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/uber.jpg",category:["travel"],app_maps:[{name:"Uber Home",types:[{label:"Home",example:"uber.com/",ios:"",android:"https://uber.com/{id}",placeholder:"{path}"}]}]},{name:"Uber Eats",ios_namespace:"ubereats",android_namespace:"ubereats",ios_scheme:"ubereats://",ios_app_url:"https://apps.apple.com/us/app/uber-eats-food-delivery/id1058959277",android_app_url:"https://play.google.com/store/apps/details?id=com.ubercab.eats&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/uber_eats.jpg",category:["popular"],app_maps:[{name:"Uber Eats General",types:[{label:"Home",example:"ubereats.com/",ios:"",android:"ubereats://{id}",placeholder:"{path}"}]}]},{name:"Viber",ios_namespace:"viber",android_namespace:"viber",ios_app_url:"https://apps.apple.com/us/app/viber-messenger-chats-calls/id382617920",android_app_url:"https://play.google.com/store/apps/details?id=com.viber.voip",ios_scheme:"viber://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/viber.jpg",category:["music"],app_maps:[{name:"Viber General",types:[{label:"Home",example:"viber.com/",ios:"",android:"viber://{id}",placeholder:"{path}"}]}]},{name:"Vimeo",ios_namespace:"vimeo",android_namespace:"vimeo",ios_scheme:"vimeo://",ios_app_url:"https://apps.apple.com/us/app/vimeo/id425194759?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.vimeo.android.videoapp&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/vimeo.jpg",category:["video"],app_maps:[{name:"Vimeo Video",types:[{label:"Video",example:"vimeo.com/",ios:"app.vimeo.com/",android:"vimeo://app.vimeo.com/{id}",placeholder:"{video}"}]}]},{name:"Walmart",ios_scheme:"walmart://",ios_namespace:"walmart",android_namespace:"walmart",ios_app_url:"https://apps.apple.com/us/app/walmart-app-savings-catcher/id338137227?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.walmart.android&hl=en",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/walmart.jpg",category:["popular","shopping"],app_maps:[{name:"Walmart Product 1",types:[{label:"Product",example:"walmart.com/ip/",ios:"ip/",android:"walmart://ip/{id}",placeholder:"{product}"}]},{name:"Walmart Search Result",types:[{label:"Search",example:"walmart.com/search/",ios:"search/",android:"https://walmart.com/search/{id}",placeholder:"{search}"}]},{name:"Walmart General",types:[{label:"Home",example:"walmart.com/",ios:"",android:"https://walmart.com/{id}",placeholder:"{path}"}]}]},{name:"WeChat",ios_namespace:"wechat",android_namespace:"wechat",ios_app_url:"https://apps.apple.com/us/app/wechat/id414478124",android_app_url:"https://play.google.com/store/apps/details?id=com.tencent.mm",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/wechat.jpg",category:["popular","telecom"],ios_scheme:"wechat://",app_maps:[{name:"WeChat General",types:[{label:"Home",example:"wechat.com/",ios:"",android:"https://wechat.com/{id}",placeholder:"{path}"}]}]},{name:"WhatsApp",ios_namespace:"whatsapp",android_namespace:"whatsapp",ios_scheme:"whatsapp://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/whatsapp.jpg",ios_app_url:"https://apps.apple.com/us/app/whatsapp-messenger/id310633997?mt=8",android_app_url:"https://play.google.com/store/apps/details?id=com.whatsapp&hl=en",category:["popular","telecom"],app_maps:[{name:"Whatsup General",types:[{label:"Home",example:"whatsapp.com/",ios:"send/?phone=",android:"intent://send?phone={id}&text=#Intent;package=com.whatsapp;scheme=whatsapp;end",placeholder:"{phone}"}]}]},{name:"Wrike",ios_namespace:"wrike",android_namespace:"wrike",ios_scheme:"wrikeapp://",ios_app_url:"https://apps.apple.com/us/app/wrike/id890048871",android_app_url:"https://play.google.com/store/apps/details?id=com.wrike",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/wrike.jpg",category:["productivity"],app_maps:[{name:"Wrike General",types:[{label:"Home",example:"wrike.com/",ios:"",android:"wrikeapp://{id}",placeholder:"{path}"}]}]},{name:"Yelp",ios_namespace:"yelp",android_namespace:"yelp",ios_scheme:"yelp://",ios_app_url:"https://apps.apple.com/us/app/yelp/id284910350",android_app_url:"https://play.google.com/store/apps/details?id=com.yelp.android",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/yelp.jpg",category:["popular"],app_maps:[{name:"Yelp Business Profile",types:[{label:"Profile",example:"yelp.com/biz/",ios:"biz/",android:"intent://www.yelp.com/biz/{id}#Intent;package=com.yelp.android;scheme=https;end",placeholder:"{profile}"}]},{name:"Yelp Review",types:[{label:"Review",example:"yelp.com/writeareview/biz/",ios:"biz/",android:"intent://www.yelp.com/writeareview/biz/{id}#Intent;package=com.yelp.android;scheme=https;end",placeholder:"{review}"}]}]},{name:"Youtube",ios_namespace:"youtube",android_namespace:"youtube",ios_scheme:"vnd.youtube://",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/youtube.jpg",ios_app_url:"https://apps.apple.com/us/app/youtube/id544007664",android_app_url:"https://play.google.com/store/apps/details?id=com.google.android.youtube",category:["popular","video","music"],app_maps:[{name:"Youtube Video",types:[{label:"Video",example:"youtube.com/watch?v=",ios:"www.youtube.com/watch?v=",android:"intent://www.youtube.com/watch?v={id}#Intent;package=com.google.android.youtube;scheme=https;end",placeholder:"{video}"}]},{name:"Youtube Profile",types:[{label:"Profile",example:"youtube.com/user/",ios:"user/",android:"intent://www.youtube.com/user/{id}#Intent;package=com.google.android.youtube;scheme=https;end",placeholder:"{profile}"}]},{name:"Youtube Channel",types:[{label:"Channel",example:"youtube.com/channel/",ios:"www.youtube.com/channel/",android:"intent://www.youtube.com/channel/{id}#Intent;package=com.google.android.youtube;scheme=https;end",placeholder:"{channel}"}]}]},{name:"Zillow",ios_namespace:"zillow",android_namespace:"zillow",ios_scheme:"zillow://",ios_app_url:"https://apps.apple.com/us/app/zillow-real-estate-rentals/id310738695",android_app_url:"https://play.google.com/store/apps/details?id=com.trulia.android.agent",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/zillow.jpg",category:["real estate"],app_maps:[{id:318,name:"Zillow",types:[{label:"All",example:"zillow.com/",ios:"",android:"https://zillow.com/{id}",placeholder:"{path}"}]}]},{name:"Zoom Cloud Meetings",ios_namespace:"zoom",android_namespace:"zoom",ios_scheme:"zoomus://",ios_app_url:"https://apps.apple.com/us/app/zoom-cloud-meetings/id546505307",android_app_url:"https://play.google.com/store/apps/details?id=us.zoom.videomeetings",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/zoom.jpg",category:["productivity"],app_maps:[{name:"Zoom General",types:[{label:"Home",example:"zoom.us/",ios:"",android:"intent://{id}#Intent;package=us.zoom.videomeetings;scheme=https;end",placeholder:"{path}"}]}]},{name:"iHeartRadio",ios_namespace:"iheartradio",android_namespace:"iheartradio",ios_scheme:"iheartradio://",ios_app_url:"https://apps.apple.com/us/app/iheartradio-radio-podcasts/id290638154",android_app_url:"https://play.google.com/store/apps/details?id=com.clearchannel.iheartradio.controller",icon:"https://dashboard-cdn.rebrandly.com/dashboard-assets/images/deeplink-apps/iHeartRadio.jpg",category:["music"],app_maps:[{name:"IHeartRadio General",types:[{label:"Home",example:"iheart.com/",ios:"",android:"intent://iheartradio.app.link/{id}#Intent;package=com.clearchannel.iheartradio.controller;scheme=https;end",placeholder:"{path}"}]}]}],Ne=(a(1345),{require_protocol:!1,require_valid_protocol:!1,require_tld:!0,allow_trailing_dot:!0,allow_underscores:!0,showUpsellDomain:!1}),Se=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={hasApps:!1,isLoading:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(N.r)(this.props.app.id).then((function(t){var a=t.count;e.setState({hasApps:!!a})}))}},{key:"render",value:function(){var e=this.props,t=e.app,a=e.primaryButtonProps;return l.a.createElement(je.c,{iconName:"ic-trash-bin",className:"m-l-8 Delete-Deep-App",iconSize:"xsmall",style:{padding:"0"},confirmableProps:{noPrimaryButton:this.state.hasApps,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:this.state.hasApps?"App cannot be deleted":"Delete configured app?",message:this.state.hasApps?l.a.createElement("span",null,"Deleting ",l.a.createElement("b",null,t.namespace)," is not permitted at this moment as there are instances used elsewhere in your links. In order to remove this app you need to delete all the deep link rules associated with it in other branded links."):l.a.createElement("span",null,"Deleting ",l.a.createElement("b",null,t.namespace)," is a permanent action and cannot be undone. It will result in you and all of your teammates losing access to it and you will not be able to recover this information later."),primaryButtonProps:this.state.hasApps?null:a,secondaryButtonProps:{label:this.state.hasApps?"Ok":"Cancel"}},onDelete:this.props.onDelete})}}]),a}(c.PureComponent),xe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).debouncedhandleAppUrl=we()((function(){return o.handleAppUrl()}),S.a.debounceSearchTime),o.searchInstallUrl=function(e){o.setState({installUrl:e,id:null,listOpen:!1,scheme:null},(function(){o.setState({installUrlUI:{}}),e.length>=4&&o.debouncedhandleAppUrl()}))},o.handleNewApp=function(e){var t=o.state,a=t.name,r=t.namespace,s=t.scheme,i=t.hash,c=t.type,l=t.installUrl,u=t.id;e.ios_namespace||e.android_namespace?o.setState({next:!0,isLoading:!0,installUrl:e.installUrl},(function(){var t=o.props.workspaceApps.find((function(t){return t.installUrl===e.installUrl}));if(t&&t.id)o.setState({next:!0,isLoading:!0}),o.props.onNext(Object(n.a)(Object(n.a)({},e),{},{namespace:"ios"===o.props.type?e.ios_namespace:e.android_namespace,fromPopular:!0,id:t.id,skipStore:e.skipStore,name:"".concat(e.name," preconfigured for ").concat("ios"===o.props.type?"iOS":"Android")}));else{var a={name:e.name,namespace:"ios"===o.props.type?e.ios_namespace:e.android_namespace,type:o.props.type,scheme:e.ios_scheme};o.handleAppUrl(!0,a).then((function(){o.props.onAttachApp({name:"".concat(e.name," preconfigured for ").concat("ios"===o.props.type?"iOS":"Android"),namespace:"ios"===o.props.type?e.ios_namespace:e.android_namespace,type:o.props.type,scheme:o.state.scheme,hash:o.state.hash,installUrl:e.installUrl}).then((function(){o.setState({showPopApp:!1}),o.props.onNext(Object(n.a)(Object(n.a)({},e),{},{namespace:"ios"===o.props.type?e.ios_namespace:e.android_namespace,fromPopular:!0,skipStore:e.skipStore,name:"".concat(e.name," preconfigured for ").concat("ios"===o.props.type?"iOS":"Android"),id:o.props.workspaceApps.find((function(e){return e.installUrl===o.state.installUrl})).id}))})).catch((function(){o.setState({showPopApp:!1}),o.props.onNext(Object(n.a)(Object(n.a)({},e),{},{namespace:"ios"===o.props.type?e.ios_namespace:e.android_namespace,fromPopular:!0,name:"".concat(e.name," preconfigured  for ").concat("ios"===o.props.type?"iOS":"Android")}))}))}))}})):u?(o.setState({next:!0,isLoading:!0}),o.props.onNext({id:u,installUrl:l,name:a,scheme:s})):(o.setState({isLoading:!0}),o.props.onAttachApp({name:"".concat(a," for ").concat("ios"===o.props.type?"iOS":"Android"),namespace:r,type:c,scheme:s,hash:i,installUrl:l.startsWith("http")?l:"https://".concat(l)}).then((function(){o.props.onNext({id:o.props.workspaceApps.find((function(e){return e.scheme===s})).id,installUrl:l,name:a,scheme:s})})))},o.rule=function(e){var t=e.id,a=(e.namespace,o.props.workspaceApps.find((function(e){return e.id===t}))),n=a.installUrl,r=a.scheme,s=a.name;o.setState({id:t,name:s,listOpen:!1,listOpenIcon:!1,fromList:!0,installUrl:n,installUrlUI:{theme:"success"},scheme:r})},o.onSelectedConfApp=function(e){o.setState({showAppConf:!0,appConfig:e,installUrl:e.ios_app_url})},o.state={name:null,namespace:null,aasa:null,installUrl:null,showApp:!1,showAppConf:!1,appConfig:null,sha256:null,isLoading:!1,selectedFormat:0,category:"popular",scheme:null,id:null,type:null,displayAppsSelector:!1,hash:null,installUrlUI:{},listOpen:!1},o}return Object(o.a)(a,[{key:"handleInput",value:function(e,t){return this.setState(Object(L.a)({},e,t))}},{key:"handleAppUrl",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){t.setState({isLoading:!0,listOpen:!1},(function(){Object(N.Hb)(Object(n.a)({url:t.state.installUrl,target:"appTitle",type:t.props.type},a)).then((function(a){var n=a.recommendations,o=n.name,s=n.namespace,i=n.scheme,c=n.hash;t.setState({name:o,namespace:s,scheme:i,hash:c,type:t.props.type,fromList:t.props.workspaceApps.some((function(e){return e.scheme===i})),isLoading:e,installUrlUI:{theme:"success"}},(function(){return r()}))}),(function(){t.setState({name:"",namespace:"",scheme:"",hash:null,isLoading:!1,installUrlUI:{theme:"error"}},(function(){return o()}))}))}))}))}},{key:"renderIconLoading",value:function(){switch(this.state.installUrlUI.theme){case"warning":case"error":return"ic-warning";case"success":return"ic-checkmark";default:return""}}},{key:"renderDeleteAction",value:function(e){var t=this;return l.a.createElement(Se,{app:e,primaryButtonProps:{label:"Delete",theme:"delete",isLoading:this.state.isLoading},onDelete:function(){t.setState({isLoading:!0,listOpen:!1,listOpenIcon:!1}),t.props.onDetachApp(t.props.workspaceId,e.id).then((function(){t.setState({installUrl:"",installUrlUI:{},isLoading:!1,fromList:!1,scheme:""})}))}})}},{key:"renderConfApp",value:function(){var e=this;if(this.state.showAppConf){var t=this.state.appConfig,a=d()(t.app_maps[this.state.selectedFormat],"types",[])[0],n=a.android.split("{id}"),r=Object(ye.a)(n,2),o=r[0],s=r[1],i="ios"===this.props.type?t.ios_app_url:t.android_app_url;return l.a.createElement(f.Card,null,l.a.createElement(f.CardBody,{style:{backgroundColor:"#f9f9fa"},className:"AppItem__body flex-column"},l.a.createElement("div",{className:"AppItemDetails AppItemDetails--relative center-align"},l.a.createElement("div",{className:"AppItemDetails--relative"},l.a.createElement("div",{className:"AppItemDetails--loader"}," ",l.a.createElement(f.Loading,{size:"sm"})),l.a.createElement("img",{className:"AppItemDetails--apps-image",src:t.icon,width:"50",alt:t.name})),l.a.createElement("div",{className:"flex middle-xs"},l.a.createElement(f.Text,{className:"AppItemDetails__name AppItemDetails__name--apps Text--SubDetail Text--small"},t.name))),l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold"},"We support the following types"),l.a.createElement("div",{className:"m-t-12 m-b-24 row m-l-4 m-r-4 flex"},t.app_maps.map((function(t,n){return l.a.createElement(f.Label,{key:n,value:t.types[0].label,className:"m-r-24 m-b-12"},l.a.createElement(f.Radio,{name:"type-selector",onClick:function(){return!e.state.isLoading&&e.setState({selectedFormat:n})},key:n,checked:d()(a,"label")===t.types[0].label}))}))),l.a.createElement("div",{className:"UrlFormat"},l.a.createElement(f.Label,{value:l.a.createElement("div",null,l.a.createElement(f.Icon,{className:"m-r-4 m-b-12",name:"ic-os-".concat(this.props.type),size:"xsmall"}),"URL FORMAT")},l.a.createElement(f.Input,{onChange:function(t){return e.handleInput("scheme",t)},value:a.example,placeholder:"ios"===this.props.type?"ios-deep-link-path://":"android-deep-link-path://"})),l.a.createElement(f.Button,{className:"m-t-24",onClick:function(){return e.handleNewApp({name:t.name,scheme:t.scheme,ios_namespace:t.ios_namespace,android_namespace:t.android_namespace,skip_store:t.skip_store,apex:a.ios,prepend:o,append:s,ios_scheme:t.ios_scheme,type:e.props.type,installUrl:i,placeholder:a.placeholder,fallback:{mode:"web",destination:"".concat(a.example).concat(a.placeholder)}})},isLoading:this.state.isLoading,disabled:this.state.isLoading,theme:"primary",label:"Next"}))))}return null}},{key:"renderPopularApps",value:function(){var e=this;return this.state.showAppConf?null:l.a.createElement("div",{className:"row"},Ce.map((function(t,a){return l.a.createElement("div",{key:a,className:"col-xs-3 col-sm-2 col-lg-2"},l.a.createElement(f.A,{onClick:function(){return e.onSelectedConfApp(t)}},l.a.createElement(f.Card,null,l.a.createElement(f.CardBody,{style:{backgroundColor:"#fff"},className:"AppItem__body AppItem__body--apps m-b-4 flex-column"},l.a.createElement("div",{className:"AppItemDetails center-align"},l.a.createElement(f.A,{size:"x-small",className:"AppItemDetails__name AppItemDetails__name--apps Text--SubDetail"},l.a.createElement("div",{className:"AppItemDetails--relative"},l.a.createElement("div",{className:"AppItemDetails--loader"},l.a.createElement(f.Loading,{size:"sm"})),l.a.createElement("img",{className:"AppItemDetails--apps-image",src:t.icon,width:"50",alt:t.name})),t.name))))))})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.namespace,r=t.scheme,o=t.hash,s=t.id||a&&n&&r&&o,i="ios"===this.props.type,c=this.props.workspaceApps.filter((function(t){return!Ce.find((function(a){return a["".concat(e.props.type,"_namespace")]===t["".concat(e.props.type,"_namespace")]}))})),u=this.props.workspaceApps.length>=50;return l.a.createElement(ve.a,{className:"m-b-24 no-hover"},l.a.createElement("div",{className:"col-xs-12"},l.a.createElement("div",{className:"m-b-24"},l.a.createElement(f.Label,{className:"StoreUrl-label",size:"lg",theme:this.state.installUrlUI.theme,value:l.a.createElement("div",null,"ios"===this.props.type?"App Store url":"Google Play url",l.a.createElement(f.Tooltip,{overlay:i?l.a.createElement("span",null,"The iTunes URL associated with your app.",l.a.createElement("br",null),l.a.createElement(f.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Read more")):l.a.createElement("span",null,"The Play Store URL associated with your app.",l.a.createElement("br",null),l.a.createElement(f.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Read more")),placement:"top"},l.a.createElement(f.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"})))},l.a.createElement(f.Dropdown,{disabled:this.state.isLoading,onOpen:function(){return e.setState({listOpenIcon:!0})},onClose:function(){return e.setState({listOpenIcon:!1,showAppConf:!1})}},l.a.createElement(f.Trigger,null,l.a.createElement(f.Tooltip,{placement:"top",display:u,overlay:l.a.createElement("span",null,"Max apps limit reached for this workspace, ",l.a.createElement("br",null),"for more info ",l.a.createElement(f.A,{href:"https://rebrandly.support/contact",target:"_blank"},"contact us"))},l.a.createElement(f.Input,{onChange:this.searchInstallUrl,message:u&&"max apps limit reached",value:this.state.installUrl||"",disabled:this.state.isLoading,icon:this.renderIconLoading(),theme:u?"error":this.state.installUrlUI.theme,placeholder:i?"https://itunes.apple.com/us/app/rebrandly/id1103787320?mt=8":"https://play.google.com/store/apps/details?id=com.yourapp",button:l.a.createElement(f.IconButton,{className:"p-0",theme:"ghost",icon:{name:this.state.listOpenIcon?"ic-drop-downup":"ic-drop-down",size:"tiny"}})}))),l.a.createElement(f.Content,{className:"col-xs-12"},c.map((function(t,a){return l.a.createElement("div",{key:a,onClick:function(){return e.rule(t)},className:"trigger-links flex middle-xs m-b-12 m-t-12 col-xs-12"},l.a.createElement("div",{className:"trigger-links--name"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail m-r-24"},t.name)),l.a.createElement(f.A,{href:t.installUrl,target:"_blank"},l.a.createElement(f.IconButton,{className:"OptionsRow__icon",theme:"ghost",icon:{name:"ic-os-".concat(e.props.type),color:"var(--color-grey-400)",size:"xsmall"}})),e.renderDeleteAction(t))})),l.a.createElement("div",{key:"pop",className:"trigger-links flex middle-xs m-b-12 m-t-12 col-xs-12"},l.a.createElement("div",{className:"trigger-links--name",onClick:function(){return e.setState({showPopApp:!0})}},l.a.createElement(f.A,{size:"small",className:"m-r-24"},"Find most popular apps"))))))),l.a.createElement(f.Modal,{size:"lg",isOpen:this.state.showPopApp,showClose:!0,onClose:function(){return e.setState({showPopApp:!1,showAppConf:!1})},shouldCloseOnOverlayClick:!1},l.a.createElement(f.ModalContent,null,l.a.createElement("div",{className:"Apps__Container Apps__Container--no-margin row"},l.a.createElement("div",{className:"Apps__Content col-md-12 col-sm-12"},this.renderPopularApps(),this.renderConfApp())))),(this.state.hash||this.state.fromList)&&l.a.createElement("div",{className:"m-b-24"},l.a.createElement(f.Label,{value:l.a.createElement("div",null,"API URI SCHEME",l.a.createElement(f.Tooltip,{overlay:l.a.createElement("span",null,"Your app URI scheme is crucial",l.a.createElement("br",null)," for deep links to work, make",l.a.createElement("br",null)," sure is correct. ",l.a.createElement(f.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Read more")),placement:"top"},l.a.createElement(f.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"})))},l.a.createElement(f.Input,{onChange:function(t){return e.handleInput("scheme",t)},value:this.state.scheme,disabled:this.state.fromList||this.state.isLoading,placeholder:i?"ios-deep-link-path://":"android-deep-link-path://"}))),l.a.createElement(f.Button,{disabled:!s||this.state.isLoading,theme:"primary",label:"Next",isLoading:this.state.isLoading,onClick:this.handleNewApp})))}}]),a}(c.PureComponent);xe.defaultProps={appRules:[],type:ke.string};var Le=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this;e="ios"===this.props.app.type?this.props.app.ios_scheme?"".concat(this.props.app.ios_scheme).concat(this.props.app.apex).concat(this.props.app.path):"".concat(this.props.app.scheme).concat(this.props.app.path):this.props.app.prepend?"".concat(this.props.app.prepend).concat(this.props.app.path).concat(this.props.app.append):"".concat(this.props.app.scheme).concat(this.props.app.path);var a=l.a.createElement("span",null,"ios"===this.props.type?"App Store":"Google Play"," (",l.a.createElement(f.A,{href:this.props.app.installUrl,target:"_blank",size:"small"},"preview"),")");if("saved"===this.props.state){if(this.props.app.fallback){var n=this.props.app.fallback.destination&&!this.props.app.fallback.destination.match(/^[a-zA-Z]+:\/\//)?"https://".concat(this.props.app.fallback.destination):this.props.app.fallback.destination;"prompt"===this.props.app.fallback.mode?a=l.a.createElement("span",null,"Landing page  (",l.a.createElement(f.A,{size:"md",href:n,target:"_blank"},"fallback"),")"):"web"===this.props.app.fallback.mode&&(a=l.a.createElement("span",null,"Mobile page only (",l.a.createElement(f.A,{size:"md",href:n,target:"_blank"},"preview"),")"))}return l.a.createElement(ve.a,{className:"RoutingBox m-b-24"},l.a.createElement("div",{className:"RoutingBoxActions ActionsBox__actions flex middle-xs"},l.a.createElement(je.b,{tooltip:{overlay:"Copy destination URL",placement:"top"},toCopy:e}),l.a.createElement(f.Tooltip,{overlay:"Delete rule"},l.a.createElement(f.IconButton,{icon:{name:"ic-trash-bin"},theme:"dangerGhost",onClick:this.props.onDelete}))),l.a.createElement("div",{className:"row flex-baseline"},l.a.createElement("div",{className:"col-xs-4 Text--SubDetail"},"Rule"),l.a.createElement("div",{className:"col-xs-8 flex full-width"},l.a.createElement(f.Icon,{className:"m-l-4",name:"ic-os-".concat(this.props.type),size:"tiny"}),l.a.createElement(f.Tooltip,{overlay:this.props.app.name,placement:"top"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold m-l-4 m-r-8",singleLine:!0},this.props.app.name))),l.a.createElement("div",{className:"col-xs-4 m-t-24 Text--SubDetail"},"Destination URL"),l.a.createElement("div",{className:"col-xs-8 flex full-width"},l.a.createElement(f.Icon,{size:"xsmall",color:"#c7c9cb",name:"ic-link"}),l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold m-l-4",singleLine:!0},e)),l.a.createElement("div",{className:"col-xs-4 m-t-24 Text--SubDetail"},"Install flow"),l.a.createElement("div",{className:"col-xs-8 flex full-width"},l.a.createElement(f.Text,{size:"small",className:"Text--SubDetail font-semibold m-l-4",singleLine:!0},"tel://"===this.props.app.ios_scheme||"sms://"===this.props.app.ios_scheme?"default":a))))}return l.a.createElement(ve.a,{className:"RoutingBox m-b-24 no-hover"},l.a.createElement("div",{className:"col-xs-12"},l.a.createElement("div",{className:"m-b-24"},l.a.createElement(f.Label,{size:"small",value:l.a.createElement("div",null,l.a.createElement(f.Text,{size:"small",className:"inline font-light"},"When")," ",l.a.createElement(f.Text,{size:"small",className:"inline font-semibold"},this.props.app.name," is installed"),l.a.createElement(f.Text,{size:"small",className:"inline font-light"},", send to:"))},l.a.createElement("div",{className:"AppRule_path m-t-12"},l.a.createElement("div",{className:"m-r-12 font-semibold"},this.props.app.prepend&&"ios"!==this.props.type?l.a.createElement(f.Tooltip,{overlay:l.a.createElement("span",null,this.props.app.prepend,this.props.app.placeholder,this.props.app.append),placement:"top"},l.a.createElement("span",{className:"Text--Label"},"Android intent")):l.a.createElement(f.Text,{size:"small"},this.props.app.fromPopular&&"ios"===this.props.type?l.a.createElement(f.Tooltip,{overlay:this.props.app.ios_scheme},l.a.createElement("span",{className:"Text--Label"},"iOS intent")):this.props.app.scheme)),l.a.createElement("div",{className:"AppRule_path_input"},l.a.createElement(f.Input,{value:this.props.app.path,onChange:this.props.onHandlePath,placeholder:this.props.app.placeholder||"home?q=promo"}))))),"tel://"!==this.props.app.ios_scheme&&"sms://"!==this.props.app.ios_scheme&&l.a.createElement("div",{className:"m-b-24"},l.a.createElement(f.Text,{size:"small",className:"inline font-light when-not"},"When")," ",l.a.createElement(f.Text,{size:"small",className:"inline when-not font-semibold"},this.props.app.name," is NOT installed"),l.a.createElement(f.Text,{size:"small",className:"when-not inline font-light"},", send to:"),l.a.createElement("div",{className:"m-t-12"},l.a.createElement("div",{className:"row middle-xs m-b-8  m-b-24"},l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(f.Label,{size:"lg",onClick:function(){return t.props.handleFallback("S")},value:l.a.createElement(f.Text,{size:"small"},"ios"===this.props.type?"App Store":"Google Play"," only - ",l.a.createElement(f.A,{href:this.props.app.installUrl,target:"_blank",size:"small"},"preview"))},l.a.createElement(f.Radio,{name:"store-".concat(this.props.type),checked:"S"===this.props.app.fallback.mode})))),l.a.createElement("div",{className:"row middle-xs  m-b-24"},l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(f.Label,{size:"lg",onClick:function(){return t.props.handleFallback("prompt")},value:l.a.createElement(f.Text,{size:"small"},"Landing page")},l.a.createElement(f.Radio,{name:"store-".concat(this.props.type),checked:"prompt"===this.props.app.fallback.mode}))),"prompt"===this.props.app.fallback.mode&&l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(f.Input,{className:"m-t-8",theme:this.props.app.fallback.error?"error":"",value:"prompt"===this.props.app.fallback.mode?this.props.app.fallback.destination:"",onChange:this.props.handleFallbackInput,placeholder:"Fallback mobile website"}))),l.a.createElement("div",{className:"row middle-xs m-b-16"},l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(f.Label,{size:"lg",onClick:function(){return t.props.handleFallback("web")},value:l.a.createElement(f.Text,{size:"small"},"Mobile page only")},l.a.createElement(f.Radio,{name:"store-".concat(this.props.type),checked:"web"===this.props.app.fallback.mode}))),"web"===this.props.app.fallback.mode&&l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(f.Input,{className:"m-t-8",theme:this.props.app.fallback.error?"error":"",value:"web"===this.props.app.fallback.mode?this.props.app.fallback.destination:"",onChange:this.props.handleFallbackInput,placeholder:"Fallback mobile website"})))))))}}]),a}(c.PureComponent),Te=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;Object(r.a)(this,a),(o=t.call(this,e)).onNext=function(e,t){var a=Object(L.a)({},t,{isValid:!0,step:1,state:"unsaved",rule:Object(n.a)(Object(n.a)({fallback:{mode:"S"},placeholder:"home"},e),{},{type:t})});a[t].rule.skip_store&&delete a[t].rule.fallback,o.setState(a)},o.onNone=function(e){o.setState(Object(L.a)({},e,{isValid:!0,step:0,state:"none",rule:null,isLoading:!1}))},o.onCancel=function(e){o.setState(Object(L.a)({},e,{step:0,state:"unsaved",rule:null,isLoading:!1}))},o.onSubmit=function(){var e=[],t={};if(Object.keys(o.state).forEach((function(a,r){if(o.state[a].rule&&"unsaved"===o.state[a].state){var s;t=Object(n.a)(Object(n.a)({},t),{},Object(L.a)({},a,Object(n.a)(Object(n.a)({},o.state[a]),{},{isSaving:!0})));var i,c=new se.a(o.state[a].rule.path,{},!0),l=c.query;c.set("pathname",c.pathname||"{{deeplink}}"),i="ios"===a?Object(n.a)(Object(n.a)({},l),{},{apex:o.state[a].rule.apex?encodeURIComponent(o.state[a].rule.apex):"",ios_scheme:o.state[a].rule.ios_scheme?encodeURIComponent(o.state[a].rule.ios_scheme):""}):Object(n.a)(Object(n.a)({},l),{},{prepend:o.state[a].rule.prepend?encodeURIComponent(o.state[a].rule.prepend):"",append:o.state[a].rule.append?encodeURIComponent(o.state[a].rule.append):""}),c.set("query",re.a.stringify(i)),s=o.state[a].rule.fallback&&"S"!==o.state[a].rule.fallback.mode?{path:o.state[a].rule.apex||o.state[a].rule.prepend?c.toString():o.state[a].rule.path,fallback:Object(n.a)(Object(n.a)({},o.state[a].rule.fallback),{},{destination:o.state[a].rule.fallback.destination.match(/^[a-zA-Z]+:\/\//)?o.state[a].rule.fallback.destination:"https://".concat(o.state[a].rule.fallback.destination)})}:{path:c.toString()},e.push({id:o.state[a].rule.id,payload:s,device:a})}})),e.length)if(1===e.length)o.setState(t),o.props.onSubmit(e[0].id,e[0].payload).then((function(){o.setState(Object(L.a)({},e[0].device,Object(n.a)(Object(n.a)({},o.state[e[0].device]),{},{isSaving:!1,state:"saved"})))}));else if(e.length>1){o.setState(t);var a={};Object.keys(o.state).forEach((function(e){a=Object(n.a)(Object(n.a)({},a),{},Object(L.a)({},e,Object(n.a)(Object(n.a)({},o.state[e]),{},{isSaving:!1,state:"saved"})))})),o.props.onSubmitMultiple(e).then((function(){o.setState(a)}))}},o.toggleDeleteModal=function(e){o.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},o.state[e]),{},{showDeleteModal:!o.state[e].showDeleteModal})))};var s={};return e.appRules.forEach((function(e){var t=e.type,a=e.name,n=e.id,r=e.scheme,o=e.path,i=e.fallback,c=e.installUrl,l=se()(o,{},!0),u=void 0!==d()(l,"query.ios_scheme")?decodeURIComponent(d()(l,"query.ios_scheme")):"",m=void 0!==d()(l,"query.prepend")?decodeURIComponent(d()(l,"query.prepend")):"",p=void 0!==d()(l,"query.append")?decodeURIComponent(d()(l,"query.append")):"",h=void 0!==d()(l,"query.apex")?decodeURIComponent(d()(l,"query.apex")):"",b="/{{deeplink}}"!==d()(l,"pathname")?"/"===d()(l,"pathname")[0]?d()(l,"pathname").substring(1):d()(l,"pathname"):"",f=d()(l,"query");delete f.prepend,delete f.append,delete f.apex,m&&re.a.stringify(d()(l,"query"))&&(b=b+(-1!==m.indexOf("?")?"&":"?")+re.a.stringify(d()(l,"query"))),s[t]={step:1,state:"saved",isValid:!0,rule:{type:t,name:a,installUrl:c,fallback:i,id:n,scheme:r,path:b,apex:h,ios_scheme:u,prepend:m,append:p}}})),o.state=Object(n.a)({ios:{isValid:!0,isSaving:!1,step:0,state:"none",rule:null},android:{isValid:!0,isSaving:!1,step:0,state:"none",rule:null}},s),o}return Object(o.a)(a,[{key:"onDelete",value:function(e,t){var a=this;this.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},this.state[e]),{},{isLoading:!0})),(function(){a.props.onDelete(t).then((function(){a.onNone(e)}))}))}},{key:"handlePath",value:function(e,t){this.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},this.state[e]),{},{rule:Object(n.a)(Object(n.a)({},this.state[e].rule),{},{path:t})})))}},{key:"handleFallback",value:function(e,t){t!==this.state[e].rule.fallback.mode&&("S"!==t?this.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},this.state[e]),{},{isValid:!1,rule:Object(n.a)(Object(n.a)({},this.state[e].rule),{},{fallback:{mode:t}})}))):this.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},this.state[e]),{},{isValid:!0,rule:Object(n.a)(Object(n.a)({},this.state[e].rule),{},{fallback:{mode:t}})}))))}},{key:"handleFallbackInput",value:function(e,t){var a=t&&!ce()(t,Ne);this.setState(Object(L.a)({},e,Object(n.a)(Object(n.a)({},this.state[e]),{},{isValid:!a,rule:Object(n.a)(Object(n.a)({},this.state[e].rule),{},{fallback:Object(n.a)(Object(n.a)({},this.state[e].rule.fallback),{},{destination:t,error:a})})})))}},{key:"onStateChange",value:function(e,t){e||("saved"===this.state[t].state?this.setState(Object(L.a)({},t,Object(n.a)(Object(n.a)({},this.state[t]),{},{showDeleteModal:!0}))):this.onNone(t)),e&&this.onCancel(t)}},{key:"renderOptionValue",value:function(e){return"none"===this.state[e].state?null:{value:1,label:"ios"===e?"iPhone and iPad behave the same":"Phone and tablet behave the same"}}},{key:"renderTitle",value:function(){return"saved"===this.state.ios.state||"saved"===this.state.android.state?"Deep link rules":"Create deep link rules"}},{key:"render",value:function(){var e=this;return l.a.createElement(f.Modal,{size:"lg",isOpen:this.props.isOpen,showClose:!0,onClose:this.props.onClose,shouldCloseOnOverlayClick:!1},l.a.createElement(f.ModalContent,null,l.a.createElement(f.Text,{className:"Text--SubTitle"},this.renderTitle(),l.a.createElement(f.Tooltip,{overlay:l.a.createElement("span",null,"Create deep link rules to improve user experience for users",l.a.createElement("br",null),"with the corresponding mobile app installed. ",l.a.createElement(f.A,{href:"https://rebrandly.support/DeepLinks",target:"_blank"},"Read more")),placement:"top"},l.a.createElement(f.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"xsmall"}))),Object.keys(this.state).map((function(t,a){var n;return n=0===e.state[t].step?l.a.createElement(xe,{onNext:function(a){return e.onNext(a,t)},type:t,onAttachApp:e.props.onAttachApp,onDetachApp:e.props.onDetachApp,workspaceApps:e.props.workspaceApps.filter((function(e){return e.type===t}))}):l.a.createElement(Le,{app:e.state[t].rule,state:e.state[t].state,onHandlePath:function(a){return e.handlePath(t,a)},handleFallback:function(a){return e.handleFallback(t,a)},handleFallbackInput:function(a){return e.handleFallbackInput(t,a)},onDelete:function(){return e.toggleDeleteModal(t)},isLoading:e.state[t].isLoading,type:t}),l.a.createElement(c.Fragment,{key:a},!!a&&l.a.createElement("div",{className:"line-top"}),l.a.createElement("div",{className:"row middle-xs m-t-24 m-b-24"},l.a.createElement("div",{className:"col-xs-12 col-md-5"},l.a.createElement(f.Text,{className:"flex middle-xs Text--Detail font-light"},l.a.createElement(f.Icon,{className:"m-r-4 m-b-4",name:"ic-os-".concat(t),size:"xsmall"}),l.a.createElement("span",null,"ios"===t?"iOS":"Android"," behaviour"))),l.a.createElement("div",{className:"col-xs-12 col-md-7"},l.a.createElement(f.Selector,{triggerSize:"lg",placeholder:"None",options:[{value:0,label:"None"},{value:1,label:"ios"===t?"iPhone and iPad behave the same":"Phone and tablet behave the same"}],value:e.renderOptionValue(t),onChange:function(a){var n=a.value;return e.onStateChange(n,t)},renderOption:function(e){return l.a.createElement("span",{className:!e.value&&"Selector__option--deselect"},e.label)},closeOnSelect:!0}))),l.a.createElement(_.a,{className:"ignore-react-onclickoutside",isOpen:e.state[t].showDeleteModal,onClose:function(){return e.toggleDeleteModal(t)},icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete this deep link rule?",message:"Traffic on this link will stop following this deep link rule.",primaryButtonProps:{label:"Delete",theme:"delete",isLoading:e.state[t].isLoading,className:"mr-12",onClick:function(){return e.onDelete(t,e.state[t].rule.id)}},secondaryButtonProps:{label:"Cancel",theme:"secondary",onClick:function(){return e.toggleDeleteModal(t)}},closeOnClickOutside:!0}),"none"!==e.state[t].state&&n)}))),l.a.createElement(f.ModalFooter,null,"saved"!==this.state.android.state&&"none"!==this.state.android.state||"saved"!==this.state.ios.state&&"none"!==this.state.ios.state?l.a.createElement(c.Fragment,null,l.a.createElement(f.Button,{className:"m-r-12",label:"Cancel",onClick:this.props.onClose}),l.a.createElement(f.Button,{label:"Save",theme:"primary",disabled:!this.state.android.isValid||!this.state.ios.isValid,isLoading:this.state.ios.isSaving||this.state.android.isSaving,onClick:this.onSubmit})):l.a.createElement(f.Button,{className:"m-r-12",theme:"primary",label:"Done",onClick:this.props.onClose})))}}]),a}(c.PureComponent);Te.defaultProps={appRules:[]};var _e=Te,De=function(e){var t=e.canEdit,a=e.onSubmit,r=e.onCancel,o=e.link,s=e.currentNote,i=l.a.createElement("span",null,"Add short descriptions to ",l.a.createElement("br",null)," your links. ",l.a.createElement(f.A,{rel:"noopener noreferrer",href:"https://support.rebrandly.com/hc/en-us/articles/226029587-How-To-Use-the-Notes-Tool-When-Creating-Branded-Links",target:"_blank"},"Learn more")),c=d()(o,"description"),u={name:"destination",onSubmit:a,onCancel:r,value:c,label:"Notes",showButtons:!0,submitOnClickOutside:!0};return c||(u=Object(n.a)(Object(n.a)({},u),{},{editing:!0})),s&&s.length<3&&(u=Object(n.a)(Object(n.a)({},u),{},{theme:"warning",message:"Type at least 3 characters"})),l.a.createElement("div",{className:"OptionRow"},l.a.createElement(f.Tooltip,{overlay:i,placement:"top"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-notes",color:"#c7c9cb",size:"xsmall"})),l.a.createElement("div",{className:"OptionRow__notes"},t?l.a.createElement(f.InlineInput,u,l.a.createElement(f.Textarea,{"rb-test-id":"link-add-notes-textarea",rows:2,autoResize:!0})):l.a.createElement(f.Text,{size:"small"},c)))},Ae=a(127),Ie=a(101),Me=a(22),Re=a(30),Pe=a(139),ze=a(142),Fe=(a(1346),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=d()(this.props,"metadata.og:image",""),t={backgroundImage:"url(".concat(ce()(e)?e:"https://dashboard-cdn.rebrandly.com/styleguide-assets/images/og-image-inverted-160.png",")")};return l.a.createElement("div",{className:"OpenGraphPreview-Container m-b-24"},l.a.createElement("div",{className:"OpenGraphPreview-Container__image",style:t}),l.a.createElement("div",{className:"OpenGraphPreview-Container__body"},l.a.createElement("div",{className:"OpenGraphPreview-Container__body__title"},d()(this.props,"metadata.og:title","No title")),l.a.createElement("div",{className:"OpenGraphPreview-Container__body__description"},d()(this.props,"metadata.og:description","No description"))))}}]),a}(c.PureComponent)),Ue=(a(1347),function(e){var t={};return Object.keys(e).map((function(a){var n="og:"+a;return t[n]=e[a],t[n]})),t}),Be=function(e){var t={};return Object.keys(e).map((function(a){var n=a.replace("og:","");return t[n]=e[a],t[n]})),t},We=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={metadata:{},scraping:!1,isProcessing:!1,scraped:{},overrideData:d()(e.props,"link.opengraph",!1),typeOptions:[{label:"music",value:"music"},{label:"video",value:"video"},{label:"article",value:"article"},{label:"book",value:"book"},{label:"profile",value:"profile"},{label:"website",value:"website"}]},e.addOptionIfNeeded=function(t){t&&!e.state.typeOptions.find((function(e){return ee()(e.value,t)}))&&e.setState({typeOptions:[].concat(Object(Z.a)(e.state.typeOptions),[{label:t,value:t}])})},e.closeDisableOverridePopup=function(){return e.setState({showDisableOverrideModal:!1})},e.revert=function(){return e.scrape(e.props.link.destination)},e.loadMetadata=function(){if(e.props.link.opengraph){var t=Ue(e.props.link.ogMetadata);e.setState({metadata:t})}else e.revert()},e.toggleOverride=function(){e.state.overrideData&&e.props.link.opengraph?e.setState({showDisableOverrideModal:!0}):e.setState({overrideData:!e.state.overrideData})},e.scrape=function(t){return e.setState({scraping:!0}),Object(N.Rb)({url:t}).then((function(t){var a=d()(t,"items",{});e.setState({scraping:!1,scraped:a}),e.props.metadata||e.setState({metadata:a})}))},e.handleClose=function(){var t=d()(e.props.link,"ogMetadata",{});e.setState({metadata:Ue(t),overrideData:d()(e.props,"link.opengraph",!1)}),e.props.onClose()},e.handleSubmit=function(){var t=Be(e.state.metadata);e.setState({isProcessing:!0},(function(){return e.props.onSubmit(t).finally((function(){return e.setState({isProcessing:!1})}))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){b()(this.props.link)||this.loadMetadata()}},{key:"componentDidUpdate",value:function(e){ee()(e.link,this.props.link)||(this.loadMetadata(),this.setState({overrideData:d()(this.props,"link.opengraph",!1)}))}},{key:"render",value:function(){var e=this,t=this.state.overrideData?this.state.metadata:this.state.scraped,a=d()(this.state,"metadata.description.length",0),r=d()(this.props.link,"ogMetadata",{}),o=!ee()(Ue(r),this.state.metadata);this.addOptionIfNeeded(d()(this.state,"metadata.og:type"));var s=function(t){return e.setState({metadata:Object(n.a)(Object(n.a)({},e.state.metadata),{},{"og:type":t})})};return l.a.createElement(c.Fragment,null,l.a.createElement(f.Modal,{isOpen:this.props.isOpen,onClose:this.handleClose,showClose:!0},l.a.createElement(f.ModalContent,null,l.a.createElement("div",{className:"m-b-24 row"},l.a.createElement("div",{className:"col-xs-6 flex middle-xs"},l.a.createElement(f.Text,{className:"Text--SubTitle m-r-4"},"OpenGraph preview"),l.a.createElement(f.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360002645897-How-to-Use-OpenGraph-Control",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(f.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"}))),l.a.createElement("div",{className:"col-xs flex middle-xs"},l.a.createElement(f.Label,{value:"Override metadata"},l.a.createElement(f.Toggle,{checked:this.state.overrideData,onChange:this.toggleOverride})))),l.a.createElement("div",null,this.state.scraping?l.a.createElement(f.Loading,{withMargin:!0,label:"Scraping data..."}):l.a.createElement(Fe,{metadata:t})),this.state.overrideData&&l.a.createElement("div",{className:"Form__group row OpenGraph__Form"},l.a.createElement("div",{className:"col-xs-12 p-t-8"},l.a.createElement(f.Label,{value:"Title"},l.a.createElement(f.Input,{maxLength:88,disabled:!this.state.overrideData,name:"title",value:d()(this.state,"metadata.og:title"),placeholder:"e.g: My object title",onChange:function(t){return e.setState({metadata:Object(n.a)(Object(n.a)({},e.state.metadata),{},{"og:title":t})})}}))),l.a.createElement("div",{className:"col-xs-12 col-sm-6 p-t-8"},l.a.createElement(f.Label,{value:"Type"},l.a.createElement(f.Selector,{closeOnSelect:!0,disabled:!this.state.overrideData,options:this.state.typeOptions,name:"type",value:this.state.typeOptions.find((function(t){return ee()(t.value,d()(e.state,"metadata.og:type"))})),placeholder:'e.g., "video.movie"',onChange:function(e){var t=e.value;return s(t)},onNewOptionSubmit:function(t){e.addOptionIfNeeded(t),s(t)},comboBox:!0}))),l.a.createElement("div",{className:"col-xs-12 col-sm-6 p-t-8"},l.a.createElement(f.Label,{value:"Image URL"},l.a.createElement(f.Input,{maxLength:2048,disabled:!this.state.overrideData,name:"image",value:d()(this.state,"metadata.og:image"),placeholder:"An image URL which should represent your object within the graph",onChange:function(t){return e.setState({metadata:Object(n.a)(Object(n.a)({},e.state.metadata),{},{"og:image":t})})}}))),l.a.createElement("div",{className:"col-xs-12 col-sm-12 p-t-8"},l.a.createElement(f.Label,{value:"Description"},l.a.createElement(f.Textarea,{maxLength:300,rows:5,disabled:!this.state.overrideData,name:"description",value:d()(this.state,"metadata.og:description"),placeholder:"e.g: a description",onChange:function(t){return e.setState({metadata:Object(n.a)(Object(n.a)({},e.state.metadata),{},{"og:description":t})})},message:a>280?"".concat(300-a," chars left"):null,theme:a>280?"error":null}))))),this.props.canEdit&&this.state.overrideData&&l.a.createElement(f.ModalFooter,null,l.a.createElement(f.Button,{className:"m-r-12",label:"Close",theme:"secondary",onClick:this.handleClose}),l.a.createElement(f.Button,{label:"Save",theme:"primary",onClick:this.handleSubmit,isLoading:this.state.isProcessing,disabled:!o}))),l.a.createElement(_.a,{icon:{name:"ic-warning",size:"md",color:"#f6852f"},title:"Do you want to disable metadata override?",primaryButtonProps:{label:"Yes",theme:"delete",isLoading:this.state.isProcessing,onClick:function(){e.setState({isProcessing:!0}),e.props.onRemove().then((function(){return e.setState({overrideData:!1,showDisableOverrideModal:!1})})).finally((function(){return e.setState({isProcessing:!1})}))}},secondaryButtonProps:{label:"Cancel",onClick:this.closeDisableOverridePopup},onClose:this.closeDisableOverridePopup,isOpen:this.state.showDisableOverrideModal,closeOnClickOutside:!0}))}}]),a}(c.PureComponent),Ge=function(e){return l.a.createElement("span",null,"Your current plan doesn't ",l.a.createElement("br",null)," include link ",e,". You can add ",l.a.createElement("br",null)," ",e," to get more out of your ",l.a.createElement("br",null),"branded links. ",l.a.createElement(j.a,{to:"/pricing"},"View our plan options"))},He=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={showTags:!1,showDeeplinks:!1,showScripts:!1,showNotes:!1,showRouting:!1,showOpenGraph:!1},e.handleNoteCancel=function(){d()(e.props.link,"description")||e.handleCloseNotes()},e.handleNoteSubmit=function(t){var a=e.props,r=a.link,o=a.onEditLink,s=d()(r,"description",""),i=t.length;if(i>0&&i<3)return e.setState({note:s});b()(t)&&e.handleCloseNotes(),s!==t&&o(Object(n.a)(Object(n.a)({},r),{},{description:q()(t)?t:s}))},e.handleTagsChange=function(t){var a=e.props,n=a.link,r=a.onAttachTag,o=a.onDetachTag;(G()(n.tags,t,"id").forEach((function(e){return o(e)})),Object(Pe.a)(e.props.link.tags))&&G()(t,n.tags,"id").forEach((function(e){return r(e)}))},e.handleScriptChange=function(t){var a=e.props,n=a.link,r=a.onAttachScript,o=a.onDetachScript;(G()(n.scripts,t,"id").forEach((function(e){return o(e)})),Object(ze.a)(e.props.link.scripts))&&G()(t,n.scripts,"id").forEach((function(e){return r(e)}))},e.attachApp=function(t){return e.props.attachApp(t).then((function(){return e.props.countWorkspaceApps(e.props.workspaceId)}))},e.handleShowNotes=function(){return e.setState({showNotes:!0})},e.handleCloseNotes=function(){return e.setState({showNotes:!1})},e.handleShowScripts=function(){return e.setState({showScripts:!0})},e.handleShowTags=function(){return e.setState({showTags:!0})},e.handleShowDeeplinks=function(){return e.setState({showDeeplinks:!0})},e.handleShowOpenGraph=function(){return e.setState({showOpenGraph:!0})},e.handleCloseDeeplinks=function(){return e.setState({showDeeplinks:!1})},e.handleShowRouting=function(){return e.setState({showRouting:!0})},e.handleCloseRouting=function(){return e.setState({showRouting:!1})},e}return Object(o.a)(a,[{key:"renderRouting",value:function(){return b()(this.props.link.rules)?l.a.createElement(be,{onSubmit:this.props.createRules,onClose:this.handleCloseRouting,destination:this.props.link.destination,isOpen:this.state.showRouting}):l.a.createElement(Ee,{maxTrafficRoutingRules:this.props.maxTrafficRoutingRules,rules:this.props.link.rules,canEdit:this.props.canEdit,onClose:this.handleCloseRouting,onCreateNewRule:this.props.createRules,onDelete:this.props.deleteRule,onEdit:this.props.editRule,destination:this.props.link.destination,hasRoutingFeature:this.props.canUseRouting,isOwner:this.props.isOwner,isOpen:this.state.showRouting})}},{key:"renderDeeplinks",value:function(){return this.props.link.appRules?l.a.createElement(_e,{isOpen:this.state.showDeeplinks,createWorkspaceApp:this.props.createWorkspaceApp,onSubmit:this.props.createLinkDeeplink,onSubmitMultiple:this.props.createLinkDeeplinks,appRules:this.props.link.appRules,workspaceApps:this.props.workspaceApps,workspaceAppsCount:this.props.workspaceAppsCount,onClose:this.handleCloseDeeplinks,history:this.props.history,onDelete:this.props.deleteLinkDeeplink,onDetachApp:this.props.detachApp,workspaceId:this.props.workspaceId,onAttachApp:this.attachApp}):null}},{key:"renderOpenGraph",value:function(){var e=this;return l.a.createElement(We,{isOpen:this.state.showOpenGraph,link:this.props.link,canEdit:this.props.canEdit,hasOpenGraphFeature:this.props.canUseDeeplinks,onClose:function(){return e.setState({showOpenGraph:!1})},onDelete:function(){},overrideData:this.props.link.opengraph,onSubmit:function(t){return e.props.updateOpenGraphMetadata(t).then((function(){e.setState({showOpenGraph:!1})})).catch((function(){return e.props.createNotification(z.b,"An error occurred, please try again")}))},onRemove:this.props.removeOpenGraphMetadata})}},{key:"render",value:function(){var e=this,t=!b()(this.props.link.tags)||this.state.showTags,a=!b()(this.props.link.appRules)||this.state.showDeeplinks,n=!b()(this.props.link.scripts)||this.state.showScripts,r=!b()(this.props.link.description)||this.state.showNotes,o=!b()(this.props.link.rules),s=l.a.createElement("span",null,"Add deep link rules to your links. ",l.a.createElement(f.A,{href:"https://rebrandly.support/DeepLinks",target:"_blank"},"Learn more"));return l.a.createElement(c.Fragment,null,a&&l.a.createElement("div",{className:"OptionRow"},l.a.createElement(f.Tooltip,{overlay:s,placement:"top"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-device-default",size:"xsmall",color:"var(--color-grey-200)"})),l.a.createElement(f.Trigger,null,l.a.createElement(f.Button,{theme:"select",onClick:function(){return e.setState({showDeeplinks:!0})}},this.props.link.appRules?d()(this.props.link,"appRules.length",0):0," Deep link ",Y()("rule",d()(this.props.link,"appRules.length",0))))),t&&l.a.createElement("div",{className:"OptionRow m-t-8"},l.a.createElement(f.Tooltip,{overlay:Pe.d,placement:"top"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-tags",size:"xsmall",color:"var(--color-grey-200)"})),l.a.createElement(Ae.a,{resource:"tag",controller:l.a.createElement(K.a,{canManageOptions:this.props.canManageTags,canAddMore:Object(Pe.a)(this.props.link.tags)}),selectedElements:this.props.link.tags.map((function(t){return e.props.workspaceTags[t.id]||t})),canEdit:this.props.canEdit,onChange:this.handleTagsChange})),n&&l.a.createElement("div",{className:"OptionRow"},l.a.createElement(f.Tooltip,{overlay:ze.b,placement:"top"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-retarget",size:"xsmall",color:"var(--color-grey-200)"})),l.a.createElement(Ae.a,{resource:"script",controller:l.a.createElement(J.a,{canManageOptions:this.props.canManageScripts,canAddMore:Object(ze.a)(this.props.link.scripts)}),selectedElements:this.props.link.scripts&&this.props.link.scripts.map((function(t){return e.props.workspaceScripts[t.id]||t})),canEdit:this.props.canEdit,onChange:this.handleScriptChange})),r&&l.a.createElement(De,{link:this.props.link,onSubmit:this.handleNoteSubmit,onCancel:this.handleNoteCancel,canEdit:this.props.canEdit}),o&&l.a.createElement("div",{className:"OptionRow"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-redirect",size:"xsmall",color:"var(--color-grey-200)"}),l.a.createElement(f.Button,{theme:"select",label:"".concat(this.props.link.rules.length," Routing ").concat(Y()("rule",this.props.link.rules.length)),onClick:this.handleShowRouting})),this.props.link.opengraph&&l.a.createElement("div",{className:"OptionRow"},l.a.createElement(f.Icon,{className:"m-r-12",name:"ic-opengraph",size:"xsmall",color:"var(--color-grey-200)"}),l.a.createElement(f.Button,{theme:"link",label:"Override OpenGraph metadata",onClick:this.handleShowOpenGraph})),this.props.canEdit&&l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement(ae.a,{items:[{label:"Notes",disabled:this.props.canManageNotes&&!this.props.canUseNote,visible:!r,tooltip:{display:this.props.canManageNotes&&!this.props.canUseNote,overlay:Ge("notes"),placement:"right"},onClick:this.handleShowNotes},{label:"Tags",disabled:this.props.canManageTags&&!this.props.canUseTag,visible:!t,tooltip:{display:this.props.canManageTags&&!this.props.canUseTag,overlay:Ge("tags"),placement:"right"},onClick:this.handleShowTags},{label:"Deep links",disabled:this.props.canManageDeeplinks&&!this.props.canUseDeeplinks,visible:!a,tooltip:{display:this.props.canManageDeeplinks&&!this.props.canUseDeeplinks,overlay:Ge("deep links"),placement:"right"},onClick:this.handleShowDeeplinks},{label:"Traffic routing",disabled:this.props.canManageRouting&&!this.props.canUseRouting||d()(this.props.link,"rules.length",0)>=this.props.maxTrafficRoutingRules,visible:!o,tooltip:{display:this.props.canManageRouting&&!this.props.canUseRouting,overlay:Ge("routing"),placement:"right"},onClick:this.handleShowRouting},{label:"Retargeting scripts",disabled:this.props.canManageScripts&&!this.props.canUseScript,visible:!n,tooltip:{display:this.props.canManageScripts&&!this.props.canUseScript,overlay:Ge("retargeting"),placement:"right"},onClick:this.handleShowScripts},{label:"OpenGraph metadata",disabled:this.props.canManageOpenGraph&&!this.props.canUseOpenGraph,visible:!this.props.link.opengraph,tooltip:{display:this.props.canManageOpenGraph&&!this.props.canUseOpenGraph,overlay:Ge("OpenGraph"),placement:"right"},onClick:this.handleShowOpenGraph}]})),this.renderRouting(),this.renderDeeplinks(),this.renderOpenGraph())}}]),a}(c.PureComponent),qe=Object(u.g)(Object(m.b)((function(e,t){var a=e.session.currentWorkspaceId,n=e.workspaces.items[a],r=e.workspaces.features[a];return{canManageOpenGraph:!b()(t.link),canManageDeeplinks:!b()(t.link)&&Object(Me.d)(e,a,"create","workspaces.deeplinks")&&Object(Me.d)(e,a,"edit","workspaces.deeplinks")&&Object(Me.d)(e,a,"delete","workspaces.deeplinks"),canManageTags:!b()(t.link)&&Object(Me.d)(e,a,"create","workspaces.tags")&&Object(Me.d)(e,a,"edit","workspaces.tags")&&Object(Me.d)(e,a,"delete","workspaces.tags"),canManageScripts:!b()(t.link)&&Object(Me.d)(e,a,"create","workspaces.scripts")&&Object(Me.d)(e,a,"edit","workspaces.scripts")&&Object(Me.d)(e,a,"delete","workspaces.scripts"),canManageNotes:!b()(t.link),canManageRouting:!b()(t.link)&&Object(Me.d)(e,a,"create","workspaces.rules")&&Object(Me.d)(e,a,"edit","workspaces.rules")&&Object(Me.d)(e,a,"delete","workspaces.rules"),canEdit:!b()(t.link)&&Object(Me.d)(e,a,"edit","workspaces.links",t.link),workspaceTags:e.tags.items,workspaceApps:e.apps.list.map((function(t){return e.apps.items[t]})),workspaceId:a,workspaceAppsCount:e.apps.count,workspaceScripts:e.scripts.items,maxTrafficRoutingRules:d()(Object(Re.getFeatureConfig)("links.rules",r),"maxPerLink",0),workspaceScriptsCount:e.scripts.count,canUseTag:Object(Re.hasFeature)("links.tags",r),canUseNote:Object(Re.hasFeature)("links.notes",r),canUseDeeplinks:Object(Re.hasFeature)("links.apps",r),canUseOpenGraph:Object(Re.hasFeature)("links.opengraph",r),canUseScript:Object(Re.hasFeature)("links.scripts",r),canUseRouting:Object(Re.hasFeature)("links.rules",r),isOwner:n.owner}}),(function(e,t){return{updateOpenGraphMetadata:function(a){return e(Object(I.z)(t.link.id,a)).then((function(){return e(Object(R.a)(z.a,"OpenGraph data Updated"))}))},removeOpenGraphMetadata:function(a){return e(Object(I.w)(t.link.id)).then((function(){return e(Object(R.a)(z.a,"OpenGraph data Removed"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},onAttachTag:function(a){return e(Object(I.b)(t.link.id,a))},onDetachTag:function(a){return e(Object(I.o)(t.link.id,a))},onAttachScript:function(a){return e(Object(I.a)(t.link.id,a))},onDetachScript:function(a){return e(Object(I.n)(t.link.id,a))},countWorkspaceApps:function(t){return e(Object(Ie.a)(t))},onEditLink:function(a){return e(Object(I.q)(t.link.id,a)).then((function(){return e(Object(R.a)(z.h,"Notes updated"))}))},createRules:function(a){return e(Object(I.i)(t.link.id,a)).then((function(){return e(Object(R.a)(z.a,"Routing rule created"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},createLinkDeeplink:function(a,n){return e(Object(I.f)(t.link.id,a,n)).then((function(){return e(Object(R.a)(z.a,"Deep link rule created"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},createLinkDeeplinks:function(a){return e(Object(I.g)(t.link.id,a)).then((function(){return e(Object(R.a)(z.a,"Deep link rules created"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},deleteLinkDeeplink:function(a){return e(Object(I.k)(t.link.id,a)).then((function(){return e(Object(R.a)(z.h,"Deep link rule deleted"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},deleteRule:function(a){return e(Object(I.l)(t.link.id,a)).then((function(){return e(Object(R.a)(z.h,"Routing rule deleted"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},editLinkDeepLink:function(a,n){return e(Object(I.p)(t.link.id,a,n)).then((function(){return e(Object(R.a)(z.h,"Deep link rule updated"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},editRule:function(a,n){return e(Object(I.r)(t.link.id,a,n)).then((function(){return e(Object(R.a)(z.h,"Routing rule updated"))})).catch((function(){return e(Object(R.a)(z.b,"An error occurred, please try again"))}))},detachApp:function(t,a){return e(Object(Ie.f)(t,a)).then((function(){return e(Object(R.a)(z.h,"App deleted"))})).catch((function(t){throw e(Object(R.a)(z.b,"Error while updating workspace app")),t}))},createNotification:function(t,a){return e(Object(R.a)(t,a))},attachApp:function(a){return e(Object(Ie.b)(t.id,a)).then((function(){return e(Object(R.a)(z.h,"App configured"))})).catch((function(t){throw e(Object(R.a)(z.b,"Error while creating workspace app")),t}))}}}))(He)),Ve=a(81),Ye=a(94),Ke=a(41),Je=a(72),Qe=a(40),Xe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={showUTMModal:!1,showEditSlashtag:!1,visibleOptions:[],isLoading:!0},e.loadLink=function(){var t=-1!==e.props.location.search.indexOf("lookup");return e.setState({isLoading:!0}),e.props.fetchLink().catch((function(){return e.props.history.push(t?"/links":"/not-found")})).finally((function(){return e.setState({isLoading:!1})}))},e.handleOpenEditSlashtag=function(){return e.setState({showEditSlashtag:!0})},e.handleCloseEditSlashtag=function(){return e.setState({showEditSlashtag:!1})},e.handleTitleSubmit=function(t){var a=d()(e.props.link,"title"),r=d()(e.props.link,"id");if(t===a)return!1;e.props.onEditLink(r,Object(n.a)(Object(n.a)({},e.props.link),{},{title:t})).then((function(){return e.props.createNotification(z.h,"Link title updated")}))},e.handleDestinationSubmit=function(t){var a=d()(e.props.link,"destination"),r=d()(e.props.link,"id");if(t===a)return Promise.resolve(!1);var o=function(t){return e.props.onEditLink(r,t).then((function(){return e.props.createNotification(z.h,"Destination URL updated")}))},s=Object(C.c)(t),i=Object(n.a)(Object(n.a)({},e.props.link),{},{destination:s});return Object(N.Fc)({url:s}).then((function(e){return delete i.tags,delete i.scripts,o(Object(n.a)(Object(n.a)({},i),{},{title:e}))})).catch((function(){return o(i)}))},e.handleTrash=function(){return e.props.trashLink(e.props.id).then((function(){if(e.props.onLinkTrashed)return e.props.onLinkTrashed();e.props.createNotification(z.h,"Link trashed \ud83d\ude35"),e.props.history.push("/links")})).catch((function(){return e.props.createNotification(z.b,"An error occured")}))},e.handleDelete=function(){return e.props.deleteLink(e.props.id).then((function(){e.props.createNotification(z.f,"Link permanently deleted"),e.props.history.push("/links")})).catch((function(){return e.props.createNotification(z.b,"An error occured")}))},e.handleRemoveExpirationDate=function(){return e.props.removeExpirationDate().then((function(){return e.props.createNotification(null,"Expiration date removed")}))},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.props.workspaceId&&this.props.isDirect&&this.props.setContext(this.props.workspaceId)}},{key:"componentDidMount",value:function(){var e=this;this.props.fetchWorkspaceTags(),this.props.fetchWorkspaceApps(),this.props.fetchWorkspaceScripts(),this.props.countWorkspaceTags(),this.props.countWorkspaceScripts(),this.props.workspaceId&&this.props.isDirect||this.props.fetchWorkspaceFeatures(this.props.workspaceId),this.props.link.domainId?(this.props.fetchDomain(this.props.link.domainId),this.loadLink()):this.loadLink().then((function(t){var a=t.value;e.props.fetchDomain(a.domainId)}))}},{key:"componentDidUpdate",value:function(e){b()(e.link)||this.props.id===e.id||(this.handleCloseEditSlashtag(),this.loadLink())}},{key:"render",value:function(){var e=this;if(b()(this.props.link))return l.a.createElement(f.Loading,{size:"lg",label:"Loading..."});if(this.state.showEditSlashtag)return l.a.createElement(B,{link:this.props.link,onCancel:this.handleCloseEditSlashtag});var t=!(d()(this.props.location,"state.justCreated")||this.props.justCreated);return l.a.createElement(c.Fragment,null,l.a.createElement(g.a,{link:this.props.link,onToggleFavouriteClick:function(){return e.props.onToggleFavourite(d()(e.props.link,"id"))},canEdit:this.props.canEdit,showAvatar:this.props.shouldShowAvatar,onTitleSubmit:this.handleTitleSubmit,onDestinationSubmit:this.handleDestinationSubmit,onTrash:this.handleTrash,onDelete:this.handleDelete,handleOpenEditSlashtag:this.handleOpenEditSlashtag,onRemoveExpiration:this.handleRemoveExpirationDate}),l.a.createElement(c.Fragment,null,l.a.createElement(qe,{key:d()(this.props.link,"id"),link:this.props.link}),t&&l.a.createElement(x,{hasMasterDomain:Object(Je.n)(this.props.domain),refreshResource:this.props.fetchLink,link:this.props.link,scrollableElem:this.props.scrollableElem})),this.state.showUTMModal&&this.renderUTMModal())}}]),a}(c.PureComponent);t.a=Object(u.g)(Object(m.b)((function(e,t){var a=Object(D.l)(e,t.id),n=d()(e.workspaces.items,"[".concat(t.workspaceId||e.session.currentWorkspaceId,"]")),r=d()(n,"teammates",0)>1,o=!d()(t.location,"state.justCreated")&&!t.justCreated,s=r&&o,i=d()(e.domains,"items[".concat(a.domainId,"]"),{});return{link:a,workspaceId:t.workspaceId||e.session.currentWorkspaceId,isDirect:t.workspaceId,canEdit:a&&Object(Me.d)(e,t.workspaceId||e.session.currentWorkspaceId,"edit","workspaces.links",a),shouldShowAvatar:s,domain:i}}),(function(e,t){return{fetchLink:function(){return e(Object(I.s)(t.id))},fetchWorkspaceTags:function(){return e(Object(Ve.i)())},fetchWorkspaceApps:function(t){return e(Object(Ie.e)(null,t))},fetchWorkspaceFeatures:function(t){return e(Object(Qe.p)(t))},countWorkspaceApps:function(t){return e(Object(Ie.a)(t))},countWorkspaceTags:function(){return e(Object(Ve.c)())},setContext:function(t){return e(Object(Ke.g)(t))},fetchWorkspaceScripts:function(){return e(Object(Ye.g)())},countWorkspaceScripts:function(){return e(Object(Ye.b)())},fetchDomain:function(t){return e(Object(M.e)(t))},trashLink:function(t){return e(Object(I.E)(t))},deleteLink:function(t){return e(Object(I.v)(t))},onEditLink:function(t,a){return e(Object(I.q)(t,a))},createNotification:function(t,a,n){return e(Object(R.a)(t,a,null,n))},onToggleFavourite:function(t){return e(Object(I.D)(t))},removeExpirationDate:function(){return e(Object(I.u)(t.id))}}}))(Xe))},255:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(71),m=a(9),p=a.n(m),d=a(19),h=a(1),b=a(37),f=a(23),g=a.n(f),v=a(274),E=a.n(v),y=a(98),k=a.n(y),O=a(386),w=a(387),j=a(388),C=a(389),N=a(390),S=a(165),x=a(166),L=a(167),T=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={open:null},e.onGenerateClick=function(t){var a=decodeURIComponent(t);e.setState({open:!1},(function(){e.props.onClick(a),e.setState({open:null})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t={};E()(this.props.destinationUrl)?t.emailAddress=this.props.destinationUrl:t.message=this.props.destinationUrl;var a=[{label:"Twitter",icon:"ic-social-twitter-nofill",Component:C.a,tweet:this.props.destinationUrl},{label:"Linkedin",icon:"ic-social-linkedin-nofill",Component:w.a,skipForm:!0,destinationUrl:this.props.destinationUrl},{label:"Facebook",icon:"ic-social-facebook-nofill",Component:O.a,skipForm:!0,destinationUrl:this.props.destinationUrl},{label:"Whatsapp",icon:"ic-social-whatsapp-nofill",Component:N.a,message:this.props.destinationUrl},{label:"Pinterest",icon:"ic-social-pinterest-nofill",Component:j.a,destinationUrl:this.props.destinationUrl},Object(n.a)({label:"Email",icon:"ic-mail",Component:S.a},t),{label:"Telephone",icon:"ic-phone-call",Component:L.a},{label:"SMS",icon:"ic-device-smartphone",Component:x.a,message:this.props.destinationUrl}];return l.a.createElement(h.Dropdown,{outsideClickIgnoreClass:"ignore-editdestination-onclickoutside",isOpen:this.state.open,className:g()("SocialsDropdown",this.props.className),position:"right"},l.a.createElement(h.Trigger,null,l.a.createElement(h.IconButton,{className:"p-0",theme:"ghost",icon:{name:"ic-gear",size:"xsmall"}})),l.a.createElement(h.Menu,null,k()(a,"label").map((function(t,a){var n=t.label,r=t.icon,o=t.Component,s=Object(b.a)(t,["label","icon","Component"]);return l.a.createElement(o,Object.assign({key:a,onGenerateClick:e.onGenerateClick},s),l.a.createElement("li",null,l.a.createElement(h.A,{className:"Social__element",icon:{name:r,size:"xsmall",color:"var(--color-grey-400)"}},n)))}))))}}]),a}(c.PureComponent),_=a(17),D=a(28),A=a(14),I=a(3),M=a.n(I),R=a(53),P=a.n(R),z=a(140),F=a.n(z),U=a(393),B=a(394),W=a(49),G=a(13),H=a(12),q=a(56),V=a(66),Y=a(8),K=a(30),J=a(22),Q=a(40),X=a(18),Z=a(169),$=(a(356),function(e){var t=e.destination,a=e.onParamsSet,r=e.workspaceId,o=Object(A.d)((function(e){var t=r||e.session.currentWorkspaceId,a=M()(e.workspaces,"items[".concat(t,"]"),{}),n=M()(e.workspaces,"features[".concat(t,"]"),[]),o=e.paramsTemplates,s=o.list,i=o.items,c=o.isLoading;return{workspace:a,hasUTMFeature:Object(K.hasFeature)("links.utm",n),canManageUTMs:Object(J.d)(e,a.id,"edit","workspaces.utm"),template:M()(i,"[".concat(s[0],"]"),{}),isLoadingTemplates:c}})),s=o.workspace,i=o.hasUTMFeature,u=o.canManageUTMs,m=o.template,d=o.isLoadingTemplates,b=Object(A.c)(),f=Object(c.useCallback)((function(){return b(Object(Q.o)(r))}),[b,r]),g=Object(c.useCallback)((function(){if(s.id)return b(Object(Z.c)(s.id)).then((function(e){return p()(e.value)&&u?b(Object(Z.a)("Main Template",s.id)):e})).catch((function(){return b(Object(X.a)(H.b,"Sorry, we can't load your query parameters templates at the moment."))}))}),[b,s.id,u]),v=Object(c.useCallback)((function(e){return Object(Y.W)(m.id,e,s.id).catch((function(){return b(Object(X.a)(H.b,"Sorry, error while creating your preset.")),Promise.reject()}))}),[b,m,s.id]),E=Object(c.useCallback)((function(e){return Object(Y.qb)(m.id,e,s.id).catch((function(){return b(Object(X.a)(H.b,"Sorry, error while deleting your preset.")),Promise.reject()}))}),[b,m.id,s.id]),y=Object(c.useState)(!1),k=Object(D.a)(y,2),O=k[0],w=k[1],j=Object(c.useState)(!1),C=Object(D.a)(j,2),N=C[0],S=C[1],x=Object(c.useState)([]),L=Object(D.a)(x,2),T=L[0],I=L[1],R=Object(c.useState)([]),z=Object(D.a)(R,2),$=z[0],ee=z[1],te=Object(c.useState)([]),ae=Object(D.a)(te,2),ne=ae[0],re=ae[1],oe=Object(c.useState)(null),se=Object(D.a)(oe,2),ie=se[0],ce=se[1],le=Object(c.useState)({}),ue=Object(D.a)(le,2),me=ue[0],pe=ue[1],de=Object(c.useRef)(null);Object(c.useEffect)((function(){p()(s)&&f()}),[s,f]),Object(c.useEffect)((function(){g().then((function(e){var t=e.value,a=M()(t,"[0]",{});w(!0),Promise.all([Object(Y.Cc)(a.id,s.id),Object(Y.Dc)(a.id,s.id),Object(Y.ac)(a.id,s.id)]).then((function(e){I(e[0].filter((function(e){return!M()(e,"extra.disabled",!1)}))),re(e[1]),ee(e[2])})).catch((function(){return b(Object(X.a)(H.b,"Sorry, an error occurred."))})).finally((function(){return w(!1)}))}))}),[g,s.id,b]),Object(c.useEffect)((function(){var e=Object(q.m)(t,T),a=F()(ne,(function(e){return e.id===ie})),n=a?M()(a,"data",{}):{query:e};pe(n)}),[ne,t,T,ie]);var he=!M()(m,"extra.presets.hidden",!1),be=u&&i&&he,fe=!!ne.length&&he,ge=M()(me,"query",{}),ve=M()(me,"pattern",null),Ee=!p()(ge)||ve,ye=ne.map((function(e){return function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.name,value:e.id})}(e)}));return l.a.createElement("div",{className:"UrlParamsBuilder"},l.a.createElement("div",{className:"flex middle-xs m-b-24"},l.a.createElement(h.Text,{className:"m-r-8 Text--SubTitle"},"URL parameters builder"),l.a.createElement(h.Tooltip,{className:"ignore-editdestination-onclickoutside",overlay:l.a.createElement("span",null,"Add parameters to the destination URL.",l.a.createElement("br",null),"With UTMs, clicks stats will be also",l.a.createElement("br",null),"visible in Google Analytics. ",l.a.createElement(h.A,{href:"https://support.rebrandly.com/hc/en-us/articles/225968568-How-To-Use-Rebrandly-UTM-Builder",target:"_blank"},"Learn more"))},l.a.createElement(h.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"}))),d||O||s.isLoading?l.a.createElement(h.Loading,null):p()(m)||p()(T)?l.a.createElement(h.Alert,{title:l.a.createElement("span",null,"No URL parameters in this workspace"),status:"warning"},l.a.createElement("span",null,"Please, ",l.a.createElement(G.a,{size:"lg",href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"contact support")," to activate URL parameters.")):l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"UrlParamsBuilder__header row"},fe&&l.a.createElement("div",{className:"col-xs-12 col-sm"},l.a.createElement(h.Label,{className:"start-xs",value:"Presets"},l.a.createElement(h.Selector,{placeholder:"Select preset",options:ye,value:F()(ye,(function(e){return e.id===ie})),onChange:function(e){if(!e&&!F()(ne,(function(t){return t.id===e.id})))return null;ce(e.id)},renderOption:function(e){return l.a.createElement("div",{className:"flex middle-xs between-xs"},l.a.createElement(h.Text,{size:"small",singleLine:!0},e.label),be&&l.a.createElement(W.a,{ref:de,icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Are you sure?",message:"This preset will be permanently deleted.",primaryButtonProps:{label:"Delete",theme:"delete",isLoading:N,onClick:function(t){t&&t.stopPropagation(),S(!0),function(e){var t=ne.findIndex((function(t){return t.id===e.id}));if(-1!==t)return E(e.id).then((function(){re((function(e){return[].concat(Object(_.a)(e.slice(0,t)),Object(_.a)(e.slice(t+1)))})),ie===e.id&&ce(null)}))}(e).then((function(){S(!1),de.current&&de.current.hideModal()}))}},secondaryButtonProps:{label:"Cancel"}},l.a.createElement(h.IconButton,{icon:{name:"ic-trash-bin",color:"#909398",size:"xsmall"},theme:"dangerGhost"})))},closeOnSelect:!0})))),fe&&l.a.createElement(h.Divider,{className:"m-t-16 m-b-16",type:"subsection"}),l.a.createElement("div",null,l.a.createElement(B.a,{queryParams:T,urlStructure:Object(n.a)(Object(n.a)({},M()(m,"extra.urlStructure",{name:"URL structure"})),{},{patterns:$}),data:me,onChange:pe,showVariables:M()(m,"extra.variables",!1)}),l.a.createElement("div",{className:"Button__list row m-t-36"},be&&l.a.createElement("div",{className:"col-xs-12 col-sm-6"},l.a.createElement(h.Tooltip,{overlay:l.a.createElement("span",null,"You reached the limit of ",q.c," presets. In order to create",l.a.createElement("br",null),"new presets you should delete some of the existent",l.a.createElement("br",null),"ones or create a new workspace"),display:ne.length>=q.c},l.a.createElement(U.a,{onClick:function(e){var t={name:e.name,data:me};return t.data.query&&(t.data.query=Object(q.j)(t.data.query,T)),v(t).then((function(e){re((function(t){return[].concat(Object(_.a)(t),[e])})),ce(e.id)})).catch((function(){}))},buttonProps:{label:"Create Preset",block:!0},disabled:ne.length>=q.c||O||!Ee}))),l.a.createElement("div",{className:"col-xs"},l.a.createElement(h.Button,{label:"Done",theme:"primary",onClick:function(){var e,n=me.query,r=me.pattern,o=Object(q.k)(n,T);if(me.pattern){var s=F()($,(function(e){return e.id===r}))||{};e=Object(q.o)(s.pattern,o)}else{var i=T.filter((function(e){return M()(e,"extra.rendering.ignore",!1)})).map((function(e){return e.key}));e=P()(o,i)}return a(Object(q.i)(Object(V.c)(t),e)),Promise.resolve()},isLoading:N,disabled:!Ee,block:!0}))))))}),ee=a(116),te=a(78),ae=a(31),ne=(a(1340),function(e){var t,a=e.destination,n=e.onCancel,r=e.onConfirmEdit,o=e.label,s=Object(ae.o)(a);switch(s["rb-dashboard-composer"]){case ae.h:t=l.a.createElement(x.a,{key:1,onGenerateClick:r,toList:Object(te.d)(s.to),message:s.body});break;case ae.j:t=l.a.createElement(L.a,{key:1,onGenerateClick:r,phoneNumber:s.to});break;default:t=l.a.createElement(S.a,{key:1,onGenerateClick:r,toList:Object(te.d)(s.to),subject:s.subject,message:s.body,ccList:Object(te.d)(s.cc),bccList:Object(te.d)(s.bcc)})}return l.a.createElement(c.Fragment,null,o&&l.a.createElement(h.Text,{className:"MailtoDetails__label Text-Hero m-b-4",size:"small"},o.value||o,o.tooltipOverlay&&l.a.createElement("span",{className:"m-l-8"},l.a.createElement(h.Tooltip,{overlay:o.tooltipOverlay,placement:"top"},l.a.createElement(h.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"})))),l.a.createElement(ee.a,{showActions:!0,actions:[{icon:{name:"ic-trash-bin",size:"xsmall"},theme:"dangerGhost",onClick:n},l.a.cloneElement(t,{children:l.a.createElement(h.IconButton,{icon:{name:"ic-edit",size:"xsmall"},theme:"ghost"})})]},l.a.createElement("div",{className:"MailtoDetails__content"},Object.keys(P()(s,"rb-dashboard-composer")).map((function(e){var t=s[e];return"to"===e&&(t=t.replace(",","; ")),l.a.createElement("div",{key:e,className:"MailtoDetails__field flex"},l.a.createElement("div",{className:"MailtoDetails__field--label"},l.a.createElement(h.Text,{size:"small",className:"Text--Label"},Object(d.capitalize)(e),":")),l.a.createElement("div",{className:"MailtoDetails__field--value"},l.a.createElement(h.Text,{size:"small",className:"Text--Detail ellipsis",style:{"white-space":"inherit"}},t)))})))))}),re=a(48),oe=a(58),se=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showUTMModal:!1,isSpecialProtocolURL:null},e.handleKeyDown=function(t){13===t.keyCode&&(t.preventDefault(),e.props.onSubmit())},e.handleOpenUTM=function(){!p()(e.props.value)&&Object(oe.h)(e.props.value)&&e.setState({showUTMModal:!0})},e.handleCloseUTM=function(){return e.setState({showUTMModal:!1})},e.handleSocialClick=function(t){e.props.onChange({target:{value:t,name:e.props.name}})},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){Object(oe.d)(this.props.value)&&!Object(oe.d)(e.value)&&this.setState({isSpecialProtocolURL:ae.f}),Object(oe.e)(this.props.value)&&!Object(oe.e)(e.value)&&this.setState({isSpecialProtocolURL:ae.h}),Object(oe.f)(this.props.value)&&!Object(oe.f)(e.value)&&this.setState({isSpecialProtocolURL:ae.j})}},{key:"renderUTMModal",value:function(){var e=this;return l.a.createElement(h.Modal,{className:"ignore-editdestination-onclickoutside",isOpen:this.state.showUTMModal,showClose:!0,onClose:this.handleCloseUTM},l.a.createElement(h.ModalContent,null,l.a.createElement($,{workspaceId:this.props.workspaceId,destination:this.props.value,onParamsSet:function(t){e.props.onChange({target:{value:t,name:e.props.name}}),e.handleCloseUTM()}})))}},{key:"renderSpecialProtocolsPopup",value:function(){var e=this,t=Object(ae.p)(this.props.value),a=t.to,r=t.cc,o=t.bcc,s=t.subject,i=t.body,c="",u=null,m={onGenerateClick:function(t){e.setState({isSpecialProtocolURL:!1}),e.props.onChange({target:{value:decodeURIComponent(t),name:e.props.name}})},onClose:function(){return e.setState({isSpecialProtocolURL:null})}};switch(this.state.isSpecialProtocolURL){case ae.f:c="mailto",u=S.a,m=Object(n.a)(Object(n.a)({},m),{},{toList:Object(te.d)(a),subject:s,message:i,ccList:Object(te.d)(r),bccList:Object(te.d)(o)});break;case ae.h:c="SMS",u=x.a,m=Object(n.a)(Object(n.a)({},m),{},{toList:Object(te.d)(a),message:i});break;case ae.j:c="telephone",u=L.a,m=Object(n.a)(Object(n.a)({},m),{},{phoneNumber:a});break;default:u=function(){return null}}var p=l.a.createElement("span",null,"It looks like your are attempting to shorten a ",c," URL, use the composer instead."),b=Object(d.capitalize)(c)+" destination detected",f=l.a.createElement(u,m,l.a.createElement(h.Button,{theme:"primary",label:"".concat(Object(d.capitalize)(c)," Composer")}));return l.a.createElement(re.a,{className:"ignore-react-onclickoutside",isOpen:this.state.isSpecialProtocolURL,onClose:function(){return e.setState({isSpecialProtocolURL:null})},icon:{name:"ic-information",color:"#2281c2",size:"md"},title:b,message:p,primaryButtonProps:f,secondaryButtonProps:{label:"Ok, got it",onClick:function(){return e.setState({isSpecialProtocolURL:null})}}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.rows,r=t.maxRows,o=t.name,s=t.value,i=t.placeholder,u=t.label,m=t.tooltipOverlay,p=t.size,d=t.theme,b=t.message,f=Object(oe.h)(s),g=Object(ae.n)(s),v={"rb-test-id":"new-link-destination",onKeyDown:this.handleKeyDown,rows:a||1,maxRows:r||4,name:o,value:s,placeholder:i,theme:d,message:b,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:!1,button:f?[{label:"UTM",onClick:this.handleOpenUTM},l.a.createElement(T,{key:1,className:"lg"===p?"SocialsDropdown--lg":"SocialsDropdown--md",destinationUrl:s,onClick:this.handleSocialClick})]:void 0};return s.match(/<|>/g)&&(v=Object(n.a)(Object(n.a)({},v),{},{theme:"warning",message:"Invalid characters"})),l.a.createElement(c.Fragment,null,l.a.createElement(h.Label,{value:u,size:p,tooltip:m&&{placement:"top",overlay:m}},g?l.a.createElement("div",{className:"m-t-4"},l.a.createElement(ne,{destination:s,onConfirmEdit:function(t){return e.props.onChange({target:{value:decodeURIComponent(t),name:e.props.name}})},onCancel:function(){return e.props.onChange({target:{value:"",name:e.props.name}})}})):l.a.createElement(h.Textarea,v)),this.renderUTMModal(),this.renderSpecialProtocolsPopup())}}]),a}(c.PureComponent);se.defaultProps={placeholder:"Type or paste a link (URL)",tooltipOverlay:l.a.createElement("span",null,"Destination URL is the long link",l.a.createElement("br",null),"you want to shorten and rebrand"),label:"Destination URL"};t.a=Object(u.g)(se)},257:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(23),s=a.n(o),i=a(1);a(1242);t.a=function(e){var t=e.item,a=e.isSelected;return r.a.createElement("div",{className:s()(a?"SelectedOption":"RoleOption"),key:t.label},a?r.a.createElement("div",{className:"flex between-xs"},t.label&&r.a.createElement(i.Text,{size:"small",className:"CurrentRoleOption font-semibold"},t.label," ",t.default&&" (Default)"),r.a.createElement(i.Icon,{name:"ic-checkmark",className:"IconCheckamark",size:"tiny",color:"var(--color-blue-600)"})):r.a.createElement(i.Text,{size:"small",className:"OptionTitle Text--SubTitle"},t.label),t.description&&r.a.createElement(i.Text,{className:"Text--SubDetail m-t-4",size:"x-small"},t.description))}},258:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(14),m=a(71),p=a(9),d=a.n(p),h=a(48),b=a(13),f=a(61),g=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).getCartError=function(){var t,a,r=d()(e.props.primaryButton),o=Object(n.a)({},e.props.primaryButton),s={label:"Cancel",onClick:e.props.onClose};return"plan"===e.props.type?a="You can't buy more plans at one time":e.props.isFreeAccount||!e.props.isLogged?(t="Too many domains in your cart",a=l.a.createElement("span",null,"To buy more domain names you need a ",l.a.createElement(b.a,{size:"lg",to:"/pricing"},"paid plan.")),r&&(o={label:"View pricing",onClick:function(){return e.props.history.push("/checkout/domains")}})):(t="Upgrade to buy more domains",a=l.a.createElement("span",null,"You\u2019ve ",l.a.createElement("strong",null,"reached your plan\u2019s limit")," of domain names, to ",l.a.createElement("strong",null,"buy more")," you need to upgrade."),r&&(o={label:"Upgrade plan",onClick:function(){return e.props.history.push("/pricing")}})),{title:t,message:a,primaryButtonProps:o,secondaryButtonProps:s}},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(h.a,Object.assign({isOpen:this.props.isOpen,onClose:this.props.onClose,icon:{name:"ic-warning",size:"md",color:"#f6852f"}},this.getCartError()))}}]),a}(c.PureComponent);g.defaultProps={type:"domain"};t.a=Object(m.g)(Object(u.b)((function(e){return{isFreeAccount:Object(f.g)(e.account.subscription),isLogged:e.session.isLogged}}))(g))},259:function(e,t,a){"use strict";t.a={amazon:{name:"Amazon",icon:"ic-social-amazon"},aol:{name:"AOL",icon:"ic-social-aol"},askfm:{name:"Askfm",icon:"ic-social-askfm"},badoo:{name:"Badoo"},"baidu-tieba":{name:"Baidu Tieba",icon:"ic-social-baidu-tieba"},bebo:{name:"Bebo"},bing:{name:"Bing",icon:"ic-social-bing"},blackplanet:{name:"BlackPlanet"},buzznet:{name:"Buzznet"},classmates:{name:"Classmates"},cyworld:{name:"Cyworld"},delicious:{name:"Delicious"},digg:{name:"Digg",icon:"ic-social-digg"},disqus:{name:"Disqus",icon:"ic-social-disqus"},donanimhaber:{name:"Donanimhaber"},douban:{name:"Douban"},duckduckgo:{name:"DuckDuckGo",icon:"ic-social-duckduckgo"},"eksi-sozluk":{name:"Eksi Sozluk"},facebook:{name:"Facebook",icon:"ic-social-facebook"},flickr:{name:"Flickr",icon:"ic-social-flickr"},flixster:{name:"Flixster"},fotolog:{name:"Fotolog"},foursquare:{name:"Foursquare"},"friends-reunited":{name:"Friends Reunited"},friendster:{name:"Friendster"},"gaia-online":{name:"Gaia Online"},geni:{name:"Geni"},github:{name:"GitHub",icon:"ic-social-github"},google:{name:"Google",icon:"ic-social-google-g"},"google+":{name:"Google+",icon:"ic-social-google+"},googleplus:{name:"Google+",icon:"ic-social-googleplus"},habbo:{name:"Habbo"},"hacker-news":{name:"Hacker News",icon:"ic-social-hacker-news"},hi5:{name:"hi5"},"hocam-com":{name:"Hocam.com"},hyves:{name:"Hyves"},"identi-ca":{name:"Identi.ca"},"inci-sozluk":{name:"Inci Sozluk"},instagram:{name:"Instagram",icon:"ic-social-instagram"},instela:{name:"Instela"},"itu-sozluk":{name:"ITU Sozluk"},"last-fm":{name:"Last.fm"},line:{name:"Line",icon:"ic-social-line"},linkedin:{name:"LinkedIn",icon:"ic-social-linkedin"},livejournal:{name:"LiveJournal"},"mail-ru":{name:"Mail.ru",icon:"ic-social-mailru"},meetup:{name:"Meetup",icon:"ic-social-meetup"},messenger:{name:"Messenger",icon:"ic-social-messenger"},mixi:{name:"Mixi"},"moikrug-ru":{name:"MoiKrug.ru"},multiply:{name:"Multiply"},myheritage:{name:"MyHeritage"},mylife:{name:"MyLife"},myspace:{name:"Myspace",icon:"ic-social-myspace"},myyearbook:{name:"myYearbook"},"nasza-klasa-pl":{name:"Nasza-klasa.pl"},naver:{name:"Naver",icon:"ic-social-naver"},netlog:{name:"Netlog"},odnoklassniki:{name:"Odnoklassniki",icon:"ic-social-odnoklassniki"},orkut:{name:"Orkut"},"paper-li":{name:"Paper.li"},pinterest:{name:"Pinterest",icon:"ic-social-pinterest"},plaxo:{name:"Plaxo"},pocket:{name:"Pocket",icon:"ic-social-pocket"},quora:{name:"Quora",icon:"ic-social-quora"},qzone:{name:"Qzone",icon:"ic-social-qzone"},reddit:{name:"Reddit",icon:"ic-social-reddit"},renren:{name:"Renren"},"sina-weibo":{name:"Sina Weibo",icon:"ic-social-sina-weibo"},skype:{name:"Skype",icon:"ic-social-skype"},skyrock:{name:"Skyrock"},snapchat:{name:"Snapchat"},"sonico-com":{name:"Sonico.com"},sourceforge:{name:"SourceForge"},stackoverflow:{name:"StackOverflow",icon:"ic-social-stackoverflow"},studivz:{name:"StudiVZ"},stumbleupon:{name:"StumbleUpon"},tagged:{name:"Tagged"},taringa:{name:"Taringa!"},telegram:{name:"Telegram",icon:"ic-social-telegram"},"tencent-qq":{name:"Tencent QQ",icon:"ic-social-tencent-qq"},tuenti:{name:"Tuenti"},tumblr:{name:"Tumblr",icon:"ic-social-tumblr"},twitch:{name:"Twitch",icon:"ic-social-twitch"},twitter:{name:"Twitter",icon:"ic-social-twitter"},"uludag-sozluk":{name:"Uludag Sozluk"},viadeo:{name:"Viadeo"},viber:{name:"Viber",icon:"ic-social-viber"},vimeo:{name:"Vimeo",icon:"ic-social-vimeo"},vkontakte:{name:"Vkontakte",icon:"ic-social-vkontakte"},"vkrugudruzei-ru":{name:"vKruguDruzei.ru"},wayn:{name:"WAYN"},wechat:{name:"Wechat",icon:"ic-social-wechat"},weeworld:{name:"WeeWorld"},weibo:{name:"Weibo"},whatsapp:{name:"WhatsApp",icon:"ic-social-whatsapp"},whirlpool:{name:"Whirlpool"},"windows-live-spaces":{name:"Windows Live Spaces"},xanga:{name:"Xanga"},xing:{name:"XING",icon:"ic-social-xing"},yahoo:{name:"Yahoo",icon:"ic-social-yahoo"},yandex:{name:"Yandex",icon:"ic-social-yandex"},youtube:{name:"Youtube",icon:"ic-social-youtube"},others:{name:"Others",icon:"ic-social-default"}}},26:function(e,t,a){"use strict";a.d(t,"i",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"b",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return E}));var n=a(131),r=a.n(n),o=r.a.version,s=r.a.name.toLowerCase(),i=r.a.chrome,c=r.a.safari,l=r.a.firefox,u=r.a.opera,m=r.a.msedge,p=r.a.msie,d=r.a.ios,h=r.a.phantom,b=r.a.android,f=r.a.mobile,g=/((iPhone|iPod|iPad).*AppleWebKit(?!.*Version)|; wv|dalvik)/i.test(navigator.userAgent),v=/rebrandly-desktop-app/i.test(navigator.userAgent),E=!p&&(h||v||g||i&&o>=38||l&&o>=36||c&&o>=9.1||m&&o>=14||u&&o>=25)},263:function(e,t,a){"use strict";var n=a(2),r=a(220),o=a(11),s=a(45),i=["log","info","warn","error","network","http"],c={shouldLog:!0!==window.dnt,init:function(){this.shouldLog?i.forEach((function(e){c[e]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object(n.a)(Object(n.a)({},t),{},{level:e,version:o.a.version,accountId:s.b.getAccountId()}),r.a.post(o.a.api.middleware.batchHandler.baseUrl,{path:"dashboard/logger",payload:t,extraHeaders:{}}).catch((function(e){return console.error("Unable to log event: ",t,e)}))}})):i.forEach((function(e){c[e]=function(){return console.log("[Logger] Event not logged (level: ".concat(e,"). Reason: no logger has been initialized "))}}))}};c.init(),t.a=c},264:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(1),i=a(3),c=a.n(i),l=a(30),u=a(38),m=a(22);t.a=Object(o.b)((function(e){return{isOwner:Object(m.h)(e.session.currentWorkspaceId,e),limits:Object(l.getFeatureLimits)("tags",e.account),canCreate:Object(u.a)("tags",e.workspaces.items[e.session.currentWorkspaceId])}}))((function(e){var t=e.canCreate,a=e.children,n=e.limits,o=e.isOwner,i=c()(n,"included");if(!t){var l=r.a.createElement("span",null,"You\u2019ve reached your account\u2019s limit for tags",i?" (".concat(i,")"):"",". Either edit",r.a.createElement("br",null),"or delete the ones already in the list. If you need to create",r.a.createElement("br",null),"a huge amount of tags, please ",r.a.createElement(s.A,{target:"_blank",href:"https://rebrandly.support/Contact"},"contact support"));return r.a.createElement(s.Tooltip,{overlay:l,display:o},r.a.cloneElement(a,{disabled:!0,iconLabel:null}))}return a}))},265:function(e,t,a){"use strict";var n=a(17),r=a(4),o=a(5),s=a(6),i=a(7),c=a(2),l=a(0),u=a.n(l),m=a(14),p=a(1),d=a(9),h=a.n(d),b=a(52),f=a.n(b),g=a(3),v=a.n(g),E=a(380),y=a(381),k=a(94),O=a(11),w=function(e){return Object(c.a)(Object(c.a)({},e),{},{label:e.name,value:e.id})},j=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={defaultViewMode:"select",viewMode:"select",formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){return e.setState({viewMode:"create",formIsOpen:!0})},e.handleOpenEdit=function(t,a){t.preventDefault(),t.stopPropagation(),e.setState({currentOption:a,viewMode:"edit",formIsOpen:!0})},e.handleCloseForm=function(){return e.setState({currentOption:null,viewMode:e.state.defaultViewMode,formIsOpen:!1})},e.renderComponent=function(){return u.a.cloneElement(e.props.children,{})},e.handleSuccess=function(t){var a=e.props,r=a.selectedElements,o=a.onChange;t&&r&&!r.find((function(e){return e.id===t.id}))&&o([].concat(Object(n.a)(r),[t])),e.setState({viewMode:"select",selectorOpen:!0})},e.handleDelete=function(t){var a=e.props,n=a.onChange,r=a.selectedElements;e.handleCloseForm(),n&&n(r.filter((function(e){return e.id!==t.id})))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){h()(this.props.workspaceScripts)&&this.loadScripts()}},{key:"loadScripts",value:function(e){return e||this.props.resetList(),this.props.load(e)}},{key:"render",value:function(){var e=this,t={isLoading:this.props.isLoading,onLoadMore:function(){return e.loadScripts(v()(f()(e.props.workspaceScripts),"id"))},isOpen:this.state.selectorOpen,triggerSize:"large",showSearch:this.props.count.total>15,renderTrigger:this.renderComponent,multi:!0,onChange:this.props.onChange,footer:this.props.canManageOptions&&u.a.createElement(y.a,null,u.a.createElement(p.Button,{"rb-test-id":"new-script-button",theme:"link",icon:{name:"ic-add"},label:"Create new script",onClick:this.handleOpenCreate}))};if(!h()(this.props.workspaceScripts)){var a=this.props.selectedElements&&this.props.selectedElements.map((function(e){return w(e)}));t=Object(c.a)(Object(c.a)({},t),{},{value:a,options:this.props.workspaceScripts.map((function(e){return w(e)})),renderOption:function(t){var n=a&&!!a.find((function(e){return e.value===t.value}));return u.a.createElement("div",{className:"flex middle-xs"},u.a.createElement(p.Tooltip,{overlay:u.a.createElement("span",null,"You can add up to ",O.a.limits.maxScriptsPerLink," scripts on each link,",u.a.createElement("br",null),"please deselect one to continue"),display:!e.props.canAddMore&&!n},u.a.createElement("div",{className:"CheckboxOption"},u.a.createElement(p.Label,{className:"CheckboxOption__label",value:u.a.createElement(p.Tag,{className:"CheckboxOption__tag",label:t.label,color:t.color,size:"lg"})},u.a.createElement(p.Checkbox,{checked:!!n,disabled:!e.props.canAddMore&&!n})))),e.props.canManageOptions&&u.a.createElement(p.IconButton,{"rb-test-id":"link-edit-tag-button",className:"m-l-8 p-0",theme:"ghost",icon:{name:"ic-edit",size:"xsmall"},onClick:function(a){return e.handleOpenEdit(a,t)}}))},showLoadMore:this.props.count.total>this.props.workspaceScripts.length})}return u.a.createElement(l.Fragment,null,"select"===this.state.viewMode&&u.a.createElement(p.Selector,t),("edit"===this.state.viewMode||"create"===this.state.viewMode)&&u.a.createElement(p.Dropdown,{isOpen:this.state.formIsOpen},u.a.createElement(p.Trigger,null,this.renderComponent()),u.a.createElement(p.Content,null,u.a.createElement(E.a,Object.assign({},this.state.currentOption,{workspaceId:this.props.workspaceId,onSuccess:this.handleSuccess,onCancel:this.handleCloseForm,onDelete:this.handleDelete})))))}}]),a}(l.PureComponent);t.a=Object(m.b)((function(e){var t=e.scripts,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceScripts:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e,t){return{load:function(a){return e(Object(k.g)(a,t.workspaceId))},resetList:function(){return e(Object(k.i)())}}}))(j)},266:function(e,t,a){"use strict";var n=a(2),r=a(17),o=a(4),s=a(5),i=a(6),c=a(7),l=a(0),u=a.n(l),m=a(14),p=a(71),d=a(1),h=a(23),b=a.n(h),f=a(3),g=a.n(f),v=a(9),E=a.n(v),y=a(52),k=a.n(y),O=a(73),w=a.n(O),j=a(86),C=a(13),N=a(84),S=a(11),x=(a(1318),a(8)),L=a(38),T=function(e){return!!e&&"attached"===g()(e,"correlation.status","detached")},_=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i)))._isMounted=!1,e.state={domains:[],isLoading:!1,term:"",allResourcesLoaded:!1},e.resetList=function(){return e.setState({domains:[],allResourcesLoaded:!1})},e.fetchDomains=function(t){t||e.resetList();var a=e.state.term;e.setState({isLoading:!0});var n=t?e.state.domains:[];return Object(x.Ib)(e.props.workspaceId,{last:t,term:a,"correlation.status":"detached,attached"}).then((function(t){return e._isMounted&&e.setState({domains:[].concat(Object(r.a)(n),Object(r.a)(t)),allResourcesLoaded:E()(t)})})).catch((function(){})).finally((function(){return e._isMounted&&e.setState({isLoading:!1})}))},e.componentDidMount=function(){e._isMounted=!0,e.fetchDomains()},e.componentWillUnmount=function(){e._isMounted=!1},e.debouncedLoadDomains=w()(e.fetchDomains,S.a.debounceSearchTime),e.search=function(t){e.setState({term:t},(function(){(0===t.length||t.length>2)&&e.debouncedLoadDomains()}))},e.toggleDomain=function(t){var a=e.state.domains.find((function(e){return e.id===t})),r=T(a)?"detached":"attached";e.setState({domains:e.state.domains.map((function(e){return e.id===a.id?Object(n.a)(Object(n.a)({},a),{},{correlation:Object(n.a)(Object(n.a)({},a.correlation),{},{status:r})}):e}))})},e.handleChange=function(t){T(t)?(e.toggleDomain(t.id),Object(x.tb)(e.props.workspaceId,t.id).then((function(){return e.props.onDetachDomain(t)})).catch((function(){return e.toggleDomain(t.id)}))):(e.toggleDomain(t.id),Object(x.f)(e.props.workspaceId,t.id).then((function(){return e.props.onAttachDomain(t)})).catch((function(){return e.toggleDomain(t.id)}))),e.props.onDomainToggled&&e.props.onDomainToggled(t)},e.back=function(t){t&&t.stopPropagation(),e.props.history.goBack()},e.resetSearch=function(){return e.setState({term:null},(function(){return e.fetchDomains()}))},e.handleNewDomain=function(){if(e.props.onNewDomainClick)return e.props.onNewDomainClick();e.props.history.push("/domains/new")},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=!!this.state.term,a=g()(this.state.term,"length",0),r={name:"search",type:"search",icon:"ic-search",size:"sm",placeholder:"Search..."};return a>0&&a<3&&(r=Object(n.a)(Object(n.a)({},r),{},{theme:"warning",message:"Type at least 3 characters"})),u.a.createElement(d.Modal,{className:"ManageDomainsModal",size:"sm",showClose:!0,middle:!0,isOpen:this.props.isOpen,onClose:this.props.onClose||this.back},u.a.createElement(d.ModalHeader,null,u.a.createElement("div",{className:"flex middle-xs m-t-8"},u.a.createElement(d.Avatar,{img:g()(this.props.workspace,"avatarUrl")}),u.a.createElement(d.Text,{className:"Text-Title m-l-16",singleLine:!0},g()(this.props.workspace,"name")))),u.a.createElement(d.ModalContent,null,u.a.createElement(l.Fragment,null,this.props.accountDomainsCount>15&&u.a.createElement(d.Input,Object.assign({},r,{value:this.state.term||"",onChange:this.search,onClose:this.resetSearch,showClose:t,className:"m-b-36"})),0!==this.props.accountDomainsCount||this.state.isLoading?u.a.createElement("div",{className:"ManageDomainsModal__list--container"},u.a.createElement("ul",{className:"ManageDomainsModal__list",id:"ManageDomainsModal"},this.state.domains.map((function(t){var a=t.active,n={overlay:u.a.createElement("span",null,"This domain is not ready yet. ",u.a.createElement(C.a,{to:{pathname:"/domains/".concat(t.id),state:{modal:!0}}},"Learn more")),placement:"left",display:!a},r=T(t);return u.a.createElement(d.Tooltip,Object.assign({key:t.id},n),u.a.createElement(d.Label,{key:t.id,value:u.a.createElement("span",{className:b()({"Text--Disable":!a})},t.fullName)},u.a.createElement(d.Checkbox,{checked:r,onChange:function(){return e.handleChange(t)}})))}))),u.a.createElement(j.a,{key:this.state.domains.length.toString(),isLoading:this.state.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.fetchDomains(g()(k()(e.state.domains),"id"))},loadingLabel:t?"Searching, please wait...":"Loading domains...",infinite:!0})):u.a.createElement("div",{className:"Selector__empty"},u.a.createElement(d.Text,{size:"small"},t?u.a.createElement(l.Fragment,null,"No results found. ",u.a.createElement(d.Button,{label:"Reset search",onClick:this.resetSearch,theme:"link"})):"No custom domain names are available in your account yet")))),u.a.createElement(d.ModalFooter,null,u.a.createElement("div",{className:"Button__list"},u.a.createElement(d.Button,{icon:{name:"ic-add",size:"xsmall",position:"left"},theme:"link",label:"Add a new domain",onClick:this.handleNewDomain}))))}}]),a}(l.PureComponent);t.a=Object(p.g)(Object(m.b)((function(e,t){return{workspace:e.workspaces.items[t.workspaceId],isLoading:e.accountDomains.isLoading||e.domains.isLoading,domains:e.domains.list.map((function(t){return e.domains.items[t]})),accountDomains:e.accountDomains.list.map((function(t){return e.accountDomains.items[t]})),accountDomainsCount:Object(L.c)("domains",e.account),params:e.accountDomains.params}}),(function(e,t){return{attachDomain:function(a){return e(Object(N.a)(a,t.workspaceId))},detachDomain:function(a){return e(Object(N.d)(a.id,t.workspaceId))}}}))(_))},267:function(e,t,a){"use strict";t.a={desktop:{name:"Desktop",icon:"ic-device-desktop"},smartphone:{name:"Smartphone",icon:"ic-device-smartphone"},tablet:{name:"Tablet",icon:"ic-device-tablet"},"game-console":{name:"Game console"},"smart-tv":{name:"Smart TV"},pda:{name:"PDA"},"wereable-computer":{name:"Wereable computer"},others:{name:"Others"}}},268:function(e,t,a){"use strict";t.a={"360-browser":{name:"360 browser"},"3ds-browser":{name:"3DS browser"},"acoo-browser":{name:"Acoo browser"},"adobe-air-runtime":{name:"Adobe air runtime",icon:"ic-browser-adobe-air"},"amiga-aweb":{name:"Amiga aweb"},"amiga-voyager":{name:"AMIGA Voyager"},amigo:{name:"Amigo"},"android-browser":{name:"Android browser",icon:"ic-browser-android-browser"},"android-httpurlconnection":{name:"Android HttpURLConnection",icon:"ic-browser-android-http-url"},'android-webview"':{name:"Android Webview",icon:"ic-browser-android-webview"},"ant-fresco":{name:"ANT Fresco"},"aol-explorer":{name:"AOL explorer",icon:"ic-browser-aol"},"apache-httpclient":{name:"Apache httpclient"},"apache-synapse":{name:"Apache synapse",icon:"ic-browser-apache"},"apple-mail":{name:"Apple mail",icon:"ic-browser-apple-mail"},"apple-news":{name:"Apple news",icon:"ic-browser-apple-news"},arora:{name:"Arora"},"avant-browser":{name:"Avant browser"},"avast-safezone":{name:"Avast safezone",icon:"ic-browser-avast"},"baidu-mobile-browser":{name:"Baidu mobile browser"},barca:{name:"Barca"},beonex:{name:"Beonex"},"blackberry-browser":{name:"Blackberry browser",icon:"ic-browser-blackberry"},camino:{name:"Camino"},cheshire:{name:"Cheshire"},chrome:{name:"Chrome",icon:"ic-browser-chrome"},"chrome-headless":{name:"Chrome (headless)",icon:"ic-browser-chrome-headless"},"chrome-mobile":{name:"Chrome mobile",icon:"ic-browser-chrome-mobile"},chromium:{name:"Chromium",icon:"ic-browser-chromium"},chromodo:{name:"Chromodo"},"cm-browser":{name:"CM browser"},coast:{name:"Coast"},"coc-coc":{name:"Coc Coc"},cometbird:{name:"Cometbird"},coolnovo:{name:"Coolnovo"},"cpg-dragonfly-rss-module":{name:"CPG Dragonfly RSS Module"},curl:{name:"Curl",icon:"ic-browser-curl"},cyberfox:{name:"Cyberfox"},deskbrowse:{name:"DeskBrowse"},"digg-reader":{name:"Digg reader"},diigo:{name:"Diigo"},dillo:{name:"Dillo"},doczilla:{name:"Doczilla"},dolphin:{name:"Dolphin"},elinks:{name:"Elinks"},"espial-tv-browser":{name:"Espial TV browser"},eventmachine:{name:"Eventmachine"},"facebook-app":{name:"Facebook app",icon:"ic-browser-facebook-app"},faraday:{name:"Faraday"},"feedfetcher-google":{name:"Feedfetcher Google"},feedparser:{name:"Feedparser"},firefox:{name:"Firefox",icon:"ic-browser-firefox"},"firefox-(shiretoko)":{name:"Firefox (shiretoko)"},"firefox-focus":{name:"Firefox Focus",icon:"ic-browser-firefox-focus"},"firefox-mobile":{name:"Firefox mobile",icon:"ic-browser-firefox-mobile"},flock:{name:"Flock",icon:"ic-browser-flock"},flynx:{name:"Flynx"},galeon:{name:"Galeon"},gmail:{name:"Gmail",icon:"ic-browser-gmail"},"gnome-web":{name:"Gnome web"},"go-http-package":{name:"Go http-package"},"google-app":{name:"Google app",icon:"ic-browser-google-app"},"google-app-engine":{name:"Google app engine",icon:"ic-browser-google-app-engine"},"goose-extractor":{name:"Goose extractor"},guzzle:{name:"Guzzle"},hotjava:{name:"Hotjava"},htmlparser:{name:"htmlparser"},httrack:{name:"HTTrack"},ibrowse:{name:"iBrowse"},icab:{name:"Icab"},"ice-browser":{name:"Ice browser"},icedragon:{name:"Icedragon"},iceweasel:{name:"Iceweasel"},ie:{name:"Internet explorer",icon:"ic-browser-ie"},"ie-mobile":{name:"Internet explorer mobile",icon:"ic-browser-ie-mobile"},"instagram-app":{name:"Instagram App",icon:"ic-browser-instagram-app"},iridium:{name:"Iridium"},iron:{name:"Iron",icon:"ic-browser-iron"},"iron-mobile":{name:"Iron mobile"},isilox:{name:"iSiloX"},"jakarta-commons-httpclient":{name:"Jakarta commons httpclient"},jasmine:{name:"Jasmine"},java:{name:"Java",icon:"ic-browser-java"},jobo:{name:"Jobo"},"joc-web-spider":{name:"Joc web spider"},"k-ninja":{name:"K-ninja"},kapiko:{name:"Kapiko"},kazehakase:{name:"Kazehakase"},"kindle-browser":{name:"Kindle browser"},kkman:{name:"KKMan"},klondike:{name:"Klondike"},kodi:{name:"Kodi"},konqueror:{name:"Konqueror"},"lg-phantom-browser":{name:"LG phantom browser"},"lg-web-browser":{name:"LG web browser"},"libwww-perl":{name:"libwww-perl"},"line-app":{name:"Line App",icon:"ic-browser-line-app"},"linkedin-app":{name:"Likedin App",icon:"ic-browser-linkedin-app"},links:{name:"Links"},"lotus-notes":{name:"Lotus notes"},lunascape:{name:"Lunascape"},"lwp::simple":{name:"LWP::Simple"},lynx:{name:"Lynx"},maxthon:{name:"Maxthon"},"maxthon-mobile":{name:"Maxthon mobile"},mechanize:{name:"Mechanize"},"microsoft-edge":{name:"Microsoft edge",icon:"ic-browser-edge"},"microsoft-edge-mobile":{name:"Microsoft edge mobile",icon:"ic-browser-edge-mobile"},"microsoft-webdav-client":{name:"Microsoft webdav client"},midori:{name:"Midori"},"miui-browser":{name:"Miui browser",icon:"ic-browser-miui"},"mobile-samsung-browser":{name:"Samsung Mobile",icon:"ic-browser-samsung"},"mobile-seznam.cz-browser":{name:"Mobile Seznam.cz browser"},mozilla:{name:"Mozilla",icon:"ic-browser-mozilla"},mxnitro:{name:"Maxthon Nitro"},netfront:{name:"Netfront"},netnewswire:{name:"Netnewswire"},"netscape-navigator":{name:"Netscape navigator"},"nokia-web-browser":{name:"Nokia web browser",icon:"ic-browser-nokia"},obigo:{name:"Obigo"},"off-by-one":{name:"Off By One"},okhttp:{name:"OkHttp",icon:"ic-browser-okhttp"},"omea-reader":{name:"Omea Reader"},omniweb:{name:"Omniweb"},"one-browser":{name:"ONE browser"},"openwave-mobile-browser":{name:"Openwave mobile browser"},opera:{name:"Opera",icon:"ic-browser-opera"},"opera-mini":{name:"Opera mini",icon:"ic-browser-opera-mini"},"opera-mobile":{name:"Opera mobile",icon:"ic-browser-opera-mobile"},"opera-touch":{name:"Opera Touch",icon:"ic-browser-opera-touch"},"opera-tv-store":{name:"Opera TV store"},others:{name:"Others"},"outlook-2007":{name:"Outlook 2007",icon:"ic-browser-outlook-2007"},"outlook-2010":{name:"Outlook 2010",icon:"ic-browser-outlook-2010"},"outlook-2013":{name:"Outlook 2013",icon:"ic-browser-outlook-2013"},"outlook-2016":{name:"Outlook 2016",icon:"ic-browser-outlook"},"outlook-mobile":{name:"Outlook Mobile",icon:"ic-browser-outlook-mobile"},"pale-moon":{name:"Pale Moon"},"pale-moon-mobile":{name:"Pale Moon mobile"},pattern:{name:"Pattern"},phantomjs:{name:"phantomjs"},"phoenix-(old-name-for-firefox)":{name:"Phoenix (old firefox)"},php:{name:"PHP"},"pinterest-app":{name:"Pinterest App",icon:"ic-browser-pinteres"},polaris:{name:"polaris"},"ps-vita-browser":{name:"PS vita browser"},"ps4-web-browser":{name:"PS4 web browser",icon:"ic-browser-ps4"},puffin:{name:"Puffin"},"python-requests":{name:"Python requests",icon:"ic-browser-python"},"python-urllib":{name:"Python urllib",icon:"ic-browser-python-url"},qqbrowser:{name:"QQ Browser"},quicktime:{name:"Quicktime"},qupzilla:{name:"QupZilla"},rockmelt:{name:"Rockmelt",icon:"ic-browser-rocketmelt"},safari:{name:"Safari",icon:"ic-browser-safari"},"safari-mobile":{name:"Safari mobile",icon:"ic-browser-safari-mobile"},"samsung-tv-browser":{name:"Samsung TV browser",icon:"ic-browser -samsung-tv"},"screaming-frog-seo-spider":{name:"Screaming Frog SEO Spider"},seamonkey:{name:"Seamonkey"},"semc-browser":{name:"SEMC browser"},"seznam.cz-browser":{name:"Seznam.cz browser"},silk:{name:"Silk",icon:"ic-browser-silk"},sleipnir:{name:"Sleipnir"},"snapchat-app":{name:"Snapchat App",icon:"ic-browser-snapchat"},snoopy:{name:"Snoopy"},"sogou-explorer":{name:"Sogou explorer"},songbird:{name:"Songbird"},sparrow:{name:"Sparrow"},stainless:{name:"Stainless"},sunrise:{name:"Sunrise"},superbird:{name:"Superbird"},swiftfox:{name:"Swiftfox"},"swing-mobile":{name:"Swing mobile"},"t-online.de-browse":{name:"T-Online",icon:"ic-browser-t-online"},tenfourfox:{name:"TenFourFox"},thunderbird:{name:"Thunderbird",icon:"ic-browser-thunderbird"},"tizen-browser":{name:"Tizen browser"},"tt-explorer":{name:"TT explorer"},"tulip-chain":{name:"Tulip chain"},"twitter-app":{name:"Twitter App",icon:"ic-browser-twitter-app"},typhoeus:{name:"Typhoeus"},"uc-browser":{name:"UC browser",icon:"ic-browser-uc"},"uc-browser-mobile":{name:"UC mobile",icon:"ic-browser-uc-browser-mobile"},vivaldi:{name:"Vivaldi"},w3m:{name:"w3m"},waterfox:{name:"Waterfox"},webzip:{name:"Webzip"},"wechat-mobile-app":{name:"WeChat App",icon:"ic-browser-wechat-app"},wget:{name:"Wget"},"windows-live-mail":{name:"Windows Live Mail",icon:"ic-browser-windows-mail-live"},"windows-media-player":{name:"Windows MediaPlayer",icon:"ic-browser-windows-media-player"},winhttp:{name:"WinHTTP"},wkhtmltopdf:{name:"wkhtmltopdf"},"wordpress-pingback":{name:"Wordpress pingback"},"www::mechanize":{name:"WWW:Mechanize"},xenu:{name:"Xenu"},"yahoo-link-preview":{name:"Yahoo link preview"},"yahoo-mail":{name:"Yahoo Mail",icon:"ic-browser-yahoo-mail"},"yandex-app":{name:"Yandex App",icon:"ic-browser-yandex-app"},"yandex.browser":{name:"Yandex browser",icon:"ic-browser-yandex"},"yandex.browser-mobile":{name:"Yandex browser mobile",icon:"ic-browser-yandex-mobile"},yourls:{name:"Yourls"}}},269:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(275),u=a(70),m=a(304),p=a(505),d=a(1489),h=a(19),b=a(24),f=a.n(b),g=a(3),v=a.n(g),E=a(1),y=(a(511),[695,250]),k={top:5,right:10,bottom:55,left:12},O={top:5,right:7,bottom:20,left:12};var w=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;Object(n.a)(this,a),(r=t.call(this,e)).margin="small"===r.props.type?O:k;var o=e.size||y;return r.state={data:e.data||[],width:o[0]-r.margin.left-r.margin.right,height:o[1]-r.margin.top-r.margin.bottom},r.x=Object(l.a)(),r.y=Object(l.b)(),r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.size!==e.size&&this.setState({width:this.props.size[0]-this.margin.left-this.margin.right,height:this.props.size[1]-this.margin.top-this.margin.bottom}),this.props.data!==e.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state.data;if(!t)return null;var a=Object(u.e)(t,(function(e){return e.value})),n=function(e,t){if(e){var a=t?e/t:Math.pow(10,e.toString().length-1);a>1&&(e/a<2?a/=5:e/a<5&&(a/=2));var n=Math.ceil((e+1)/a);return{endPoint:n*a,count:Math.min(4,n)}}}(a,this.props.yTicksNumber),r=this.y.rangeRound([this.state.height,0]).domain([0,!this.props.yTicksNumber||n?n.endPoint:a]);this.marginLeft=isNaN(n.endPoint)?this.marginLeft||0:6*Object(h.compactInteger)(n.endPoint,1).length+this.margin.left,this.innerwidth=this.state.width-this.marginLeft;var o=this.x.rangeRound([0,this.innerwidth]).padding(.1).domain(t.map((function(e){return e.key})));return c.a.createElement("div",{className:"StatsChart__inner"},c.a.createElement("svg",{width:this.props.size[0],height:this.props.size[1]},c.a.createElement("g",{transform:"translate(".concat(this.marginLeft,", ").concat(this.margin.top,")")},c.a.createElement("g",{className:"axis axis--x",transform:"translate(0, ".concat(this.state.height,")"),ref:function(a){var n=Object(p.a)(a).call(Object(m.a)(o).tickFormat(e.props.labelGenerator));n.selectAll(".tick").attr("class",(function(t){return t===v()(e.props.selectedBar,"key")?"hovered":"tick"})).selectAll("text").attr("class",(function(){return e.props.notRotateLabels?"":t.length>10?"rotated":""})),n.selectAll("line").attr("y2",e.props.tickModifier||6)}}),c.a.createElement("g",{className:"axis axis--y"},c.a.createElement("g",{ref:function(t){return Object(p.a)(t).attr("class","axis grid").call(Object(m.b)(r).tickSizeInner(-e.innerwidth).tickSizeOuter(0).ticks(e.props.yTicksNumber||n&&n.count).tickFormat((function(e){return Object(h.compactInteger)(e,1)})))}})),t.map((function(t,a){return c.a.createElement(E.Tooltip,{overlay:e.props.tooltipGenerator(t),placement:"top",key:t.key+a},c.a.createElement("rect",{onClick:function(a){return e.props.onSelect(t,a)},onMouseOver:function(a){return e.props.onMouseOver(t,a)},onMouseOut:function(a){e.props.onMouseOut(t,a),Object(d.a)(".hovered").remove()},className:"bar",x:o(t.key),y:r(t.value||0),width:o.bandwidth(),height:e.state.height-r(t.value||0)}))})))))}}]),a}(i.PureComponent);w.defaultProps={onMouseOver:function(e,t){},onMouseOut:function(e,t){},labelGenerator:function(e){return e},tooltipGenerator:function(e,t){return c.a.createElement("div",null,c.a.createElement("p",{className:"Chart__tootlip__value"},Number.isInteger(e.value)?Object(h.formatNumber)(e.value):e.value," ",f()("click",e.value)),c.a.createElement("p",{className:"Chart__tootlip__key"},e.key))}},t.a=w},270:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(14),u=a(3),m=a.n(u),p=a(1),d=a(36),h=a(48),b=a(22),f=a(31),g=a(66),v=a(11),E=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isProcessing:!1,showTrashModal:!1,showDeleteModal:!1},e.showTrashModal=function(){return e.setState({showTrashModal:!0})},e.hideTrashModal=function(){return e.setState({showTrashModal:!1})},e.showDeleteModal=function(){return e.setState({showDeleteModal:!0})},e.hideDeleteModal=function(){return e.setState({showDeleteModal:!1})},e.trashLink=function(){e.setState({isProcessing:!0}),e.props.onTrash().then((function(){e.setState({isProcessing:!1}),e.hideTrashModal()}))},e.deleteLink=function(){e.setState({isProcessing:!0}),e.props.onDelete().then((function(){e.setState({isProcessing:!1}),e.hideTrashModal(),e.hideDeleteModal()}))},e}return Object(r.a)(a,[{key:"renderDeleteAction",value:function(){return this.props.showInDropdown?c.a.createElement(p.Button,{label:"Delete permanently",theme:"ghost",disabled:!this.props.canEdit,onClick:this.showDeleteModal,icon:{name:"ic-delete-permanent",color:this.props.canEdit&&"var(--color-grey-400)",position:"left"}}):c.a.createElement(d.c,{iconName:"ic-delete-permanent",disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Delete permanently":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to delete this link."),placement:"top"},onDelete:this.showDeleteModal,"rb-test-id":"links-list-delete"})}},{key:"renderLoveAction",value:function(){var e=m()(this.props.link,"favourite");return c.a.createElement(d.f,{disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Star":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to love this link."),placement:"top"},favourite:e,onToggleFavouriteClick:this.props.onLove,"rb-test-id":e?"links-list-loved":"links-list-love"})}},{key:"renderRestoreAction",value:function(){return this.props.showInDropdown?c.a.createElement(p.Button,{label:"Restore",theme:"ghost",disabled:!this.props.canEdit,onClick:this.props.onRestore,icon:{name:"ic-restore",color:this.props.canEdit&&"var(--color-grey-400)",position:"left"}}):c.a.createElement(d.h,{disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Restore":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to restore this link."),placement:"top"},onRestore:this.props.onRestore})}},{key:"renderUnblockAction",value:function(){return c.a.createElement(d.k,{disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Request to Unblock":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to unblock this link."),placement:"top"}})}},{key:"renderVisitAction",value:function(){var e="https"===m()(this.props.link.domain,"sharing.protocol.default","https"),t=Object(g.a)(this.props.link.shortUrl,e);return c.a.createElement(d.l,{tooltip:{overlay:"Visit URL",placement:"top"},url:t})}},{key:"renderCopyAction",value:function(){var e="https"===m()(this.props.link.domain,"sharing.protocol.default","https"),t=Object(g.a)(this.props.link.shortUrl,e);return c.a.createElement(d.b,{tooltip:{overlay:"Copy",placement:"top"},toCopy:t})}},{key:"renderShareAction",value:function(){return c.a.createElement(d.i,{tooltip:{overlay:"Share",placement:"top"},link:this.props.link,withDropdown:this.props.shareWithDropdown})}},{key:"renderEditAction",value:function(){return c.a.createElement(d.e,{disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Edit":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to edit this link."),placement:"top"},onEdit:this.props.onEdit,"rb-test-id":"links-list-edit"})}},{key:"renderQRCodeAction",value:function(){var e="https"===m()(this.props.link.domain,"sharing.protocol.default","https"),t="".concat(v.a.api.middleware.qrcodeGenerator.baseUrl,"/qrcode?shortUrl=").concat(encodeURIComponent(Object(g.a)(m()(this.props.link,"shortUrl"),e)));return c.a.createElement(d.g,{tooltip:{overlay:"QR Code",placement:"top"},image:t})}},{key:"renderTrashAction",value:function(){return c.a.createElement(i.Fragment,null,c.a.createElement(d.j,{disabled:!this.props.canEdit,tooltip:{overlay:this.props.canEdit?"Trash":c.a.createElement("span",null,"You are not allowed",c.a.createElement("br",null),"to trash this link."),placement:"top"},onTrash:this.showDeleteModal,"rb-test-id":"links-list-trash"}))}},{key:"renderConfirmablePopups",value:function(){var e={icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete this link?",message:"If you trash this link it won't redirect to the destination URL anymore and any stats will be lost forever. This is a permanent action and cannot be undone.",primaryButtonProps:{label:"Delete",theme:"delete",onClick:this.deleteLink,isLoading:this.state.isProcessing},secondaryButtonProps:{label:"Cancel",onClick:this.hideDeleteModal}};return c.a.createElement(h.a,Object.assign({isOpen:this.state.showDeleteModal},e,{onClose:this.hideDeleteModal}))}},{key:"render",value:function(){var e=m()(this.props.link,"status"),t=e===f.e,a=e===f.b;return t?this.props.showInDropdown?c.a.createElement(i.Fragment,null,c.a.createElement("ul",null,c.a.createElement("li",null,this.renderRestoreAction()),c.a.createElement("li",null,this.renderDeleteAction())),this.renderConfirmablePopups()):c.a.createElement("div",{className:"LinkActions flex middle-xs"},this.props.showRestoreAction&&this.props.onRestore&&this.renderRestoreAction(),this.props.showDeleteAction&&this.props.onDelete&&this.renderDeleteAction(),this.renderConfirmablePopups()):a&&this.props.showUnblockAction?this.renderUnblockAction():c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"LinkActions flex middle-xs"},!t&&!a&&this.props.showLoveAction&&this.props.onLove&&this.renderLoveAction(),this.props.showVisitAction&&this.renderVisitAction(),this.props.showCopyAction&&this.renderCopyAction(),this.props.showShareAction&&this.renderShareAction(),this.props.showEditAction&&this.props.onEdit&&this.renderEditAction(),this.props.showQRCodeAction&&this.renderQRCodeAction(),this.props.showTrashAction&&this.props.onTrash&&this.renderTrashAction()),this.renderConfirmablePopups())}}]),a}(i.PureComponent);t.a=Object(l.b)((function(e,t){return{canEdit:Object(b.d)(e,e.session.currentWorkspaceId,"edit","workspaces.links",t.link)}}),null)(E)},302:function(e,t,a){},31:function(e,t,a){"use strict";a.d(t,"i",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return h})),a.d(t,"f",(function(){return b})),a.d(t,"h",(function(){return f})),a.d(t,"j",(function(){return g})),a.d(t,"m",(function(){return v})),a.d(t,"k",(function(){return E})),a.d(t,"l",(function(){return y})),a.d(t,"q",(function(){return k})),a.d(t,"p",(function(){return O})),a.d(t,"o",(function(){return w})),a.d(t,"n",(function(){return j}));var n=a(2),r=a(29),o=a.n(r),s=a(3),i=a.n(s),c="desc",l=null,u="LimitExceeded",m="OwnerLimitExceeded",p="trashed",d="blocked",h="createdAt",b="mailto",f="sms",g="tel",v=function(e){var t=[{label:"Latest",value:"latest",params:{favourite:null,status:l,orderBy:h,orderDir:c}},{label:"Slashtag A - Z",value:"Slashtag-a-z",params:{favourite:null,status:l,orderBy:"slashtag",orderDir:"asc"}},{label:"Slashtag Z - A",value:"Slashtag-z-a",params:{favourite:null,status:l,orderBy:"slashtag",orderDir:c}},{label:"Starred",value:"starred",params:{favourite:!0,status:l,orderBy:h,orderDir:c}}];return e.links.count.blocked>0&&t.push({label:"Blocked",value:"blocked",params:{favourite:null,status:d,orderBy:h,orderDir:c}}),t},E=function(e){var t=v(e),a=e.links.params;return t.find((function(e){return e.params.status===a.status&&e.params.favourite===a.favourite&&e.params.orderBy===a.orderBy&&e.params.orderDir===a.orderDir}))},y=function(e,t){return i()(e.links,"items[".concat(t,"]"),{})},k=function(e){return e.replace(" ","-").replace(/(\r\n|\n|\r)/gm,"")},O=function(e){var t=new o.a(e,!0),a=t.pathname;return Object(n.a)({to:a},t.query)},w=function(e){var t=new o.a(e,!0);if(!j(e))return{};var a={},n=["to","cc","bcc"];return["to","cc","bcc","subject","body","rb-dashboard-composer"].forEach((function(e){var r=t.query[e];r&&(n.includes(e)?a[e]=atob(r):a[e]=r)})),a},j=function(e){if(!e)return!1;var t=new o.a(e,!0).query;return i()(t,"rb-dashboard-composer")===b||i()(t,"rb-dashboard-composer")===f||i()(t,"rb-dashboard-composer")===g}},314:function(e,t,a){"use strict";a.d(t,"d",(function(){return G})),a.d(t,"c",(function(){return H})),a.d(t,"e",(function(){return q})),a.d(t,"b",(function(){return V})),a.d(t,"a",(function(){return Q}));var n=a(15),r=a(2),o=a(4),s=a(5),i=a(6),c=a(7),l=a(0),u=a.n(l),m=a(14),p=a(1),d=a(363),h=a.n(d),b=a(19),f=a(24),g=a.n(f),v=a(100),E=a.n(v),y=a(3),k=a.n(y),O=a(140),w=a.n(O),j=a(98),C=a.n(j),N=a(382),S=a(13),x=a(366),L=a(182),T=a(269),_=a(679),D=a(95),A=a(179),I=a(268),M=a(267),R=a(491),P=a(365),z=a(259),F=a(60),U=a(225),B=a(680),W=Object(B.a)((function(){return Promise.all([a.e(2),a.e(3)]).then(a.bind(null,1495))})),G=30,H=24,q=12,V=30,Y=function(){return u.a.createElement("div",{className:"Text-SemiHero m-t-8 text-center"},u.a.createElement(p.Text,{size:"small"},"No data available"))},K=["devices","browsers","dayhours","languages","weekdays","platforms","sources","socials"],J={isLoading:!1,payload:[]},Q=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setScreenSize=function(){return n.setState({width:n.container.current.getBoundingClientRect().width.toString()})},n.container=u.a.createRef(),n.state={width:"300"},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setScreenSize),this.setScreenSize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenSize)}},{key:"render",value:function(){return u.a.createElement("div",{ref:this.container},this.props.children({width:this.state.width}))}}]),a}(l.PureComponent),X=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var s;Object(o.a)(this,a),(s=t.call(this,e)).setScreenSize=function(){document.body.clientWidth<F.d.small.max?s.setState({clientWidth:document.body.clientWidth,viewMode:"one_column"}):s.setState({clientWidth:document.body.clientWidth,viewMode:"two_columns"})},s.loadResourceData=function(e){return s.setState(Object(n.a)({},e,Object(r.a)(Object(r.a)({},s.state[e]),{},{isLoading:!0}))),s.props.getData("segments",{group:e}).then((function(t){return s.setState(Object(n.a)({},e,Object(r.a)(Object(r.a)({},s.state[e]),{},{isLoading:!1,payload:t})))})).catch((function(){s.setState(Object(n.a)({},e,Object(r.a)(Object(r.a)({},s.state[e]),{},{isLoading:!1})))}))},s.handleRefresh=function(){s.props.refreshResource&&(s.setState({isRefreshing:!0}),s.props.refreshResource().then((function(){s.loadBasicData().then((function(){return s.setState({hasScrolled:!1})})).finally((function(){return s.setState({isRefreshing:!1})}))})).catch((function(){return s.setState({isRefreshing:!1})})))},s.handleOnEnter=function(){if(s.state.hasScrolled)return!1;s.loadAdvancedData()},s.loadAdvancedData=function(){K.forEach(s.loadResourceData),s.setState({hasScrolled:!0})},s.populateTimelineData=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hour",n=g()(a,2),r=[],o=function(t){var o=E()().subtract(t,n),s=e.find((function(e){return E.a.tz(e.key,"UTC").isSame(o,a)}));r.push({key:o.format(),clicks:k()(s,"clicks",0)})},s=t-1;s>=0;s--)o(s);return r};var i={hours:J,days:J,months:J,todaysClicks:0,viewMode:null,hasScrolled:!1,isRefreshing:!1};return K.forEach((function(e){i[e]=J})),s.state=i,s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadBasicData(),this.setScreenSize(),window.addEventListener("resize",this.setScreenSize)}},{key:"componentDidUpdate",value:function(e){e.item.id!==this.props.item.id&&(this.loadBasicData(),this.state.hasScrolled&&this.loadAdvancedData())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenSize)}},{key:"loadBasicData",value:function(){var e=this;this.setState({hours:Object(r.a)(Object(r.a)({},this.state.hours),{},{isLoading:!0}),days:Object(r.a)(Object(r.a)({},this.state.days),{},{isLoading:!0}),months:Object(r.a)(Object(r.a)({},this.state.months),{},{isLoading:!0})});var t=this.props.getData("clicks",{group:"days",limit:1}).then((function(t){var a,n,r=t&&t.length>0&&t[t.length-1];if(r)return a=new Date(r.key+"T00:00Z"),n=new Date,a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()&&a.getDate()===n.getDate()?e.setState({todaysClicks:r.clicks}):void e.setState({todaysClicks:0})})),a=this.loadResourceData("countries"),n=this.props.getData("clicks",{group:"hours",from:E()().subtract(H,"hours").format("YYYY-MM-DDTHH"),to:E()().format("YYYY-MM-DDTHH")}).then((function(t){return e.setState({hours:Object(r.a)(Object(r.a)({},e.state.hours),{},{isLoading:!1,payload:e.populateTimelineData(t,H,"hour")})})})),o=this.props.getData("clicks",{group:"days",from:E()().subtract(V,"days").format("YYYY-MM-DD"),to:E()().format("YYYY-MM-DD")}).then((function(t){return e.setState({days:Object(r.a)(Object(r.a)({},e.state.days),{},{isLoading:!1,payload:e.populateTimelineData(t,V,"day")})})})),s=this.props.getData("clicks",{group:"months",from:E()().subtract(q,"months").format("YYYY-MM"),to:E()().format("YYYY-MM")}).then((function(t){return e.setState({months:Object(r.a)(Object(r.a)({},e.state.months),{},{isLoading:!1,payload:e.populateTimelineData(t,q,"month")})})}));return Promise.all([t,n,o,s,a])}},{key:"render",value:function(){var e=this,t=k()(this.props.item,"sessions",0),a=k()(this.props.item,"clicks",0),n=w()(k()(this.state.countries,"payload",[]),{key:"others",weight:1});a>0&&0===t&&(t=1);var r=306,o=[];if(t>0){var s=t/a;o.push({label:"Unique",icon:null,key:"unique",value:s}),o.push({label:"Non-Unique",icon:null,key:"non-unique",value:1-s}),r=o.length>1?124:168}var i=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Click type"),u.a.createElement(Q,null,(function(e){return u.a.createElement(L.a,{width:e.width,data:C()(o,"value","desc")})}))),c=u.a.createElement("div",{className:"StatsChart",style:{transition:"max-height .3s ease-out",maxHeight:this.state.weekdays.isLoading?"130":"500px"}},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title p-b-16"},"Most popular hours"),this.state.dayhours.isLoading?u.a.createElement(U.a,{height:130}):0===this.state.dayhours.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){var a=0;return u.a.createElement(T.a,{onSelect:function(e,t){},tooltipGenerator:function(e,t){return u.a.createElement("div",null,u.a.createElement("p",{className:"Chart__tootlip__value"},e.value,"%"),u.a.createElement("p",{className:"Chart__tootlip__key"},e.key+(+e.key>=12?" PM":" AM")+" (UTC)"))},data:h()(24).map((function(t){var a=e.state.dayhours.payload.find((function(e){return e.key.toString()===t.toString()}));return{key:t,value:a?Math.abs(Object(b.formatNumber)(100*a.weight,0)):0,label:(+t%12||12).toString()+(12===+t?" PM":0===+t?" AM":"")}})),labelGenerator:function(e){return a++%3===0?(+e%12||12).toString()+(12===+e?" PM":0===+e?" AM":""):""},tickModifier:function(e){return e%3===0?6:0},yTicksNumber:2,type:"small",notRotateLabels:!0,size:[t.width,r]})}))),m=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top sources"),this.state.sources.isLoading?u.a.createElement(p.Loading,null):0===this.state.sources.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{width:t.width,name:"sources",data:C()(e.state.sources.payload.map((function(e){return{label:Object(b.truncate)(k()(P.a,"[".concat(e.key,"].name"),Object(b.capitalize)(e.key)),G,"..."),key:e.key,value:e.weight}})),"value","desc")})}))),d=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top devices"),this.state.devices.isLoading?u.a.createElement(p.Loading,null):0===this.state.devices.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{className:"StatsChart--topDevices",width:t.width,name:"devices",data:C()(e.state.devices.payload.map((function(e){return{label:Object(b.truncate)(k()(M.a,"[".concat(e.key,"].name"),Object(b.capitalize)(e.key)),G,"..."),icon:u.a.createElement(p.Icon,{name:k()(M.a,"[".concat(e.key,"].icon"),"ic-device-default"),size:"xsmall"}),key:e.key,value:e.weight}})),"value","desc")})}))),f=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top platforms"),this.state.platforms.isLoading?u.a.createElement(p.Loading,null):0===this.state.platforms.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{width:t.width,name:"platforms",data:C()(e.state.platforms.payload.map((function(e){return{label:Object(b.truncate)(k()(R.a,"[".concat(e.key,"].name"),Object(b.capitalize)(e.key)),G,"..."),icon:u.a.createElement(p.Icon,{name:k()(R.a,"[".concat(e.key,"].icon"),"ic-os-default"),size:"xsmall"}),key:e.key,value:e.weight}})),"value","desc")})}))),g=u.a.createElement("div",{className:"StatsChart",style:{transition:"max-height .3s ease-out",maxHeight:this.state.weekdays.isLoading?"320px":"500px"}},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top days"),this.state.weekdays.isLoading?u.a.createElement(U.a,{height:320}):0===this.state.weekdays.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{width:t.width,enableShowMore:!1,data:E.a.weekdays().map((function(t){var a=e.state.weekdays.payload.find((function(e){return Object(b.capitalize)(e.key)===t}));return{key:t,value:a?a.weight:0}}))})}))),v=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top social"),this.state.socials.isLoading?u.a.createElement(p.Loading,null):0===this.state.socials.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{name:"socials",width:t.width,data:C()(e.state.socials.payload.map((function(e){return{label:Object(b.truncate)(k()(z.a,"[".concat(e.key,"].name"),Object(b.capitalize)(e.key)),G,"..."),icon:u.a.createElement(p.Icon,{name:k()(z.a,"[".concat(e.key,"].icon"),"ic-social-default"),size:"xsmall"}),key:e.key,value:e.weight}})),"value","desc")})}))),y=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top browsers"),this.state.browsers.isLoading?u.a.createElement(p.Loading,null):0===this.state.browsers.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{name:"browsers",width:t.width,data:C()(e.state.browsers.payload.map((function(e){return{label:Object(b.truncate)(k()(I.a,"[".concat(e.key,"].name"),Object(b.capitalize)(e.key)),G,"..."),icon:u.a.createElement(p.Icon,{name:k()(I.a,"[".concat(e.key,"].icon"),"ic-browser-default"),size:"xsmall"}),key:e.key,value:e.weight}})),"value","desc")})}))),O=u.a.createElement("div",{className:"StatsChart"},u.a.createElement(p.Text,{size:"x-small",className:"StatsChart__title"},"Top languages"),this.state.languages.isLoading?u.a.createElement(p.Loading,null):0===this.state.languages.payload.length?u.a.createElement(Y,null):u.a.createElement(Q,null,(function(t){return u.a.createElement(L.a,{name:"languages",width:t.width,data:C()(e.state.languages.payload.map((function(e){var t=A.a[e.key];return{label:Object(b.truncate)(k()(t,"name",Object(b.capitalize)(e.key)),G,"..."),icon:null,key:e.key,value:e.weight}})),"value","desc")})})));return u.a.createElement(l.Fragment,null,this.props.shouldShowClickLimitBanner&&u.a.createElement(p.Alert,{className:"m-t-24 m-b-24",title:u.a.createElement(l.Fragment,null,"Important! Since you reached your monthly click limit the data reported below may not be fully accurate. ",u.a.createElement(S.a,{size:"lg",to:"/pricing"},"Upgrade plan")," to unblock extra clicks"),status:"warning"}),u.a.createElement("div",{className:"StatsChart"},u.a.createElement(x.a,{item:this.props.item,className:"StatsChart__legend",todaysClicks:this.state.todaysClicks}),u.a.createElement(Q,null,(function(t){return u.a.createElement(_.a,{hours:e.state.hours,days:e.state.days,months:e.state.months,width:t.width})}))),!n&&u.a.createElement("div",{className:"StatsChart m-t-16"},u.a.createElement(Q,null,(function(t){return u.a.createElement(W,{countries:e.state.countries,width:t.width})}))),u.a.createElement(N.a,{key:this.state.hasScrolled.toString(),onEnter:this.handleOnEnter,topOffset:"10%",scrollableAncestor:this.props.scrollableElem},this.state.hasScrolled&&u.a.createElement("div",{className:"row"},"two_columns"===this.state.viewMode&&u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"col-sm-6"},a>0&&i,c,m,d,f),u.a.createElement("div",{className:"col-sm-6"},g,v,y,O)),"one_column"===this.state.viewMode&&u.a.createElement("div",{className:"col-xs-12"},a>0&&i,c,g,m,v,d,y,f,O))),this.state.clientWidth<F.d.small.min?u.a.createElement("div",{className:"row m-t-36 Stats__footer"},u.a.createElement("div",{className:"col-xs-12 col-sm-6 flex middle-xs m-b-12"},u.a.createElement(p.Button,{block:!0,label:"Refresh stats",icon:{name:"ic-restore",size:"xsmall"},onClick:this.handleRefresh,isLoading:this.state.isRefreshing})),u.a.createElement("div",{className:"col-xs-12 col-sm-6"},u.a.createElement(p.Text,{size:"x-small"},"* For consistency, every click is reported in ",u.a.createElement(S.a,{size:"sm",target:"_blank",href:"https://www.timeanddate.com/worldclock/timezone/utc"},"UTC")),this.props.hasMasterDomain&&u.a.createElement(p.Text,{size:"x-small"},"* This link has been created within a Master domain. ",u.a.createElement(S.a,{size:"sm",target:"_blank",href:""},"Read more")))):u.a.createElement("div",{className:"flex middle-xs m-t-36 Stats__footer"},u.a.createElement("div",null,u.a.createElement(p.Text,{size:"x-small"},"* For consistency, every click is reported in ",u.a.createElement(S.a,{size:"sm",target:"_blank",href:"https://www.timeanddate.com/worldclock/timezone/utc"},"UTC")),this.props.hasMasterDomain&&u.a.createElement(p.Text,{size:"x-small"},"* This link has been created within a Master domain. ",u.a.createElement(S.a,{size:"sm",target:"_blank",href:""},"Read more"))),u.a.createElement(p.Button,{label:"Refresh stats",icon:{name:"ic-restore",size:"xsmall"},onClick:this.handleRefresh,isLoading:this.state.isRefreshing})))}}]),a}(l.PureComponent);t.f=Object(m.b)((function(e){return{shouldShowClickLimitBanner:Object(D.g)(e)}}))(X)},315:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(1),u=a(3),m=a.n(u),p=a(100),d=a(13),h=a(192),b=a(179),f=a(267),g=a(268),v=a(365),E=a(259),y=a(60),k=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={loading:null,hours:null,days:null,months:null,countries:null,devices:null,browsers:null,dayhours:null,languages:null,sources:null,socials:null,weekdays:null},e.setScreenSize=function(){return e.setState({clientWidth:document.body.clientWidth})},e.loadData=function(){return e.setState({loading:!0}),Promise.all([e.props.getData("clicks",{group:"countries",limit:1}),e.props.getData("clicks",{group:"devices",limit:1}),e.props.getData("clicks",{group:"browsers",limit:1}),e.props.getData("clicks",{group:"languages",limit:1}),e.props.getData("clicks",{group:"sources",limit:1}),e.props.getData("clicks",{group:"socials",limit:1})]).then((function(t){return e.setState({loading:!1,countries:t[0],devices:t[1],browsers:t[2],languages:t[3],sources:t[4],socials:t[5]})})).catch((function(){return e.setState({loading:!1})}))},e.handleRefresh=function(){e.props.refreshResource&&(e.setState({loading:!0}),e.props.refreshResource().then((function(){return e.loadData()})).catch((function(){return e.setState({loading:!1})})))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setScreenSize(),this.loadData(),window.addEventListener("resize",this.setScreenSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenSize)}},{key:"render",value:function(){var e=m()(this.state.countries,"[0].key"),t=m()(Object(h.a)(e),"country","Unknown"),a=m()(this.state.browsers,"[0].key"),n=a&&m()(g.a[a],"name"),r=m()(this.state.languages,"[0].key"),o=r&&m()(b.a[r],"name"),s=m()(this.state.devices,"[0].key"),u=s&&m()(f.a[s],"name"),k=m()(this.state.sources,"[0].key"),O=k&&m()(v.a[k],"name"),w=m()(this.state.socials,"[0].key"),j=w&&m()(E.a[w],"name");return c.a.createElement(i.Fragment,null,this.state.loading?c.a.createElement("div",{className:"m-t-48"},c.a.createElement(l.Loading,null)):c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"StatsChart"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12"},c.a.createElement(l.Text,{"rb-test-id":"first-click-received",className:"StatsChart__description"},c.a.createElement("strong",null,"First click"),this.props.lastClickDate&&c.a.createElement(i.Fragment,null,c.a.createElement("span",null," received at "),c.a.createElement("span",null,c.a.createElement("strong",null,Object(p.tz)(this.props.lastClickDate,"UTC").format("HH:mm A - MMM DD, YYYY"))))))),(e||u||n||o||O||j)&&c.a.createElement("div",{className:"StatsChartData row m-t-24"},e&&c.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Country"},c.a.createElement("div",{className:"flex middle-xs"},c.a.createElement("i",{className:"flag flag--tiny flag-".concat(e)}),c.a.createElement(l.Text,{size:"small",className:"m-l-4",singleLine:!0},t)))),O&&c.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Source"},c.a.createElement(l.Text,{size:"small",singleLine:!0},O))),j&&c.a.createElement("div",{className:"StatsChartData__icon col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Social"},c.a.createElement("div",{className:"flex"},c.a.createElement(l.Icon,{name:m()(E.a,"[".concat(w,"].icon"),"ic-social-default"),size:"xsmall"}),c.a.createElement(l.Text,{size:"small",className:"m-l-4",singleLine:!0},j)))),u&&c.a.createElement("div",{className:"StatsChartData__icon col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Device"},c.a.createElement("div",{className:"flex"},c.a.createElement(l.Icon,{name:m()(f.a,"[".concat(s,"].icon"),"ic-device-default"),size:"xsmall"}),c.a.createElement(l.Text,{size:"small",className:"m-l-4",singleLine:!0},u)))),n&&c.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Browser"},c.a.createElement("div",{className:"flex"},c.a.createElement(l.Icon,{name:m()(g.a,"[".concat(a,"].icon"),"ic-browser-default"),size:"xsmall"}),c.a.createElement(l.Text,{size:"small",className:"m-l-4",singleLine:!0},n)))),o&&c.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3"},c.a.createElement(l.Label,{value:"Language"},c.a.createElement(l.Text,{size:"small",singleLine:!0},o)))))),this.state.clientWidth<y.d.small.min?c.a.createElement("div",{className:"row m-t-36 Stats__footer"},c.a.createElement("div",{className:"col-xs-12 col-sm-6 flex middle-xs m-b-12"},c.a.createElement(l.Button,{block:!0,label:"Refresh stats",icon:{name:"ic-restore",size:"xsmall"},onClick:this.handleRefresh,isLoading:this.state.loading})),c.a.createElement("div",{className:"col-xs-12 col-sm-6 flex middle-xs"},c.a.createElement(l.Text,{size:"x-small"},"* For consistency, every click is reported in ",c.a.createElement(d.a,{size:"sm",target:"_blank",href:"https://www.timeanddate.com/worldclock/timezone/utc"},"UTC")))):c.a.createElement("div",{className:"flex middle-xs m-t-36 Stats__footer"},c.a.createElement(l.Text,{size:"x-small"},"* For consistency, every click is reported in ",c.a.createElement(d.a,{size:"sm",target:"_blank",href:"https://www.timeanddate.com/worldclock/timezone/utc"},"UTC")),c.a.createElement(l.Button,{label:"Refresh stats",icon:{name:"ic-restore",size:"xsmall"},onClick:this.handleRefresh,isLoading:this.state.loading})))}}]),a}(i.PureComponent);t.a=k},316:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),s=a(39),i=a(11),c=a(366);t.a=function(e){var t=e.item;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"StatsChart m-b-24"},r.a.createElement(c.a,{item:t})),r.a.createElement("div",{className:"NoClickStats center-xs text-center"},r.a.createElement(o.SpotIllustration,{size:"sm",name:"ill-spot-analytics-empty",color:"var(--color-grey-800)"}),r.a.createElement(o.Text,{className:"Text--Detail NoClickStats__title m-t-24"},"We started collecting detailed stats on ",Object(s.a)(i.a.statsStartDate)," ",r.a.createElement("br",null),"and since then, this hasn\u2019t received any new clicks")))}},317:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u}));var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=(a(1353),function(e){var t=e.children;return c.a.createElement("div",{className:"MasterView col-xs p-0"},t)}),u=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setDetailsRef=function(e){r.detailsBlock=e},r.scrollToTop=function(){r.detailsBlock&&(r.detailsBlock.current.scrollTop=0)},r.detailsBlock=c.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.scrollToTop()}},{key:"render",value:function(){var e=this,t=c.a.Children.map(this.props.children,(function(t){return c.a.cloneElement(t,{scrollableElem:e.detailsBlock.current})}));return c.a.createElement("div",{className:"DetailsView col-md-8",ref:this.detailsBlock},t)}}]),a}(i.PureComponent);t.c=function(e){var t=e.children;return c.a.createElement("div",{className:"MasterDetails"},c.a.createElement("div",{className:"Container--wide"},c.a.createElement("div",{className:"row"},t)))}},35:function(e,t,a){"use strict";var n=a(37),r=a(0),o=a.n(r),s=a(23),i=a.n(s),c=(a(1297),function(e){var t=e.title,a=e.maxWidth,r=e.message,s=e.button,c=e.illustration,l=e.size,u=e.className,m=Object(n.a)(e,["title","maxWidth","message","button","illustration","size","className"]);return o.a.createElement("div",{className:"Container--wide"},o.a.createElement("div",Object.assign({className:i()("AlertPanel",u,{"AlertPanel--sm":"sm"===l,"AlertPanel--md":"md"===l,"AlertPanel--lg":"lg"===l})},m),c&&o.a.createElement("div",{className:"AlertPanel__icon"},c),t&&o.a.createElement("div",{className:"AlertPanel__title"},t),r&&o.a.createElement("div",{className:a?"AlertPanel__message AlertPanel__message__max":"AlertPanel__message"},r),s&&o.a.createElement("div",{className:"AlertPanel__cta m-t-24"},s)))});c.defaultProps={size:"md"},t.a=c},356:function(e,t,a){},357:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(23),s=a.n(o),i=(a(1356),a(62)),c=function(e){var t=e.illustration,a=e.title,o=e.subtitle,c=e.buttons,l=e.size,u=e.vertical,m=e.className,p=e.containerClassName,d=Object(n.useContext)(i.d).theme;return r.a.createElement("div",{className:s()("Banner",m,{"Banner--sm":"sm"===l,"Banner--lg":"lg"===l,"Banner--dark":d===i.a})},r.a.createElement("div",{className:p},r.a.createElement("div",{className:s()("Banner__inner",{"Banner__inner--vertical":u})},r.a.createElement("div",{className:"Banner__illustration"},t),(a||o||c)&&r.a.createElement("div",{className:"Banner__content"},a,o,c&&r.a.createElement("div",{className:s()("Button__list",{"Button__list--stacked":u})},c)))))};c.defaultProps={size:"md"},t.a=c},36:function(e,t,a){"use strict";a.d(t,"i",(function(){return j})),a.d(t,"l",(function(){return N})),a.d(t,"a",(function(){return S})),a.d(t,"e",(function(){return x})),a.d(t,"c",(function(){return L})),a.d(t,"b",(function(){return _})),a.d(t,"j",(function(){return D})),a.d(t,"g",(function(){return w})),a.d(t,"h",(function(){return A})),a.d(t,"f",(function(){return C})),a.d(t,"d",(function(){return O})),a.d(t,"k",(function(){return T}));var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(37),l=a(0),u=a.n(l),m=a(1),p=a(155),d=a.n(p),h=a(23),b=a.n(h),f=(a(740),a(13)),g=a(49),v=a(374),E=a(257),y=a(26),k=(a(1244),function(e){var t=e.idName,a=e.name,n=e.color,r=e.tooltip,o=e.confirmableProps,s=e.iconSize,i=e.onInit,l=Object(c.a)(e,["idName","name","color","tooltip","confirmableProps","iconSize","onInit"]),p=!!r,d=u.a.createElement(m.IconButton,Object.assign({className:"LinkActions__icon LinkActions__icon--".concat(t),theme:"ghost",icon:{name:a,color:n,size:s}},l));return o?u.a.createElement(g.a,Object.assign({tooltip:!y.g&&r,onInit:i},o),d):y.g?d:u.a.createElement(m.Tooltip,Object.assign({},r,{display:p}),d)});k.defaultProps={onClick:function(){},onInit:function(){},color:"#909398"};var O=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={openDownloadModal:!1},e.openDownloadModal=function(){return e.setState({openDownloadModal:!0})},e.closeDownloadModal=function(){return e.setState({openDownloadModal:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.iconLabel,a=e.children,r=e.onDownload,o=e.customTrigger,s=Object(c.a)(e,["iconLabel","children","onDownload","customTrigger"]),i=Object(n.a)({idName:"download",name:"ic-download",label:t},s);return r?u.a.createElement(k,Object.assign({},i,{onClick:r})):u.a.createElement(l.Fragment,null,u.a.createElement(m.Dropdown,{position:"right",isOpen:this.state.openDownloadModal,onClose:this.closeDownloadModal},u.a.createElement(m.Trigger,null,o||u.a.createElement(k,Object.assign({},i,{onClick:this.openDownloadModal}))),a))}}]),a}(l.PureComponent),w=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showQRCode:!1,loading:!0},e.dummyParam=Math.random(),e.openQRCode=function(){return e.setState({showQRCode:!0})},e.closeQRCode=function(){return e.setState({showQRCode:!1})},e.handleSizeClick=function(t){var a=t?e.props.image+"&source=com.rebrandly.app&size=".concat(t):e.props.image+"&source=com.rebrandly.app&type=svg";window.open(a,"_blank")},e}return Object(o.a)(a,[{key:"renderModal",value:function(){var e=this;return u.a.createElement(m.Modal,{size:"sm",isOpen:this.state.showQRCode&&this.props.image,onClose:this.closeQRCode,middle:!0,showClose:!0},u.a.createElement(m.ModalContent,null,u.a.createElement("div",{className:"QRCode"},u.a.createElement("div",{className:"row center-xs"},this.state.loading&&u.a.createElement("div",{className:"m-36"},u.a.createElement(m.Loading,null)),u.a.createElement("img",{alt:"modal-img",style:{display:this.state.loading?"none":"block"},src:"".concat(this.props.image,"&source=com.rebrandly.app&size=128&dummy=").concat(this.dummyParam),onLoad:function(){return e.setState({loading:!1})}})),u.a.createElement("div",{className:"QRCode__size flex middle-xs center-xs m-t-24"},u.a.createElement(m.Tag,{color:"var(--color-grey-400)",onClick:function(){return e.handleSizeClick(64)}},u.a.createElement(m.Text,{size:"small",className:"Text--Negative"},"64px")),u.a.createElement(m.Tag,{color:"var(--color-grey-400)",onClick:function(){return e.handleSizeClick(128)}},u.a.createElement(m.Text,{size:"small",className:"Text--Negative"},"128px")),u.a.createElement(m.Tag,{color:"var(--color-grey-400)",onClick:function(){return e.handleSizeClick(256)}},u.a.createElement(m.Text,{size:"small",className:"Text--Negative"},"256px")),u.a.createElement(m.Tag,{color:"var(--color-grey-400)",onClick:function(){return e.handleSizeClick(512)}},u.a.createElement(m.Text,{size:"small",className:"Text--Negative"},"512px")),u.a.createElement(m.Tag,{color:"var(--color-grey-400)",onClick:function(){return e.handleSizeClick()}},u.a.createElement(m.Text,{size:"small",className:"Text--Negative"},"SVG"))),u.a.createElement("div",{className:"row center-xs middle-xs"}))))}},{key:"render",value:function(){var e=this.props,t=(e.image,Object(c.a)(e,["image"]));return u.a.createElement(l.Fragment,null,u.a.createElement(k,Object.assign({idName:"qr-code",name:"ic-qrcode",onClick:this.openQRCode},t)),this.renderModal())}}]),a}(l.PureComponent),j=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showShare:!1},e.openShare=function(){return e.setState({showShare:!0})},e.closeShare=function(){return e.setState({showShare:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.withDropdown,a=e.link,n=Object(c.a)(e,["withDropdown","link"]);return t?u.a.createElement("div",{className:"ShareAction__dropdown"},u.a.createElement(m.Dropdown,{isOpen:this.state.showShare,onClose:this.closeShare},u.a.createElement(m.Trigger,null,u.a.createElement(k,Object.assign({idName:"share",name:"ic-share",onClick:this.openShare},n))),u.a.createElement(m.Content,{className:"p-16"},u.a.createElement(v.a,{link:a,vertical:!0})))):u.a.createElement(f.a,{to:{pathname:"/links/".concat(a.id,"/share"),state:{modal:!0}}},u.a.createElement(k,Object.assign({idName:"share",name:"ic-share"},n)))}}]),a}(l.PureComponent),C=function(e){var t=e.favourite,a=e.onToggleFavouriteClick,n=Object(c.a)(e,["favourite","onToggleFavouriteClick"]);return u.a.createElement(k,Object.assign({idName:b()("love",{"LinkActions__icon--loved":t}),name:"ic-rate",onClick:a},n))};C.defaultProps={onToggleFavouriteClick:function(){}};var N=function(e){var t=e.url,a=e.tooltip,n=e.disabled,r=Object(c.a)(e,["url","tooltip","disabled"]),o={idName:"visit",name:"ic-open-new",tooltip:a};return u.a.createElement(m.A,{href:t,target:"_blank",rel:"noopener noreferrer",disabled:n},u.a.createElement(k,Object.assign({},o,r,{disabled:n})))},S=function(e){var t=e.options,a=e.onChange,n=e.currentRole,r=e.disabled,o=e.trigger,s=Object(c.a)(e,["options","onChange","currentRole","disabled","trigger"]),i=o||u.a.createElement(k,Object.assign({idName:"edit",name:"ic-edit",disabled:r},s));return r?i:u.a.createElement(m.Selector,{className:"RoleSelector",name:"role",options:t,value:n,disabled:r,renderOption:function(e){return u.a.createElement(E.a,{item:e,isSelected:n===e.value})},renderTrigger:function(){return i},onChange:function(e){return a(e.value)},footer:u.a.createElement(m.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394",size:"lg",target:"_blank",rel:"noopener noreferrer"},"Learn more about roles"),closeOnSelect:!0})},x=function(e){var t=e.onEdit,a=e.iconName,n=Object(c.a)(e,["onEdit","iconName"]);return u.a.createElement(k,Object.assign({idName:"edit",name:a||"ic-edit",onClick:t},n))};x.defaultProps={onEdit:function(){}};var L=function(e){var t=e.iconName,a=e.onDelete,n=Object(c.a)(e,["iconName","onDelete"]);return u.a.createElement(k,Object.assign({idName:"trash",name:t,onClick:a},n))};L.defaultProps={iconName:"ic-delete-permanent"};var T=function(e){var t=e.iconName,a=e.confirmableProps,n=e.disabled,r=Object(c.a)(e,["iconName","confirmableProps","disabled"]);return u.a.createElement(m.A,{rel:"noopener noreferrer",href:"https://rebrandly.support/contact",target:"_blank",disabled:n},u.a.createElement(k,Object.assign({idName:"unblock",name:t,disabled:n,confirmableProps:a},r)))};T.defaultProps={iconName:"ic-unlock"};var _=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1},e.handleCopyClick=function(){return e.setState({visible:!0},(function(){return setTimeout((function(){return e.setState({visible:!1})}),2e3)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.clipboard=new d.a(".copy")}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.toCopy,n=Object(c.a)(e,["disabled","toCopy"]);return u.a.createElement(m.Tooltip,{placement:"bottom",trigger:["click"],overlay:"Copied!",visible:this.state.visible},u.a.createElement(k,Object.assign({className:"copy",idName:"copy",name:"ic-copy",disabled:t,"data-clipboard-text":a,onClick:this.handleCopyClick},n)))}}]),a}(l.PureComponent),D=function(e){var t=e.onTrash,a=e.confirmableProps,n=Object(c.a)(e,["onTrash","confirmableProps"]);return u.a.createElement(k,Object.assign({idName:"trash",name:"ic-trash-bin",onClick:t,confirmableProps:a},n))},A=function(e){var t=e.onRestore,a=e.iconName,n=Object(c.a)(e,["onRestore","iconName"]);return u.a.createElement(k,Object.assign({idName:"restore",name:a,onClick:t},n))};A.defaultProps={onRestore:function(){},iconName:"ic-restore"}},360:function(e,t){var a="https://dashboard-cdn.rebrandly.com";e.exports={leToken:"6e799acd-e8d0-4c1a-ac6d-662c1b880554",statsStartDate:"2018-02-15",websiteUrl:"https://www.rebrandly.com",appUrl:"".concat(window.location.origin).concat(""),pageSize:20,rbCprUtilsUrl:"https://promo.rebrandly.com",customMessagesUrl:"".concat("https://promo.rebrandly.com","/custom-messages"),notifications:{defaultDuration:8e3},UI:{showLinksOverquotaWorningModal:!1},debounceCountingTime:300,debounceSearchTime:300,api:{baseUrl:"https://api.test.rebrandly.com/v1/",timeout:3e4,rateLimit:{maxConcurrent:5,minTime:100},maxPageSize:100,proxy:{endpoint:"/api",host:"",port:80},endpoints:{links:"links","my-domains":"my-domains",cart:"carts",domains:"domains",integrations:"account/integrations",bills:"account/transactions",currentintegration:"account/integrations/current",utmpresets:"utmpresets",search:"search"},middleware:{templating:{baseUrl:"https://templating.rebrandly.com/v1"},baseUrl:"https://test-front-proxy.rebrandly.com/api"},batchProgress:{baseUrl:"https://jobs-monitoring.rebrandly.com/v1"},domainPrefix:{baseUrl:"https://domains.rebrandly.com"},accounting:{baseUrl:"https://accounting.rebrandly.com/v1"},icann:{baseUrl:"https://icann.rebrandly.com/v1"},broken:{baseUrl:"https://404.rebrandly.com/v1"},sso:{baseUrl:"https://sso.rebrandly.com/v1/"},sar:{baseUrl:"https://gdpr.rebrandly.com/v1"},aliasing:{baseUrl:"https://hostnames.rebrandly.com/v1"},trending:{baseUrl:"https://trends.rebrandly.com/v1"}},payments:{provider:"stripe",threeDSecure:{object:{version:2},enabled:!0}},persistence:{localStorage:!0,cookie:!1},caching:{registerServiceWorker:!1},version:{major:3,minor:22,patch:15,name:""},forceLogoutCounter:1,limits:{maxTagsPerLink:5,maxScriptsPerLink:5},captcha:{publicLinkKey:"6LfWFXkUAAAAALeXqqEw5cSmfGdFGobkmETY6sUS",contactUsKey:"6LcEi8MUAAAAAB2w0Oowjy_itIWjZhsxQUdQApEO"},cdn:{baseUrl:a,assetsBaseUrl:"".concat(a,"/dashboard-assets")},http:{customUserAgentPrevix:"RB-Dashboard-V3 @ "},extensions:{chrome:"https://chrome.google.com/webstore/detail/rebrandly/eaidebojanpehpceonghnmgdofblnlae",firefox:"https://addons.mozilla.org/firefox/addon/rebrandly/"}}},362:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));var n=a(32),r=a.n(n),o=a(55),s=a(363),i=a.n(s);function c(e,t){var a=e.length,n=Math.ceil(a/t);return i()(t).map((function(t){return{id:t,items:e.splice(0,n)}}))}function l(e,t){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=0;case 2:if(!(n<t.length)){e.next=8;break}return e.next=5,a(t[n],n,t);case 5:n++,e.next=2;break;case 8:return e.abrupt("return",Promise.resolve());case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}},365:function(e,t,a){"use strict";t.a={direct:{name:"Direct"},organic:{name:"Organic Search"},referral:{name:"Referral"},social:{name:"Social"},other:{name:"Other"},others:{name:"Others"}}},366:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(19),u=a(24),m=a.n(u),p=a(1),d=a(3),h=a.n(d),b=a(39),f=(a(1323),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=h()(this.props.item,"clicks",0),t=h()(this.props.item,"lastClickAt");return c.a.createElement("div",{className:"ClicksRecap m-l-0 row "+this.props.className},!!e&&c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"col-xs-4 p-r-0"},c.a.createElement(p.Text,{className:"Text--Label",size:"x-small"},"Total ",m()("click",parseInt(e,10))),c.a.createElement(p.Text,{className:"Text--HighlightDkBlue",size:"small"},Object(l.formatNumber)(e))),this.props.todaysClicks>0&&c.a.createElement("div",{className:"col-xs-4 p-r-0"},c.a.createElement(p.Text,{className:"Text--Label",size:"x-small"},"Clicks today"),c.a.createElement(p.Text,{className:"Text--HighlightDkBlue",size:"small"},Object(l.formatNumber)(this.props.todaysClicks))),t&&c.a.createElement("div",{className:"col-xs-4 p-r-0"},c.a.createElement(p.Text,{className:"Text--Label",size:"x-small"},"Last click"),c.a.createElement(p.Text,{className:"Text--HighlightDkBlue",size:"small"},Object(b.a)(t,"past",!1)))))}}]),a}(i.PureComponent));t.a=f},373:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return w}));var n=a(15),r=a(17),o=a(2),s=a(50),i=a.n(s),c=a(57),l=a.n(c),u=a(10),m=a(11),p=a(8),d=a(41),h=m.a.pageSize||20,b=Object(u.b)("LOAD_REPORT_EXECUTIONS"),f=Object(u.b)("LOAD_REPORT_EXECUTION"),g=Object(u.a)("RESET_REPORT_EXECUTIONS_STORE"),v=Object(u.a)("RESET_REPORT_EXECUTIONS_LIST"),E=Object(u.a)("SET_REPORT_EXECUTIONS_PARAMS"),y={limit:h,orderBy:"createdAt",orderDir:"desc",term:null},k={isLoading:!1,items:{},list:[],params:y,count:{total:0,results:0}};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a.FULFILLED:case g:return k;case v:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case b.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case b.FULFILLED:var a=t.payload[0].map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),i()(t.payload[0],"id")),list:t.meta.last?l()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a,count:{results:t.payload[1].count,total:t.payload[2].count}});case f.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case E:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});default:return e}}function w(e,t){return function(a,n){var r=n().reportExecutions.params;return a({type:b,payload:Promise.all([Object(p.kc)(e,Object(o.a)(Object(o.a)({},r),{},{last:t})),Object(p.x)(e,r),Object(p.x)(e)]),meta:{last:t}})}}},374:function(e,t,a){"use strict";var n=a(15),r=a(2),o=a(0),s=a.n(o),i=a(9),c=a.n(i),l=a(1),u=a(23),m=a.n(u),p=a(1486),d=a(1487),h=a(1488),b=a(740),f=(a(1240),a(11)),g=a(66),v=a(3),E=a.n(v),y=a(36),k=a(62);t.a=function(e){var t,a=e.link,i=e.vertical,u="https"===E()(a.domain,"sharing.protocol.default","https"),v="".concat(f.a.api.middleware.qrcodeGenerator.baseUrl,"/qrcode?shortUrl=").concat(encodeURIComponent(Object(g.a)(E()(a,"shortUrl"),u))),O=Object(o.useContext)(k.d);return!c()(a)&&s.a.createElement("div",{className:m()("ShareIcons flex middle-xs",{"ShareIcons--vertical":i})},(t=O.theme,[{id:1,label:"Facebook",size:["sm","xsmall"],name:t===k.a?"ic-social-facebook-nofill":"ic-social-facebook",color:t===k.a&&"#fff",Component:p.a,extraProps:{quote:function(e){return e.title}}},{id:2,label:"Twitter",size:["sm","xsmall"],name:t===k.a?"ic-social-twitter-nofill":"ic-social-twitter",color:t===k.a&&"#fff",Component:d.a,extraProps:{quote:function(e){return e.title}}},{id:4,label:"Linkedin",size:["sm","xsmall"],name:t===k.a?"ic-social-linkedin-nofill":"ic-social-linkedin",color:t===k.a&&"#fff",Component:h.a,extraProps:{quote:function(e){return e.title}}},{id:5,label:"Email",size:["sm","xsmall"],name:"ic-mail",color:t===k.a?"#fff":"#909398",Component:b.a,extraProps:{subject:function(e){return e.title},body:function(e){var t=e.title,a=e.url;return"Hi there,\nWould like to share this link with you: \n".concat(t?"\n"+t+":":"","\n").concat(a)}}}]).map((function(e){var t=e.id,o=e.label,m=e.size,p=e.name,d=e.color,h=e.Component,b=e.extraProps,f={url:encodeURI("".concat(u?"https":"http","://").concat(a.shortUrl))},g={name:p,color:d,size:m[Number(i)]};return c()(b)||Object.keys(b).forEach((function(e){f=Object(r.a)(Object(r.a)({},f),{},Object(n.a)({},e,b[e](Object(r.a)(Object(r.a)({},a),f))))})),s.a.createElement(h,Object.assign({key:t},f),s.a.createElement("div",{className:"flex middle-xs ShareIcons--item"},s.a.createElement(l.Icon,g),i&&s.a.createElement(l.Text,{size:"small",className:"m-l-8"},o)))})),!i&&s.a.createElement(y.g,{image:v,className:"p-0",color:O.theme===k.a&&"#fff"}))}},376:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(1),u=(a(671),a(39)),m=(a(1293),a(33)),p=a.n(m),d=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,selectsEnd:!1},e.openDropdown=function(){return e.setState({isOpen:!0})},e.closeDropdown=function(){return e.setState({isOpen:!1})},e.handleChange=function(t){if(e.state.selectsEnd)e.props.onDateRangeChanged({startDate:e.props.startDate,endDate:t});else{var a=p()(e.props.endDate).isAfter(p()(t))?e.props.endDate:t;e.props.onDateRangeChanged({startDate:t,endDate:a})}e.setState({selectsEnd:!e.state.selectsEnd})},e.easyRangePick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",a=Math.max(0,e-1);return{startDate:p()().subtract(a,t).toDate(),endDate:new Date}},e.isRange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",n=e.easyRangePick(t,a);return p()(e.props.startDate).isSame(n.startDate,a)&&p()(e.props.endDate).isSame(n.endDate,a)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.startDate,n=t.endDate,r=t.placeholder,o=t.label;return c.a.createElement(l.Dropdown,{isOpen:this.state.isOpen,onOpen:this.openDropdown},c.a.createElement(l.Trigger,null,c.a.createElement(l.Button,{theme:"select",label:a||n?o||(p()(a).isSame(n,"day")?"".concat(Object(u.a)(n)):"".concat(Object(u.a)(a)," - ").concat(Object(u.a)(n))):r||"Select a range"})),c.a.createElement(l.Content,{className:"p-16 DateRangePicker"},this.props.showCalendar&&c.a.createElement("div",{className:"DateRangePicker__calendar"},c.a.createElement(l.DatePicker,{inline:!0,selected:a,startDate:a,endDate:n,selectsStart:!this.state.selectsEnd,maxDate:this.props.maxDate,minDate:this.state.selectsEnd?a:void 0,selectsEnd:this.state.selectsEnd,onSelect:this.handleChange,onChange:function(){},utcOffset:this.props.utcOffset})),this.props.showQuickOptions&&c.a.createElement("div",{className:"DateRangePicker__buttons m-l-16"},c.a.createElement(l.Button,{theme:this.isRange(1)?"primary":"secondary",label:"Last day",block:!0,onClick:function(){return e.props.onDateRangeChanged(e.easyRangePick(1))},active:!0}),c.a.createElement(l.Button,{theme:this.isRange(7)?"primary":"secondary",label:"Last 7 days",block:!0,onClick:function(){return e.props.onDateRangeChanged(e.easyRangePick(7))}}),c.a.createElement(l.Button,{theme:this.isRange(30)?"primary":"secondary",label:"Last 30 days",block:!0,onClick:function(){return e.props.onDateRangeChanged(e.easyRangePick(30))}}),c.a.createElement(l.Button,{theme:this.isRange(365)?"primary":"secondary",label:"Last 365 days",block:!0,onClick:function(){return e.props.onDateRangeChanged(e.easyRangePick(365))}}))))}}]),a}(i.PureComponent);d.defaultProps={showQuickOptions:!0,onDateRangeChanged:function(){}},t.a=d},377:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(14),u=a(1),m=a(378),p=a(81),d=a(18),h=a(12),b=(a(1295),["02af63","fa596e","f6852f","02b8c1","8355e1","e84e50"]),f=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={name:e.props.name||"",color:e.props.color||"",isProcessing:!1,showConfirmDelete:null},e.handleNameChange=function(t){return e.setState({name:t.target.value})},e.handleColorChange=function(t){return e.setState({color:t})},e.handleSubmit=function(t){t.preventDefault(),e.props.id?e.editTag():e.createTag()},e.createTag=function(){e.setState({isProcessing:!0}),e.props.createTag({name:e.state.name,color:e.state.color}).then((function(t){var a=t.value;e.setState({isProcessing:!1}),e.reset(),e.props.onSuccess&&e.props.onSuccess(a)})).catch((function(){return e.setState({isProcessing:!1})}))},e.editTag=function(){e.setState({isProcessing:!0}),e.props.editTag(e.props.id,{id:e.props.id,name:e.state.name,color:e.state.color}).then((function(t){t.value;e.setState({isProcessing:!1}),e.reset(),e.props.onSuccess&&e.props.onSuccess()})).catch((function(){return e.setState({isProcessing:!1})}))},e.handleCancel=function(){return e.props.onCancel&&e.props.onCancel()},e.handleRemove=function(){return e.setState({showConfirmDelete:!0})},e.handleCancelRemove=function(){return e.setState({showConfirmDelete:!1})},e.handleConfirmRemove=function(){var t=e.props.id;e.props.removeTag(t).then((function(){return e.props.onDelete&&e.props.onDelete({id:t})}))},e.reset=function(){return e.setState({name:"",color:""})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.name!==e.name&&this.setState({name:this.props.name}),this.props.color!==e.color&&this.setState({color:this.props.color})}},{key:"render",value:function(){var e=this;if(this.state.showConfirmDelete)return c.a.createElement(m.a,{title:"Delete tag?",message:"This is a permanent action and will remove this tag from all links.",buttonLabel:"Delete tag",onDelete:this.handleConfirmRemove,onCancel:this.handleCancelRemove});var t=this.props.id?"Save":"Create tag",a=!(!this.state.name||!this.state.color),n={"rb-test-id":this.props.id?"tag-creation-save-button":"tag-creation-button",type:"submit",theme:"primary",label:this.state.isProcessing?"Please wait":t,disabled:this.state.isProcessing||!a};return c.a.createElement("div",{className:"TagForm"},c.a.createElement("form",{onChange:this.handleNameChange,onSubmit:this.handleSubmit},c.a.createElement("div",{className:"Form__group flex bottom-xs between-xs"},c.a.createElement(u.Label,{value:"Label name",className:"TagForm__label"},c.a.createElement(u.Input,{name:"name","rb-test-id":"tag-creation-input-name",placeholder:"eg. Facebook campaign",value:this.state.name,required:!0,autoFocus:!0})),this.props.id&&c.a.createElement(u.IconButton,{"rb-test-id":"delete-tag",className:"TagForm__delete m-l-12",icon:{name:"ic-trash-bin",color:"#909398",size:"xsmall"},theme:"dangerGhost",onClick:this.handleRemove})),c.a.createElement("div",{className:"TagForm__colors Form__group"},b.map((function(t,a){return c.a.createElement("div",{key:t,"rb-test-id":"tag-color-option-".concat(a+1),className:"TagForm__color",style:{background:"#".concat(t)},onClick:function(){return e.handleColorChange(t)}},e.state.color===t&&c.a.createElement(u.Icon,{name:"ic-checkmark",color:"#fff"}))}))),c.a.createElement("div",{className:"Form__group--submit"},c.a.createElement(u.Button,{onClick:this.handleCancel,type:"reset",label:"Cancel",theme:"secondary"}),c.a.createElement(u.Button,n))))}}]),a}(i.PureComponent);t.a=Object(l.b)(null,(function(e,t){return{createTag:function(a){return e(Object(p.d)(a,t.workspaceId)).then((function(t){return e(Object(d.a)(h.a,"Tag created")),t}))},editTag:function(a,n){return e(Object(p.g)(a,n,t.workspaceId)).then((function(t){return e(Object(d.a)(h.h,"Tag updated")),t}))},removeTag:function(a){return e(Object(p.j)(a,t.workspaceId)).then((function(){return e(Object(d.a)(h.f,"Tag removed"))})).catch((function(t){throw e(Object(d.a)(h.b,"Error while removing tag")),t}))}}}))(f)},378:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(16),s=a(1),i=(a(1294),function(e){var t=e.title,a=e.message,n=e.buttonLabel,o=e.onDelete,i=e.onCancel;return r.a.createElement("div",{className:"ConfirmDelete text-center p-16"},r.a.createElement("header",null,r.a.createElement(s.Text,{size:"small",className:"Text-Hero"},t)),r.a.createElement(s.Text,{size:"small",className:"Text-Title ConfirmDelete__message m-t-4"},a),r.a.createElement("div",{className:"ConfirmDelete__buttons"},r.a.createElement(s.Button,{"rb-test-id":"delete-tag-or-script-button",label:n,theme:"delete",onClick:o,block:!0}),r.a.createElement(s.Button,{label:"Cancel",theme:"link",onClick:i,block:!0})))});i.defaultProps={title:"Delete",message:"Are you sure you want to proceed?",label:"Delete",onDelete:o.func,onCancel:o.func},t.a=i},379:function(e,t,a){"use strict";a.d(t,"h",(function(){return h})),a.d(t,"c",(function(){return b})),a.d(t,"f",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"i",(function(){return y})),a.d(t,"g",(function(){return k})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return w}));var n=a(15),r=a(2),o=a(3),s=a.n(o),i=a(9),c=a.n(i),l=a(19),u=a(24),m=a.n(u),p=a(719),d=a(39),h=function(e){var t=e.lifecycle,a=t.units,n=t.unit;if(e.lifecycle){var r=Object(p.toWords)(a);return"".concat(Object(l.capitalize)(r)," ").concat(m()(n,a))}return"Lifetime"},b=function(e){switch(e.asset.type){case"domain-name":return"domain";case"subscription":return"plan";case"overquota":return"overquota";case"generic":return"generic";default:return"resource"}},f=function(e){var t=e.bundle,a=e.quantity*t.size;return"".concat(Object(l.formatNumber)(a)," extra ").concat(function(e,t){switch(e){case"permanent-links":return"".concat(m()("link",t)," in classic workspaces");case"disposable-links":return"".concat(m()("link",t)," in extended workspaces");case"permanent-domains":return"".concat(m()("domain",t));case"disposable-clicks":return"monthly ".concat(m()("click",t));case"disposable-reports":return"monthly ".concat(m()("report",t));case"disposable-teammates":return"active ".concat(m()("teammate",t));default:return"".concat(m()("resource",t)," ")}}(e.asset.variant.codename,a))},g=function(e){if("overquota"===e.asset.type){var t=e.bundle,a=t.size>1?" "+Object(l.formatNumber)(t.size):"";return"($".concat(Object(l.formatNumber)(t.price.net,2),"/mo each").concat(a,")")}},v=function(e,t){var a="n/a";return e.asset&&("domain-name"===e.asset.type?a=function(e,t){var a=s()(e,"details.fullName",".".concat(e.asset.variant.codename));return"".concat(a," domain ").concat(t?"renewal":"registration")}(e,t,e.details):"subscription"===e.asset.type?a=function(e,t){return e.details&&e.details.description?"".concat(Object(l.capitalize)(e.details.description)):"".concat(Object(l.capitalize)(e.asset.variant.codename)," plan ").concat(t?"renewal":"subscription")}(e,t):"overquota"===e.asset.type?a=f(e):"generic"===e.asset.type&&(a=e.details&&e.details.description?"".concat(Object(l.capitalize)(e.details.description)):"Custom order")),a},E=function(e,t){var a=e.reduce((function(e,a){var o,i=a.asset,c=i.type,l=i.variant.codename;switch(c){case"subscription":if("feature"===l){o="custom order";break}o=l+" "+(t?"renewal":"subscription");break;case"domain-name":o="Domain "+(t?"renewal":"purchase");break;case"overquota":o="overquota";break;case"generic":o="custom order";break;default:o=c}var u=s()(e,"[".concat(o,"]"),0);return e=Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},o,u+1))}),{});return Object.keys(a).map((function(e){if("overquota"===e)return"Overquota";var t=a[e];return"".concat(Object(l.capitalize)(t<2?e:"".concat(m()(e)))).concat(t>1?" ("+t+")":"")})).join(", ")},y=function(e,t){var a=e.reduce((function(e,t){return e+t.grand.full}),0);return t&&a===t},k=function(e,t){var a=e.reduce((function(e,t){return e+t.grand.full}),0);return t&&a===t?"Refunded":t&&a>0&&a<t?"Partially refunded":null},O=function(e){var t=[];return e.forEach((function(e){e.creditNote&&t.push(e.creditNote)})),t},w=function(e){var t=e.period;if(!t||c()(t))return"";var a=t.startedAt,n=t.endedAt;return a&&n?"".concat(Object(d.a)(a,"date")," - ").concat(Object(d.a)(n,"date")):n?Object(d.a)(n,"date"):Object(d.a)(a,"date")}},38:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return p}));var n=a(2),r=a(3),o=a.n(r),s=a(30);function i(e,t){var a=Object(s.getFeatureLimits)(e,t);return a?Math.max(0,a.included-a.used):0}function c(e,t){return o()(t,"subscription.billing.extra.".concat(e))}function l(e,t){return!!c(e,t)}function u(e,t){return o()(t,"subscription.limits.".concat(e,".used"))}function m(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return!o()(t,"subscription.limits.".concat(e))||i(e,t)>=a||l(e,t)}function p(e){return s.features.map((function(t){var a=Object(s.getFeatureInfo)(t,e);return Object(n.a)({key:t},a)}))}},380:function(e,t,a){"use strict";var n=a(15),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(14),m=a(1),p=a(9),d=a.n(p),h=a(378),b=a(94),f=a(18),g=a(12),v=(a(1317),function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:e.props.name||"",script:e.props.script||"",isProcessing:!1,showConfirmDelete:null},e.handleChange=function(t){return e.setState(Object(n.a)({},t.target.name,t.target.value))},e.reset=function(){return e.setState({name:"",script:""})},e.handleSubmit=function(t){t.preventDefault(),e.props.id?e.editScript():e.createScript()},e.createScript=function(){e.setState({isProcessing:!0}),e.props.createScript({name:e.state.name,value:e.state.script}).then((function(t){var a=t.value;e.setState({isProcessing:!1,name:"",script:""}),e.props.onSuccess&&e.props.onSuccess(a)})).catch((function(){return e.setState({isProcessing:!1})}))},e.editScript=function(){e.setState({isProcessing:!0}),e.props.editScript(e.props.id,{id:e.props.id,name:e.state.name,value:e.state.script}).then((function(t){var a=t.value;e.setState({isProcessing:!1,name:"",script:""}),e.props.onSuccess&&e.props.onSuccess(a)})).catch((function(){return e.setState({isProcessing:!1})}))},e.handleCancel=function(){e.reset(),e.props.onCancel&&e.props.onCancel()},e.handleRemove=function(){return e.setState({showConfirmDelete:!0})},e.handleCancelRemove=function(){return e.setState({showConfirmDelete:!1})},e.handleConfirmRemove=function(){var t=e.props.id;e.props.removeScript(t).then((function(){e.props.onDelete&&e.props.onDelete({id:t})}))},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.name!==e.name&&this.setState({name:this.props.name}),this.props.script!==e.script&&this.setState({script:this.props.script})}},{key:"componentDidMount",value:function(){var e=this;this.props.id&&this.props.loadScript(this.props.id).then((function(t){var a=t.value;d()(a)||e.setState({script:a.value||""})}))}},{key:"render",value:function(){if(this.state.showConfirmDelete)return l.a.createElement(h.a,{title:"Delete script?",message:"This is a permanent action and will remove this script from all links.",buttonLabel:"Delete script",onDelete:this.handleConfirmRemove,onCancel:this.handleCancelRemove});var e=this.props.id?"Save":"Create script",t=!(!this.state.name||!this.state.script),a={"rb-test-id":this.props.id?"script-creation-save-button":"script-creation-button",type:"submit",label:this.state.isProcessing?"Please wait":e,theme:"primary",disabled:this.state.isProcessing||!t};return l.a.createElement("div",{className:"ScriptForm"},l.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},l.a.createElement("div",{className:"Form__group flex bottom-xs between-xs"},l.a.createElement(m.Label,{value:"Name",className:"ScriptForm__label"},l.a.createElement(m.Input,{"rb-test-id":"script-name-input",name:"name",placeholder:"eg. Facebook pixel",value:this.state.name,required:!0,autoFocus:!0})),this.props.id&&l.a.createElement(m.IconButton,{"rb-test-id":"delete-script-button",className:"ScriptForm__delete m-l-12",icon:{name:"ic-trash-bin",color:"#909398",size:"xsmall"},theme:"dangerGhost",onClick:this.handleRemove})),l.a.createElement("div",{className:"Form__group"},l.a.createElement(m.Label,{value:"Script"},l.a.createElement(m.Textarea,{"rb-test-id":"script-code-input",maxRows:14,name:"script",placeholder:"Type or paste a script",value:this.state.script,required:!0}))),l.a.createElement("div",{className:"Form__group--submit"},l.a.createElement(m.Button,{onClick:this.handleCancel,type:"reset",label:"Cancel",theme:"secondary"}),l.a.createElement(m.Button,a))))}}]),a}(c.PureComponent));t.a=Object(u.b)(null,(function(e,t){return{createScript:function(a){return e(Object(b.c)(a,t.workspaceId)).then((function(t){return e(Object(f.a)(g.a,"Script created")),t}))},editScript:function(a,n){return e(Object(b.e)(a,n,t.workspaceId)).then((function(t){return e(Object(f.a)(g.h,"Script updated")),t}))},removeScript:function(a){return e(Object(b.h)(a,t.workspaceId)).then((function(){return e(Object(f.a)(g.f,"Retargeting removed"))})).catch((function(t){throw e(Object(f.a)(g.b,"Error while removing retargeting")),t}))},loadScript:function(a){return e(Object(b.f)(a,t.workspaceId))}}}))(v)},381:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(14),s=a(1),i=a(3),c=a.n(i),l=a(30),u=a(38),m=a(22);t.a=Object(o.b)((function(e){return{isOwner:Object(m.h)(e.session.currentWorkspaceId,e),limits:Object(l.getFeatureLimits)("scripts",e.account),canCreate:Object(u.a)("scripts",e.workspaces.items[e.session.currentWorkspaceId])}}))((function(e){var t=e.canCreate,a=e.children,n=e.limits,o=e.isOwner,i=c()(n,"included");if(!t){var l=r.a.createElement("span",null,"You\u2019ve reached your account\u2019s limit for scripts",i?" (".concat(i,")"):"",". Either edit",r.a.createElement("br",null),"or delete the ones already in the list. If you need to create",r.a.createElement("br",null),"a huge amount of tags, please ",r.a.createElement(s.A,{target:"_blank",href:"https://rebrandly.support/Contact"},"contact support"));return r.a.createElement(s.Tooltip,{overlay:l,display:o},r.a.cloneElement(a,{disabled:!0}))}return a}))},386:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(87),u=a.n(l),m=a(104),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={destinationUrl:e.props.destinationUrl||""},e.handleChange=function(t){return e.setState({destinationUrl:t})},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({destinationUrl:e.props.destinationUrl||""})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.destinationUrl!==e.destinationUrl&&this.setState({destinationUrl:this.props.destinationUrl})}},{key:"render",value:function(){var e=this,t=this.props,a=t.onGenerateClick,n=t.children,r=t.onChange,o=t.skipForm,s=t.alertMessage,l=u()(this.state.destinationUrl),p={text:"Facebook will automatically truncate links that exceed 51 characters (19 domain + 32 slashtag)",inputs:[{id:1,name:"url",value:this.state.destinationUrl,inputLabel:"URL you want to share",placeholder:"Type or paste a link (URL)",inputOnTyping:this.handleChange,visible:!0}],primaryButtonProps:{disabled:!(this.state.destinationUrl&&l)},onChange:r};return c.a.createElement(i.Fragment,null,c.a.createElement(m.a,{socialName:"Facebook",formOptions:p,getShareURL:function(){return"https://www.facebook.com/sharer/sharer.php?u=".concat(e.state.destinationUrl)},onGenerateClick:a&&this.handleGenerateUrl,onClose:this.handleClose,skipForm:o,alertMessage:s},n))}}]),a}(i.PureComponent);t.a=p},387:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(87),u=a.n(l),m=a(104),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={destinationUrl:e.props.destinationUrl||""},e.handleChange=function(t){return e.setState({destinationUrl:t})},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({destinationUrl:e.props.destinationUrl||""})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.destinationUrl!==e.destinationUrl&&this.setState({destinationUrl:this.props.destinationUrl})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.onChange,r=t.skipForm,o=t.alertMessage,s=t.onGenerateClick,l=u()(this.state.destinationUrl),p={text:"Linkedin will automatically truncate links that exceed 51 characters (19 domain + 32 slashtag)",inputs:[{id:1,name:"url",value:this.state.destinationUrl,inputLabel:"URL you want to share",placeholder:"Type or paste a link (URL)",inputOnTyping:this.handleChange,visible:!0}],primaryButtonProps:{disabled:!(this.state.destinationUrl&&l)},onChange:n};return c.a.createElement(i.Fragment,null,c.a.createElement(m.a,{socialName:"Linkedin",formOptions:p,getShareURL:function(){return"https://www.linkedin.com/sharing/share-offsite/?url=".concat(e.state.destinationUrl)},onGenerateClick:s&&this.handleGenerateUrl,onClose:this.handleClose,skipForm:r,alertMessage:o},a))}}]),a}(i.PureComponent);t.a=p},388:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(87),u=a.n(l),m=a(104),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={destinationUrl:e.props.destinationUrl||"",imageSrc:e.props.imageSrc||"",description:e.props.description||""},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({destinationUrl:e.props.destinationUrl||"",imageSrc:e.props.imageSrc||"",description:e.props.description||""})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.destinationUrl!==e.destinationUrl&&this.setState({destinationUrl:this.props.destinationUrl}),this.props.imageSrc!==e.imageSrc&&this.setState({imageSrc:this.props.imageSrc}),this.props.description!==e.description&&this.setState({description:this.props.description})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.onChange,r=t.skipForm,o=t.alertMessage,s=t.onGenerateClick,l=u()(this.state.destinationUrl),p={inputs:[{id:1,name:"image-url",value:this.state.destinationUrl,inputLabel:"image URL",placeholder:"Link to the image you want to share",inputOnTyping:function(t){return e.setState({destinationUrl:t})},visible:!0},{id:2,name:"source",value:this.state.imageSrc,inputLabel:"Source (optional)",placeholder:"Link to the source",inputOnTyping:function(t){return e.setState({imageSrc:t})},visible:!0}],textAreas:[{id:1,name:"description",value:this.state.description,label:"Description (optional)",placeholder:"Description of your pin",onTyping:function(t){return e.setState({description:t})}}],primaryButtonProps:{disabled:!(this.state.destinationUrl&&l)},onChange:n};return c.a.createElement(i.Fragment,null,c.a.createElement(m.a,{socialName:"Pinterest",formOptions:p,getShareURL:function(){return"".concat(encodeURIComponent("https://www.pinterest.pt/pin/create/button/?url=".concat(e.state.imageSrc,"&media=").concat(e.state.destinationUrl,"&description=").concat(encodeURIComponent(e.state.description))))},onGenerateClick:s&&this.handleGenerateUrl,onClose:this.handleClose,skipForm:r,alertMessage:o},a))}}]),a}(i.PureComponent);t.a=p},389:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(104),u=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={tweet:e.props.tweet||""},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({tweet:e.props.tweet||""})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.tweet!==e.tweet&&this.setState({tweet:this.props.tweet})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.onChange,r=t.skipForm,o=t.alertMessage,s=t.onGenerateClick,u=280-this.state.tweet.length,m=u<0,p=!this.state.tweet||m,d={title:"Twitter share link",text:"Twitter will automatically truncate or shorten links that exceed 32 characters",textAreas:[{id:1,name:"tweet",value:this.state.tweet,label:"Twitter message",onTyping:function(t){return e.setState({tweet:t})},placeholder:"Type or paste a tweet",charactersMessage:"".concat(u," characters remaining"),warning:m}],primaryButtonProps:{disabled:p},onChange:n};return c.a.createElement(i.Fragment,null,c.a.createElement(l.a,{socialName:"Twitter",formOptions:d,getShareURL:function(){return encodeURIComponent("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e.state.tweet)))},onGenerateClick:s&&this.handleGenerateUrl,onClose:this.handleClose,skipForm:r,alertMessage:o},a))}}]),a}(i.PureComponent);t.a=u},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(33),r=a.n(n);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMMM DD, YYYY",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"N/A";switch(t){case"past":var n=r()(e),o=r()();return 0===n.diff(o,"minutes")?n.fromNow(!0):n.fromNow(a);case"date":return r()(e).format("DD/MM/YYYY");default:return r()(e).format(t)}}},390:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(397),m=a(104),p=a(153),d=a.n(p),h=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={phoneNumber:e.props.phoneNumber||"",message:e.props.message||""},e.handleClose=function(){e.props.onClose&&e.props.onClose(),e.setState({phoneNumber:e.props.phoneNumber||"",message:e.props.message||""})},e.handleGenerateUrl=function(t){return new Promise((function(a){return a(e.props.onGenerateClick(t))})).then((function(){return e.handleClose()}))},e.handleChange=function(t){if(!t)return e.setState({phoneNumber:t});if(d()(t,"^\\+?\\d*$")){var a=t.replace(/^\+?/,"+");return e.setState({phoneNumber:a})}},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.phoneNumber!==e.phoneNumber&&this.setState({phoneNumber:this.props.phoneNumber}),this.props.message!==e.message&&this.setState({message:this.props.message})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.onChange,o=t.skipForm,s=t.alertMessage,i=t.onGenerateClick,p=!1,d={},h=Object(u.a)(this.state.phoneNumber);h&&(p=h.isValid()),this.state.phoneNumber&&!p&&(d={message:"Phone number not valid",theme:"warning"});var b={text:"Make sure you include the country code",inputs:[Object(n.a)({id:1,name:"phone",value:this.state.phoneNumber,inputLabel:"Recipient phone number",placeholder:"e.g. +44654321",inputOnTyping:this.handleChange,visible:!0},d),{id:2,name:"message",value:this.state.message,inputLabel:"Content you want to share",placeholder:"I want to share with you this...",inputOnTyping:function(t){return e.setState({message:t})},visible:!0}],primaryButtonProps:{disabled:!(this.state.phoneNumber&&this.state.message&&p)},onChange:r};return l.a.createElement(c.Fragment,null,l.a.createElement(m.a,{socialName:"Whatsapp",formOptions:b,getShareURL:function(){return encodeURIComponent("https://api.whatsapp.com/send?phone=".concat(e.state.phoneNumber,"&text=").concat(encodeURIComponent(e.state.message)))},onGenerateClick:i&&this.handleGenerateUrl,onClose:this.handleClose,skipForm:o,alertMessage:s},a))}}]),a}(c.PureComponent);t.a=h},393:function(e,t,a){"use strict";var n=a(28),r=a(0),o=a.n(r),s=a(1),i=a(2),c=a(4),l=a(5),u=a(6),m=a(7),p=a(56),d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",isProcessing:!1},e.handleNameChange=function(t){return e.setState({name:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.name;e.setState({isProcessing:!0}),e.props.onSubmit(a).finally((function(){return e.setState({isProcessing:!1})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.isProcessing,n=t&&t.length<p.h,r={placeholder:"My preset",value:t,onChange:this.handleNameChange};return t&&!n&&(r=Object(i.a)(Object(i.a)({},r),{},{theme:"warning",message:"Preset name can't be longer than ".concat(p.h," characters")})),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"Form__group m-b-16"},o.a.createElement(s.Label,{value:"Preset name"},o.a.createElement(s.Input,r))),o.a.createElement("div",{className:"Form__group--submit"},o.a.createElement(s.Button,{"data-toggle":!0,label:"Cancel",theme:"secondary",disabled:a}),o.a.createElement(s.Button,{disabled:!n,label:"Create",theme:"primary",onClick:this.handleSubmit,isLoading:a})))}}]),a}(r.PureComponent);t.a=function(e){var t=e.onClick,a=e.buttonProps,i=e.disabled,c=Object(r.useState)(!1),l=Object(n.a)(c,2),u=l[0],m=l[1];return o.a.createElement(s.Dropdown,{className:"AddNewPreset__dropdown",isOpen:u,onOpen:function(){return m(!0)},onClose:function(){return m(!1)}},o.a.createElement(s.Trigger,{disabled:i},o.a.createElement(s.Button,Object.assign({disabled:i},a))),o.a.createElement(s.Content,null,o.a.createElement("div",{className:"CreatePreset__content p-16"},o.a.createElement(d,{onSubmit:function(e){return t({name:e}).then((function(){return m(!1)}))}}))))}},394:function(e,t,a){"use strict";var n=a(17),r=a(15),o=a(2),s=a(0),i=a.n(s),c=a(3),l=a.n(c),u=a(80),m=a.n(u),p=a(310),d=a.n(p),h=a(53),b=a.n(h),f=a(1),g=a(724),v=a.n(g),E=a(109),y=a.n(E),k=a(221),O=a.n(k),w=a(56),j=(a(302),function(e,t){var a=new RegExp(t,"g"),r=Object(n.a)(O()(e,a)),o=e;return r.length&&r.forEach((function(e){var t=e[0],a=e[1],n=w.q[a];if(n)o=o.replace(t,"{".concat(n,"}"));else{var r=v()(w.q)[a];o=r?o.replace(t,"{req.".concat(r,"}")):o}})),o}),C=function(e){var t,a=e.label,r=e.value,s=e.optionsPreset,c=e.onChange,l=e.placeholder,u=e.showOptions,m=e.sortOptions,p=e.showVariables,h=e.readOnly,b=e.button,g=function(e){var t=e&&j(e,"{([\\w\\.]+)}");c(t)},v=b&&[b],E={value:a};if(y()(a)&&(E=a),l&&(E=Object(o.a)(Object(o.a)({},E),{},{tooltip:{overlay:l,display:!!l}})),u){var k=m?d()(s,["label","value"]):s;k=[{value:0,label:"None"}].concat(Object(n.a)(k));var O=s.find((function(e){return e.value===r}));return i.a.createElement(f.Label,E,i.a.createElement(f.Selector,{className:"ParamValueInput",placeholder:l||"None",options:k,renderOption:function(e){return i.a.createElement("span",{className:!e.value&&"Selector__option--deselect"},e.label)},value:O,onChange:function(e){return g(e.value)},closeOnSelect:!0}))}if(p){var C=i.a.createElement("div",{className:"ParamValueInput__variables-trigger"},i.a.createElement(f.Text,{className:"Text--Label",size:"x-small"},"{...}"));t=i.a.createElement(f.Selector,{className:"ParamValueInput__variables-menu",position:"right",placeholder:l,options:d()(w.r,["label","value"]),value:s.find((function(e){return e.value===r})),onChange:function(e){return g(r+"{".concat(e.value,"}"))},renderTrigger:function(){return C},disabled:h,closeOnSelect:!0}),v=v?[].concat(Object(n.a)(v),[t]):[t]}return i.a.createElement(f.Label,E,i.a.createElement(f.Input,{className:"ParamValueInput",placeholder:l,value:j(r,"{req\\.([\\w\\.]+)}"),onChange:g,button:v,disabled:h}))},N=a(362),S=function(e){var t=e.param,a=t.label,n=t.extra,r=e.editMode,o=l()(n,"rendering.ignore",!1),c=l()(n,"readonly",!1),u=r?i.a.createElement("span",null,"This parameter is set as read-only.",i.a.createElement("br",null),"When creating a link, this will not",i.a.createElement("br",null),"be editable."):i.a.createElement("span",null,"You can't edit this parameter",i.a.createElement("br",null),"because is set as read-only"),m=i.a.createElement("span",null,"This parameter won't be appended to the URL"),p=i.a.createElement(s.Fragment,null,c&&i.a.createElement(f.Tooltip,{overlay:u},i.a.createElement(f.Icon,{className:"m-l-8",name:"ic-lock",color:"#c7c9cb",size:"tiny"})),o&&i.a.createElement(f.Tooltip,{overlay:m},i.a.createElement(f.Icon,{className:"m-l-8",name:"ic-eye-off",color:"#c7c9cb",size:"tiny"})));return i.a.createElement("span",null,a,p)};t.a=function(e){var t=e.onChange,a=e.queryParams,s=e.urlStructure,c=e.data,u=e.editMode,p=e.showVariables,h=function(e,a){return t(a?Object(o.a)(Object(o.a)({},c),{},{query:Object(o.a)(Object(o.a)({},c.query),{},Object(r.a)({},e,a))}):Object(o.a)(Object(o.a)({},c),{},{query:Object(o.a)({},b()(c.query,e))}))},g=function(e){return t(e?Object(o.a)(Object(o.a)({},c),{},{pattern:e.id}):Object(o.a)({},b()(c,"pattern")))},v=s.patterns,E=!!v&&!!v.length&&s.visible,y=Object(n.a)(a);return E&&(y=[v].concat(Object(n.a)(y))),y=Object(N.b)(y,2),i.a.createElement("div",{className:"PresetForm__list row m-t-16"},y.map((function(e){var t=e.id,a=e.items;return i.a.createElement("div",{key:t,className:"PresetForm__list--column col-xs-12 col-sm-6"},a.map((function(e){if(E&&m()(e)){var t=e.map((function(e){return function(e){return e?Object(o.a)(Object(o.a)({},e),{},{label:e.name,value:e.id}):null}(e)})),a=t.find((function(e){return e.id===c.pattern}));return i.a.createElement(f.Label,{className:"start-xs",value:s.name},i.a.createElement(f.Selector,{options:[{value:0,label:"None"}].concat(Object(n.a)(t)),value:a,onChange:g,renderOption:function(e){return i.a.createElement("span",{className:!e.value&&"Selector__option--deselect"},e.label)},closeOnSelect:!0}))}var r="preset"===e.format,b={value:i.a.createElement(S,{param:e,editMode:u})};return i.a.createElement(C,{key:e.key,label:b,placeholder:e.placeholder,optionsPreset:r?d()(e.options,["label","value"]):[],value:l()(c,"query[".concat(e.id,"]"),""),onChange:function(t){return h(e.id,t)},showOptions:r,showAddOption:!1,readOnly:!u&&l()(e,"extra.readonly",!1),showVariables:p})})))})))}},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return k})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return S})),a.d(t,"e",(function(){return M})),a.d(t,"j",(function(){return B})),a.d(t,"t",(function(){return W})),a.d(t,"i",(function(){return G})),a.d(t,"h",(function(){return H})),a.d(t,"m",(function(){return q})),a.d(t,"g",(function(){return V})),a.d(t,"x",(function(){return Y})),a.d(t,"q",(function(){return K})),a.d(t,"o",(function(){return J})),a.d(t,"p",(function(){return Q})),a.d(t,"f",(function(){return X})),a.d(t,"l",(function(){return Z})),a.d(t,"s",(function(){return $})),a.d(t,"n",(function(){return ee})),a.d(t,"w",(function(){return te})),a.d(t,"v",(function(){return ae})),a.d(t,"u",(function(){return ne})),a.d(t,"k",(function(){return re})),a.d(t,"r",(function(){return oe}));var n=a(17),r=a(15),o=a(2),s=a(50),i=a.n(s),c=a(53),l=a.n(c),u=a(10),m=a(8),p=a(77),d=a(42),h=a(41),b=a(11),f=a(57),g=a.n(f),v=a(93),E=a(67),y=Object(u.b)("CREATE_WORKSPACE"),k=Object(u.b)("EDIT_WORKSPACE"),O=Object(u.b)("ATTACH_WORKSPACE_DOMAIN"),w=Object(u.b)("DETACH_WORKSPACE_DOMAIN"),j=Object(u.b)("LOAD_WORKSPACES"),C=Object(u.b)("COUNT_WORKSPACES"),N=Object(u.a)("SET_WORKSPACES_PARAMS"),S=Object(u.b)("FETCH_WORKSPACE"),x=Object(u.b)("FETCH_WORKSPACE_FEATURES"),L=Object(u.b)("DELETE_WORKSPACE"),T=Object(u.b)("LEAVE_WORKSPACE"),_=Object(u.a)("RESET_WORKSPACES"),D=Object(u.a)("RESET_WORKSPACES_LIST"),A=Object(u.b)("WORKSPACE_STATS_PUBLIC"),I=Object(u.b)("WORKSPACE_STATS_PRIVATE"),M=Object(u.b)("SET_DEFAULT_WORKSPACE"),R=Object(u.a)("TOGGLE_SELECTED_WORKSPACE"),P=Object(u.a)("DESELECT_ALL_WORKSPACES"),z=Object(u.b)("REMOVE_EXPIRATION_TTL"),F={limit:b.a.pageSize||20,orderBy:"name",orderDir:"asc",term:null,owner:null},U={isLoading:!1,items:{},list:[],features:{},params:F,count:{results:0},comparison:{list:[]}};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return U;case D:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case N:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case x.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{features:Object(o.a)(Object(o.a)({},e.features),{},Object(r.a)({},t.meta.id,t.payload))});case C.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload.count}});case j.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case E.c.FULFILLED:case j.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),i()(t.payload.map((function(e){return Object(v.c)(Object(p.e)(e))})),"id")),list:t.meta.last?g()([].concat(Object(n.a)(e.list),Object(n.a)(a)),(function(e){return e.id})):a});case j.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.payload.id,Object(o.a)(Object(o.a)({},e.items[t.payload.id]),Object(v.c)(Object(p.e)(t.payload))))),list:[t.payload.id].concat(Object(n.a)(e.list))});case S.PENDING:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{isLoading:!0})))});case S.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.payload.id,Object(o.a)(Object(o.a)({},Object(v.c)(Object(p.e)(t.payload))),{},{isLoading:!1})))});case S.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{isLoading:!1})))});case L.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:l()(e.items,t.meta.id),list:e.list.filter((function(e){return e!==t.meta.id}))});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.payload.id,Object(o.a)(Object(o.a)({},e.items[t.payload.id]),Object(v.c)(Object(p.e)(t.payload)))))});case M.FULFILLED:var s,c=Object.values(e.items).find((function(e){return e.default}));return c?Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},(s={},Object(r.a)(s,c.id,Object(o.a)(Object(o.a)({},c),{},{default:!1})),Object(r.a)(s,t.payload.id,Object(o.a)({},Object(v.c)(Object(p.e)(t.payload)))),s))}):Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(r.a)({},t.payload.id,Object(o.a)({},Object(v.c)(Object(p.e)(t.payload)))))});case T.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{list:e.list.filter((function(e){return e!==t.meta.id}))});case R:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:t.payload.value?g()([].concat(Object(n.a)(e.comparison.list),[t.payload.id])):e.comparison.list.filter((function(e){return e!==t.payload.id}))})});case P:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:[]})});default:return e}}function W(){return{type:D}}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(a,n){var r=n().account.id;return a({type:y,payload:Object(m.X)(e),meta:{teammateId:r}}).then((function(e){var n=e.value,r=[];return t.forEach((function(e){return r.push(a(X(n.id,e.id)))})),Promise.all(r).then((function(){return a(Object(d.l)())})).then((function(){return n}))}))}}function H(e,t){return function(a){return a(G(e,t)).then((function(e){return a((t=e.id,function(e,a){var n=a().account.id;return e({type:M,payload:Object(m.Ed)(t),meta:{teammateId:n}})}));var t}))}}function q(e,t){return function(a,n){var r=n().account.id;return a({type:k,payload:Object(m.ee)(e,t),meta:{id:e,teammateId:r}})}}function V(){return function(e,t){var a=t().workspaces.params;return e({type:C,payload:Object(m.G)(a)})}}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return{type:N,payload:e}}function K(e){return function(t,a){var n=a().workspaces.params,r=a().account.id;return t({type:j,payload:Object(m.Kc)(Object(o.a)(Object(o.a)({},n),{},{last:e})),meta:{last:e,teammateId:r}}).then((function(e){return t(V()),e}))}}function J(e){return function(t,a){var n=a().account.id;return t(Q(e)),t({type:S,payload:Object(m.Gc)(e),meta:{id:e,teammateId:n}})}}function Q(e){return function(t){return t({type:x,payload:Object(m.Ic)(e),meta:{id:e}})}}function X(e,t){return function(a){return a({type:O,payload:Object(m.f)(e,t)}).then((function(t){return a(J(e)).then((function(){return t}))}))}}function Z(e,t){return function(a){return a({type:w,payload:Object(m.tb)(e,t)}).then((function(t){return a(J(e)).then((function(){return t}))}))}}function $(e){return function(t){return t({type:L,payload:Object(m.rb)(e),meta:{id:e}}).then((function(){return t(Object(h.g)())})).then((function(){return t(Object(d.l)())})).then((function(){return t(V())}))}}function ee(e){return function(t){return t({type:T,payload:Object(m.hd)(e),meta:{id:e}}).then((function(){return t(Object(h.g)())})).then((function(){return t(Object(d.l)())})).then((function(){return t(V())}))}}function te(e){return function(t){return t({type:A,payload:Object(m.je)(e)}).then((function(){return t(J(e))}))}}function ae(e){return function(t){return t({type:I,payload:Object(m.ie)(e)}).then((function(){return t(J(e))}))}}function ne(e,t){return{type:R,payload:{id:e,value:t}}}function re(){return{type:P}}function oe(e){return function(t){return t({type:z,payload:Object(m.sd)(e)}).then((function(){return t(J(e))}))}}},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return y})),a.d(t,"e",(function(){return k})),a.d(t,"g",(function(){return O})),a.d(t,"d",(function(){return w})),a.d(t,"f",(function(){return j})),a.d(t,"b",(function(){return C}));var n=a(17),r=a(2),o=a(3),s=a.n(o),i=a(10),c=a(45),l=a(8),u=a(42),m=a(40),p=a(99),d=a(112),h=a(22),b=Object(i.b)("SET_CONTEXT"),f=Object(i.a)("LOGOUT_USER"),g=Object(i.a)("PUSH_NEW_LOCATION"),v=Object(i.b)("COUNT_ADMINISTRATED_WORKSPACES"),E={currentWorkspaceId:null,isLogged:!1,history:[],administratedWorkspaces:0};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{administratedWorkspaces:t.payload.count});case u.b.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{isLogged:!0,isGuest:0===s()(t.payload,"subscription.limits.workspaces.used",0)});case u.b.REJECTED:return Object(r.a)(Object(r.a)({},e),{},{isLogged:!1});case u.a:return{isLogged:!1};case b.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{currentWorkspaceId:t.payload});case f:return Object(r.a)(Object(r.a)({},e),{},{isLogged:!1,isLoading:!1,currentWorkspaceId:null});case g:return Object(r.a)(Object(r.a)({},e),{},{history:[].concat(Object(n.a)(e.history),[t.payload.location])});default:return e}}function k(){return function(e){return c.b.clearSession(),c.b.redirectToLogout({path:"/signed-out"}),e(Object(u.c)()),e({type:f})}}function O(e){return function(t,a){var n,r,o=e;if(!o){var i=(n=a().preferences.items,(r=Object.values(a().workspaces.items)).find((function(e){return e.id===n.lastUsedWorkspace}))||r.find((function(e){return!0===e.default}))||s()(r,"[0]"));i&&(o=i.id)}return c.b.saveContextId(o),t(Object(m.p)(o)),t({type:b,payload:Object(l.Fd)(o)}).then((function(){return t(Object(p.c)({lastUsedWorkspace:o}))}))}}function w(){return function(e){return e(Object(u.l)()).then((function(t){var a=t.value;return a&&a.id&&c.b.saveAccountId(a.id),e(Object(p.b)()).then((function(t){t.action;var a=t.value;a.cartId&&e(Object(d.d)(a.cartId))})),e(Object(m.q)()).then((function(){return e(O()).then((function(){return a}))}))}))}}function j(e){return function(t,a){var n=a().session.history;if(!n)return null;if(n.length>0){var r=n[n.length-1];if(s()(r,"pathname")===s()(e,"pathname")&&s()(r,"key")===s()(e,"key"))return null}return t({type:g,payload:{location:e}})}}function C(){return{type:v,payload:Object(l.G)({role:h.a})}}},42:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return y})),a.d(t,"d",(function(){return U})),a.d(t,"l",(function(){return B})),a.d(t,"o",(function(){return W})),a.d(t,"k",(function(){return G})),a.d(t,"i",(function(){return H})),a.d(t,"f",(function(){return q})),a.d(t,"g",(function(){return V})),a.d(t,"e",(function(){return Y})),a.d(t,"h",(function(){return K})),a.d(t,"n",(function(){return J})),a.d(t,"q",(function(){return Q})),a.d(t,"m",(function(){return X})),a.d(t,"r",(function(){return Z})),a.d(t,"p",(function(){return $})),a.d(t,"c",(function(){return ee})),a.d(t,"j",(function(){return te}));var n=a(28),r=a(17),o=a(15),s=a(2),i=a(50),c=a.n(i),l=a(53),u=a.n(l),m=a(361),p=a.n(m),d=a(10),h=a(8),b=a(11),f=a(57),g=a.n(f),v=a(41),E=Object(d.b)("LOAD_USER"),y=Object(d.a)("CLEAR_USER"),k=Object(d.a)("RESET_TRANSACTIONS_STORE"),O=Object(d.a)("RESET_TRANSACTIONS_LIST"),w=Object(d.b)("UPDATE_USER"),j=Object(d.b)("LOAD_TRANSACTIONS"),C=Object(d.a)("SET_TRANSACTIONS_PARAMS"),N=Object(d.b)("COUNT_TRANSACTIONS"),S=Object(d.b)("LOAD_TRANSACTION"),x=Object(d.b)("FETCH_BILLING_DATA"),L=Object(d.b)("UPDATE_BILLING_DATA"),T=Object(d.b)("FETCH_APIKEYS"),_=Object(d.b)("DELETE_APIKEY"),D=Object(d.b)("UPDATE_NOTES"),A=Object(d.b)("CREATE_KEY"),I=Object(d.b)("UPDATE_USER_AVATAR"),M=Object(d.b)("UPDATE_ACCOUNT_DATA"),R=Object(d.b)("FETCH_ACCOUNT_DATA"),P={limit:b.a.pageSize||20,closed:!0,orderBy:"closedAt",orderDir:"desc",term:null},z={isLoading:!1,items:{},list:[],count:{total:0,results:0},params:P},F={isLoading:!1,transactions:z,appkeys:{isLoading:!1,items:{}}};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.PENDING:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case E.FULFILLED:return Object(s.a)(Object(s.a)({},F),{},{isLoading:!1},t.payload);case E.REJECTED:case y:return{isLoading:!1};case I.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{avatarUrl:t.payload.value});case S.PENDING:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{isLoading:!0})});case S.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{transactions:{items:Object(s.a)(Object(s.a)({},e.transactions.items),{},Object(o.a)({},t.payload.id,t.payload)),isLoading:!1}});case S.REJECTED:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{isLoading:!1})});case j.PENDING:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{isLoading:!0})});case j.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{isLoading:!1,items:Object(s.a)(Object(s.a)({},e.transactions.items),c()(t.payload,"id")),list:t.meta.last?g()([].concat(Object(r.a)(e.transactions.list),Object(r.a)(a)),(function(e){return e.id})):a})});case j.REJECTED:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{isLoading:!1})});case N.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{count:{results:t.payload[0].count,total:t.payload[1].count}})});case k:return Object(s.a)(Object(s.a)({},e),{},{transactions:z});case O:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{list:[]})});case C:return Object(s.a)(Object(s.a)({},e),{},{transactions:Object(s.a)(Object(s.a)({},e.transactions),{},{params:Object(s.a)(Object(s.a)({},e.transactions.params),t.payload)})});case x.FULFILLED:case L.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{billing:Object(s.a)(Object(s.a)({},e.billing),{},{data:t.payload})});case R.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{user:{data:t.payload}});case M.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{user:Object(s.a)(Object(s.a)({},e.user),{},{data:t.payload})});case T.PENDING:return Object(s.a)(Object(s.a)({},e),{},{appkeys:Object(s.a)(Object(s.a)({},e.appkeys),{},{isLoading:!0})});case T.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{appkeys:Object(s.a)(Object(s.a)({},e.appkeys),{},{items:c()(t.payload,"id"),isLoading:!1})});case T.REJECTED:return Object(s.a)(Object(s.a)({},e),{},{appkeys:Object(s.a)(Object(s.a)({},e.appkeys),{},{isLoading:!1})});case _.PENDING:return e;case _.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{appkeys:{items:u()(e.appkeys.items,t.payload.id)}});case _.REJECTED:return e;case w:case w.FULFILLED:return Object(s.a)(Object(s.a)({},e),t.payload);case w.REJECTED:case D.PENDING:return e;case D.FULFILLED:case A.FULFILLED:return Object(s.a)(Object(s.a)({},e),{},{appkeys:Object(s.a)(Object(s.a)({},e.appkeys),{},{items:Object(s.a)(Object(s.a)({},e.appkeys.items),{},Object(o.a)({},t.payload.id,t.payload))})});default:return e}}function B(){return function(e,t){return e({type:E,payload:Promise.all([Object(h.Cb)(),Object(h.Db)()]).then((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return p()("subscription.features",r,a)}))}).then((function(t){return e(Object(v.b)()),t}))}}function W(){return{type:O}}function G(e){return function(t,a){var n=a().account.transactions.params;return t({type:j,payload:Object(h.Tb)(Object(s.a)(Object(s.a)({},n),{},{last:e})),meta:{last:e}})}}function H(){return{type:x,payload:Object(h.jd)()}}function q(e){return{type:L,payload:Object(h.Sd)(e)}}function V(){return{type:R,payload:Object(h.id)()}}function Y(e){return{type:M,payload:Object(h.Pd)(e)}}function K(){return{type:T,payload:Object(h.Mc)()}}function J(e){return{type:_,payload:Object(h.ab)(e)}}function Q(e,t){return{type:D,payload:Object(h.Qd)(e,{notes:t})}}function X(){return{type:A,payload:Object(h.I)({})}}function Z(e){return{type:I,payload:Object(h.Rd)(e)}}function $(e){return function(t,a){var n=a().account.fullName,r=function(e){return t({type:w,payload:{fullName:e}})};return r(e),t({type:w,payload:Object(h.Od)({fullName:e})}).catch((function(){return r(n)}))}}function ee(){return{type:y}}function te(e){return{type:S,payload:Object(h.Sb)(e)}}},43:function(e,t,a){"use strict";a.d(t,"j",(function(){return te})),a.d(t,"x",(function(){return ae})),a.d(t,"C",(function(){return re})),a.d(t,"t",(function(){return oe})),a.d(t,"s",(function(){return se})),a.d(t,"f",(function(){return ce})),a.d(t,"g",(function(){return le})),a.d(t,"p",(function(){return ue})),a.d(t,"k",(function(){return me})),a.d(t,"i",(function(){return pe})),a.d(t,"r",(function(){return de})),a.d(t,"l",(function(){return he})),a.d(t,"z",(function(){return be})),a.d(t,"w",(function(){return fe})),a.d(t,"q",(function(){return ge})),a.d(t,"h",(function(){return ve})),a.d(t,"v",(function(){return Ee})),a.d(t,"E",(function(){return ye})),a.d(t,"y",(function(){return ke})),a.d(t,"b",(function(){return Oe})),a.d(t,"o",(function(){return we})),a.d(t,"a",(function(){return je})),a.d(t,"n",(function(){return Ce})),a.d(t,"D",(function(){return Ne})),a.d(t,"B",(function(){return Se})),a.d(t,"A",(function(){return xe})),a.d(t,"m",(function(){return Le})),a.d(t,"d",(function(){return Te})),a.d(t,"e",(function(){return _e})),a.d(t,"c",(function(){return De})),a.d(t,"u",(function(){return Ie}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(50),c=a.n(i),l=a(53),u=a.n(l),m=a(3),p=a.n(m),d=a(11),h=a(8),b=a(41),f=a(81),g=a(94),v=a(42),E=a(57),y=a.n(E),k=a(31),O=Object(s.b)("LOAD_LINKS"),w=Object(s.b)("COUNT_LINKS"),j=Object(s.b)("FETCH_LINK"),C=Object(s.b)("CREATE_LINK"),N=Object(s.b)("CREATE_LINK_RULES"),S=Object(s.b)("STORE_OPEN_GRAPH"),x=Object(s.b)("DELETE_OPEN_GRAPH"),L=Object(s.b)("LOAD_APP_RULES"),T=Object(s.b)("CREATE_DEEP_LINK"),_=Object(s.b)("EDIT_DEEP_LINK"),D=Object(s.b)("DELETE_DEEP_LINK"),A=Object(s.b)("DELETE_LINK_RULE"),I=Object(s.b)("EDIT_LINK_RULE"),M=Object(s.b)("EDIT_LINK"),R=Object(s.b)("ATTACH_TAG"),P=Object(s.b)("DETACH_TAG"),z=Object(s.b)("ATTACH_SCRIPT"),F=Object(s.b)("DETACH_SCRIPT"),U=Object(s.b)("DELETE_LINK"),B=Object(s.b)("RESTORE"),W=Object(s.a)("SET_LINKS_PARAMS"),G=Object(s.b)("TOGGLE_FAVOURITE_LINK"),H=Object(s.a)("TOGGLE_SELECTED_LINK"),q=Object(s.a)("SELECT_ALL_LINKS"),V=Object(s.a)("DESELECT_ALL_LINKS"),Y=Object(s.a)("RESET_LINKS_STORE"),K=Object(s.a)("RESET_LINKS_LIST"),J=Object(s.b)("BULK_RESTORE_LINKS"),Q=Object(s.b)("BULK_DELETE_LINKS"),X=Object(s.b)("BULK_TRASH_LINKS"),Z=Object(s.b)("REMOVE_EXPIRATION_DATE"),$={limit:d.a.pageSize||20,orderBy:k.c,orderDir:k.i,term:null,status:k.a,favourite:null,tags:[],domains:[],teammates:[],appRules:[]},ee={isLoading:!1,items:{},list:[],params:$,count:{total:0,results:0,blocked:0},selectedItemIds:[]};function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.a.FULFILLED:case Y:return ee;case K:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case W:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case w.FULFILLED:var a=p()(t.payload,"[0].count",0),s=p()(t.payload,"[1].count",0);return Object(o.a)(Object(o.a)({},e),{},{count:Object(o.a)(Object(o.a)({},e.count),{},{results:a,total:s})});case O.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case O.FULFILLED:var i=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),c()(t.payload,"id")),list:t.meta.last?y()([].concat(Object(r.a)(e.list),Object(r.a)(i)),(function(e){return e.id})):i});case L.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.linkId,Object(o.a)(Object(o.a)({},e.items[t.meta.linkId]),{},{appRules:t.payload})))});case g.a.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)({},c()(Object.values(e.items).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{scripts:p()(e,"scripts",[]).filter((function(e){return e.id!==t.payload.id}))})})),"id"))});case O.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:{}});case C.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(r.a)(e.list))});case j.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,Object(o.a)({},t.payload)))});case U.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:u()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id})),selectedItemIds:e.selectedItemIds.filter((function(e){return e!==t.payload.id}))});case M.PENDING:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},t.meta.newValue),{},{tags:e.items[t.meta.id].tags,scripts:e.items[t.meta.id].scripts})))});case M.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},t.meta.oldValue),{},{tags:e.items[t.meta.id].tags,scripts:e.items[t.meta.id].scripts})))});case G.PENDING:var l=t.meta,m=l.id,d=l.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},m,Object(o.a)(Object(o.a)({},e.items[m]),{},{favourite:d})))});case G.REJECTED:var h=t.meta,v=h.id,E=h.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},v,Object(o.a)(Object(o.a)({},e.items[v]),{},{favourite:E})))});case R.PENDING:var k=t.meta,N=k.id,S=k.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},N,Object(o.a)(Object(o.a)({},e.items[N]),{},{tags:S})))});case R.REJECTED:var x=t.meta,T=x.id,_=x.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},T,Object(o.a)(Object(o.a)({},e.items[T]),{},{tags:_})))});case f.b.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)({},c()(Object.values(e.items).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{tags:e.tags.map((function(e){return e.id===t.payload.id?t.payload:e}))})})),"id"))});case f.a.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)({},c()(Object.values(e.items).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{tags:e.tags.filter((function(e){return e.id!==t.payload.id}))})})),"id"))});case P.PENDING:var D=t.meta,A=D.id,I=D.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},A,Object(o.a)(Object(o.a)({},e.items[A]),{},{tags:I})))});case P.REJECTED:var Z=t.meta,$=Z.id,te=Z.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},$,Object(o.a)(Object(o.a)({},e.items[$]),{},{tags:te})))});case z.PENDING:var ae=t.meta,ne=ae.id,re=ae.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},ne,Object(o.a)(Object(o.a)({},e.items[ne]),{},{scripts:re})))});case z.REJECTED:var oe=t.meta,se=oe.id,ie=oe.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},se,Object(o.a)(Object(o.a)({},e.items[se]),{},{scripts:ie})))});case F.PENDING:var ce=t.meta,le=ce.id,ue=ce.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},le,Object(o.a)(Object(o.a)({},e.items[le]),{},{scripts:ue})))});case F.REJECTED:var me=t.meta,pe=me.id,de=me.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},pe,Object(o.a)(Object(o.a)({},e.items[pe]),{},{scripts:de})))});case B.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:u()(Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),t.meta.oldId),selectedItemIds:e.selectedItemIds.filter((function(e){return e!==t.meta.oldId}))});case Q.FULFILLED:case X.FULFILLED:case J.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{selectedItemIds:e.selectedItemIds.filter((function(e){return!t.meta.ids.includes(e)}))});case H:return Object(o.a)(Object(o.a)({},e),{},{selectedItemIds:t.payload.value?y()([].concat(Object(r.a)(e.selectedItemIds),[t.payload.id])):e.selectedItemIds.filter((function(e){return e!==t.payload.id}))});case q:return Object(o.a)(Object(o.a)({},e),{},{selectedItemIds:Object.keys(e.items)});case V:return Object(o.a)(Object(o.a)({},e),{},{selectedItemIds:[]});default:return e}}function ae(){return{type:K}}function ne(){return function(e,t){var a=t().links.params;return e({type:w,payload:Promise.all([Object(h.t)(Ae(a)),Object(h.t)({})])})}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return{type:W,payload:e}}function oe(e){return function(t,a){var n=a().links.params;return t({type:O,payload:Object(h.Ob)(Object(o.a)(Object(o.a)({},Ae(n)),{},{last:e})),meta:{last:e}}).then((function(e){return t(ne(Ae(n))).then((function(){return e}))}))}}function se(e){return{type:j,payload:Object(h.Nb)(e)}}function ie(e){return{type:L,payload:Object(h.Gb)(e),meta:{linkId:e}}}function ce(e,t,a){return function(n){return n({type:T,payload:Object(h.J)(e,t,a).then((function(t){return n(ie(e)).then((function(){return t}))}))})}}function le(e,t){return function(a){return Promise.all(t.map((function(t){return a(ce(e,t.id,t.payload))})))}}function ue(e,t,a){return function(n){return n({type:_,payload:Object(h.zb)(e,t,a).then((function(t){return n(ie(e)).then((function(){return t}))}))})}}function me(e,t){return function(a){return a({type:D,payload:Object(h.bb)(e,t).then((function(t){return a(ie(e)).then((function(){return t}))}))})}}function pe(e,t){return function(a){return a({type:N,payload:Object(h.N)(e,t).then((function(t){return a(se(e)).then((function(){return t}))}))})}}function de(e,t,a){return function(n){return n({type:I,payload:Object(h.Ab)(e,t,a).then((function(t){return n(se(e)).then((function(){return t}))}))})}}function he(e,t){return function(a){return a({type:A,payload:Object(h.gb)(e,t).then((function(t){return a(se(e)).then((function(){return t}))}))})}}function be(e,t){return function(a){return a({type:S,payload:Object(h.Kd)(e,t).then((function(t){return a(se(e)).then((function(){return t}))}))})}}function fe(e){return function(t){return t({type:x,payload:Object(h.ib)(e).then((function(a){return t(se(e)).then((function(){return a}))}))})}}function ge(e,t){return function(a,n){var r=n().links.items[e];return a({type:M,payload:Object(h.Ud)(e,Object(o.a)({},t)),meta:{id:e,oldValue:r,newValue:t}})}}function ve(e){return function(t){return t({type:C,payload:Object(h.M)(e).then((function(e){return Promise.all([t(ne()),t(Object(v.l)())]),e}))})}}function Ee(e){return function(t){return t({type:U,payload:Object(h.fb)(e).then((function(e){return Promise.all([t(ne()),t(Object(v.l)())]),e}))})}}function ye(e){return function(t){return t({type:U,payload:Object(h.fb)(e,!0).then((function(e){return Promise.all([t(ne()),t(Object(v.l)())]).then((function(){return e}))}))})}}function ke(e){return function(t){return t({type:U,payload:Object(h.yd)(e).then((function(e){return Promise.all([t(ne()),t(Object(v.l)())]).then((function(){return e}))}))})}}function Oe(e,t){return function(a,n){var r=n().links.items[e].tags,o=r.concat(t);a({type:R,payload:Object(h.h)(e,t.id),meta:{id:e,oldValue:r,newValue:o}})}}function we(e,t){return function(a,n){var r=n().links.items[e].tags,o=r.filter((function(e){return e.id!==t.id}));a({type:P,payload:Object(h.vb)(e,t.id),meta:{id:e,oldValue:r,newValue:o}})}}function je(e,t){return function(a,n){var r=n().links.items[e].scripts,o=r.concat(t);a({type:z,payload:Object(h.g)(e,t.id),meta:{id:e,newValue:o,oldValue:r}})}}function Ce(e,t){return function(a,n){var r=n().links.items[e].scripts,o=r.filter((function(e){return e.id!==t.id}));a({type:F,payload:Object(h.ub)(e,t.id),meta:{id:e,newValue:o,oldValue:r}})}}function Ne(e){return function(t,a){var n=a().links.items[e].favourite,r=!n;return t({type:G,payload:Object(h.Ld)(e,r),meta:{id:e,newValue:r,oldValue:n}}).then((function(){t(ne())}))}}function Se(e,t){return{type:H,payload:{id:e,value:t}}}function xe(){return function(e,t){var a=t().links.list;e({type:q,payload:a})}}function Le(){return{type:V}}function Te(e){return{type:J,payload:Object(h.m)(e),meta:{ids:e}}}function _e(e){return{type:X,payload:Object(h.n)(e),meta:{ids:e}}}function De(e){return{type:Q,payload:Object(h.l)(e),meta:{ids:e}}}function Ae(e){var t=Object(o.a)({},e);return t.teammates&&t.teammates.length>0&&(t["creator.id"]=t.teammates.join(","),delete t.teammates),t.domains&&t.domains.length>0&&(t["domain.id"]=t.domains.join(","),delete t.domains),t}function Ie(e){return function(t){return t({type:Z,payload:Object(h.rd)(e).then((function(a){return t(se(e)).then((function(){return a}))}))})}}},44:function(e,t,a){"use strict";a.d(t,"a",(function(){return V})),a.d(t,"b",(function(){return Y})),a.d(t,"e",(function(){return K})),a.d(t,"g",(function(){return J})),a.d(t,"h",(function(){return Q})),a.d(t,"f",(function(){return Z})),a.d(t,"d",(function(){return $})),a.d(t,"c",(function(){return ee}));var n=a(2),r=a(15),o=a(17),s=a(9),i=a.n(s),c=a(143),l=a.n(c),u=a(92),m=a.n(u),p=a(46),d=a.n(p),h=a(0),b=a.n(h),f=a(33),g=a.n(f),v=a(196),E=a(4),y=a(5),k=a(6),O=a(7),w=a(1),j=a(52),C=a.n(j),N=a(3),S=a.n(N),x=a(14),L=a(84),T=a(252),_=a(11),D=function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.fullName,value:e.id})},A=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){},e.handleOpenEdit=function(e,t){},e.renderComponent=function(){return b.a.cloneElement(e.props.children,{})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){i()(this.props.workspaceDomains)&&this.loadDomains()}},{key:"loadDomains",value:function(e){return e||this.props.resetList(),this.props.load(e)}},{key:"render",value:function(){var e=this,t=this.state.selectorOpen,a=this.props,r=a.workspaceDomains,o=a.selectedElements,s=a.count,c=a.onChange,l=a.canManageOptions,u=a.canAddMore,m=a.isLoading,p=a.tooltipOverlay,d={isLoading:m,onLoadMore:function(){return e.loadDomains(S()(C()(e.props.workspaceDomains),"id"))},isOpen:t,triggerSize:"large",showSearch:s>15,renderTrigger:this.renderComponent,multi:!0,onChange:function(e){u&&c(e)},footer:l&&b.a.createElement(T.a,null,b.a.createElement(w.Button,{"rb-test-id":"new-domain-button",theme:"link",icon:{name:"ic-add"},label:"Register new domain",onClick:this.handleOpenCreate}))};if(!i()(r)){var h=o&&o.map((function(e){return D(e)}));d=Object(n.a)(Object(n.a)({},d),{},{value:h,options:r.map((function(e){return D(e)})),renderOption:function(t){var a=h&&!!h.find((function(e){return e.value===t.value}));return b.a.createElement("div",{className:"flex middle-xs"},b.a.createElement(w.Tooltip,{placement:"left",overlay:p||b.a.createElement("span",null,"You can add up to ",_.a.limits.maxTagsPerLink," domains on each link,",b.a.createElement("br",null),"please deselect one to continue"),display:!u&&!a},b.a.createElement("div",null,b.a.createElement(w.Label,{value:b.a.createElement(w.Tag,{className:"CheckboxOption__tag",label:t.label,color:t.color,size:"lg"})},b.a.createElement(w.Checkbox,{checked:!!a,disabled:!u&&!a})))),l&&b.a.createElement(w.IconButton,{className:"p-0","rb-test-id":"link-edit-tag-button",theme:"ghost",icon:{name:"ic-edit",size:"xsmall"},onClick:function(a){return e.handleOpenEdit(a,t)}}))},showLoadMore:s.total>r.length})}return b.a.createElement(w.Selector,d)}}]),a}(h.PureComponent),I=Object(x.b)((function(e){var t=e.domains,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceDomains:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e){return{load:function(t){return e(Object(L.f)(t))},resetList:function(){return e(Object(L.g)())}}}))(A),M=a(23),R=a.n(M),P=a(67),z=function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.fullName,value:e.id})},F=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){},e.handleOpenEdit=function(e,t){},e.renderComponent=function(){return b.a.cloneElement(e.props.children,{})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.load(this.props.currentWorkspaceId)}},{key:"render",value:function(){var e=this,t={isLoading:this.props.isLoading,onLoadMore:function(){return e.props.load(e.props.currentWorkspaceId)},isOpen:this.state.selectorOpen,triggerSize:"large",showSearch:this.props.count>15,renderTrigger:this.renderComponent,multi:!0,onChange:function(t){e.props.canAddMore&&e.props.onChange(t)}};if(!i()(this.props.teammates)){var a=S()(this.props,"selectedElements",[]).map((function(e){return z(e)}));t=Object(n.a)(Object(n.a)({},t),{},{value:a,options:this.props.teammates.map((function(e){return z(e)})),renderOption:function(t){var n=a&&!!a.find((function(e){return e.value===t.value}));return b.a.createElement(w.Tooltip,{placement:"left",overlay:e.props.tooltipOverlay,display:!e.props.canAddMore&&e.props.tooltipOverlay&&!n},b.a.createElement("div",{className:"flex middle-xs"},b.a.createElement(w.Checkbox,{checked:!!n,disabled:!e.props.canAddMore&&!n}),t.avatarUrl&&b.a.createElement(w.Avatar,{className:"m-l-24",size:"small",img:t.avatarUrl}),b.a.createElement(w.Text,{className:R()("m-l-8 Text--Detail",{"font-semibold":!!n}),size:"small"},t.fullName)))},showLoadMore:this.props.count>this.props.teammates.length})}return b.a.createElement(w.Selector,t)}}]),a}(h.PureComponent),U=Object(x.b)((function(e){return{teammates:Object.values(e.teammates.items),isLoading:e.teammates.isLoading,count:e.teammates.count.total,currentWorkspaceId:e.session.currentWorkspaceId}}),(function(e){return{load:function(){return e(Object(P.l)())}}}))(F),B=a(158),W=a(179),G=function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.name,value:e.id})},H=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectorOpen:e.props.forceOpen},e.renderComponent=function(){return b.a.cloneElement(e.props.children,{})},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.selectedElements.map((function(e){return G(e)}));return b.a.createElement(w.Selector,{isOpen:this.state.selectorOpen,triggerSize:"large",options:this.props.options.map((function(e){return G(e)})),value:t,renderTrigger:this.renderComponent,onChange:function(t){return e.props.onChange(t.map((function(e){return e.value})))},renderOption:function(a){var n=t&&t.find((function(e){return e.value===a.value}));return b.a.createElement("div",{className:"flex middle-xs"},b.a.createElement(w.Checkbox,{checked:!!n,disabled:!e.props.canAddMore&&!n}),a.icon&&b.a.createElement("span",{className:"m-l-24"},a.icon),b.a.createElement(w.Text,{size:"small",className:R()("Text--Detail",{"m-l-24":!a.icon,"m-l-8":a.icon,"font-semibold":!!n})},a.label))},showSearch:this.props.options.length>=15,multi:!0})}}]),a}(h.PureComponent);H.defaultProps={selectedElements:[],options:[]};var q=H,V={"route.tags":{operator:"entity",resource:"tag",label:"tag",store:"tags",property:"route.tags",icon:"ic-tags",controller:v.a,limit:10,operators:[{value:"in",label:"Is"}]},"route.domain.id":{operator:"id",resource:"domain",label:"domain",store:"domains",property:"route.domain.id",icon:"ic-domain",controller:I,limit:10,operators:[{value:"in",label:"Is"}]},"route.creator.id":{operator:"id",resource:"teammate",label:"teammate",store:"teammates",property:"route.creator.id",icon:"ic-people",controller:U,limit:10,operators:[{value:"in",label:"Is"}]},"client.session.first":{operator:"bool",resource:"clickType",options:[{label:"Unique",value:!0},{label:"Non-unique",value:!1}],label:"click type",property:"client.session.first",icon:"ic-click",operators:[{value:"eq",label:"Is"}]},"client.agent.type":{operator:"preset",resource:"trafficType",options:[{name:"Bot",id:"bot"},{name:"Human",id:"human"}],label:"traffic type",property:"client.agent.type",icon:"ic-click",controller:q,operators:[{value:"in",label:"Is"}]},"client.location.country":{operator:"preset",options:B.a.map((function(e){return{name:e.country,id:e.alpha2.toLowerCase(),icon:b.a.createElement("div",{className:"flag flag--tiny flag-"+e.alpha2.toLowerCase()})}})),resource:"country",label:"country",property:"client.location.country",icon:"ic-location",controller:q,operators:[{value:"in",label:"Is"}]},"req.country":{operator:"preset",options:B.a.map((function(e){return{name:e.country,id:e.alpha2.toLowerCase(),icon:b.a.createElement("div",{className:"flag flag--tiny flag-"+e.alpha2.toLowerCase()})}})),resource:"country",label:"country",property:"req.country",icon:"ic-location",controller:q,operators:[{value:"in",label:"Is"}]},"agent.platform":{operator:"preset",options:[{id:"desktop",name:"Desktop",icon:b.a.createElement(w.Icon,{name:"ic-device-desktop",size:"xsmall",color:"#2c96df",className:"m-b-4"})},{id:"smartphone",name:"Smartphone",icon:b.a.createElement(w.Icon,{name:"ic-device-smartphone",size:"xsmall",color:"#2c96df",className:"m-b-4"})},{id:"tablet",name:"Tablet",icon:b.a.createElement(w.Icon,{name:"ic-device-tablet",size:"xsmall",color:"#2c96df"})}],resource:"device",label:"device",property:"agent.platform",icon:"ic-device-default",controller:q,operators:[{value:"in",label:"Is"}]},"agent.os":{operator:"preset",options:[{id:"android",name:"Android",icon:b.a.createElement(w.Icon,{name:"ic-os-android",size:"xsmall",color:"#2c96df",className:"m-b-4"})},{id:"fire-os",name:"Fire OS",icon:b.a.createElement(w.Icon,{name:"ic-os-fire",size:"xsmall",color:"#2c96df",className:"m-b-4"})},{id:"ios",name:"iOS",icon:b.a.createElement(w.Icon,{name:"ic-os-ios",size:"xsmall",color:"#2c96df",className:"m-b-4"})},{id:"linux",name:"Linux",icon:b.a.createElement(w.Icon,{name:"ic-os-linux",size:"xsmall",color:"#2c96df"})},{id:"macos",name:"macOS",icon:b.a.createElement(w.Icon,{name:"ic-os-macos",size:"xsmall",color:"#2c96df"})},{id:"windows",name:"Windows",icon:b.a.createElement(w.Icon,{name:"ic-os-windows",size:"xsmall",color:"#2c96df"})}],resource:"device",label:"platform",property:"agent.os",icon:"ic-device-default",controller:q,operators:[{value:"in",label:"Is"}]},"calendar.date":{operator:"date",resource:"date",label:"date (UTC)",property:"calendar.date",icon:"ic-calendar",operators:[{value:"eq",label:"Is"},{value:"gt",label:"After"},{value:"lt",label:"Before"},{value:"range",label:"Between"}]},"calendar.weekday":{operator:"preset",resource:"date",label:"day of the week (UTC)",property:"calendar.weekday",options:[{id:"monday",name:"Monday"},{id:"tuesday",name:"Tuesday"},{id:"wednesday",name:"Wednesday"},{id:"thursday",name:"Thursday"},{id:"friday",name:"Friday"},{id:"saturday",name:"Saturday"},{id:"sunday",name:"Sunday"}],controller:q,icon:"ic-calendar",operators:[{value:"in",label:"Is"}]},"req.language":{operator:"preset",options:Object.keys(W.a).map((function(e){return{name:W.a[e].name,id:e}})),resource:"language",label:"language",property:"req.language",icon:"ic-language",controller:q,operators:[{value:"in",label:"Is"}]},"calendar.hour":{operator:"preset",controller:q,options:[{id:"00",name:"12:00 AM - 1:00 AM"},{id:"01",name:" 1:00 AM -  2:00 AM"},{id:"02",name:" 2:00 AM -  3:00 AM"},{id:"03",name:" 3:00 AM -  4:00 AM"},{id:"04",name:" 4:00 AM -  5:00 AM"},{id:"05",name:" 5:00 AM -  6:00 AM"},{id:"06",name:" 6:00 AM -  7:00 AM"},{id:"07",name:" 7:00 AM -  8:00 AM"},{id:"08",name:" 8:00 AM -  9:00 AM"},{id:"09",name:" 9:00 AM - 10:00 AM"},{id:"10",name:"10:00 AM - 11:00 AM"},{id:"11",name:"11:00 AM - 12:00 PM"},{id:"12",name:"12:00 PM -  1:00 PM"},{id:"13",name:" 1:00 PM -  2:00 PM"},{id:"14",name:" 2:00 PM -  3:00 PM"},{id:"15",name:" 3:00 PM -  4:00 PM"},{id:"16",name:" 4:00 PM -  5:00 PM"},{id:"17",name:" 5:00 PM -  6:00 PM"},{id:"18",name:" 6:00 PM -  7:00 PM"},{id:"19",name:" 7:00 PM -  8:00 PM"},{id:"20",name:" 8:00 PM -  9:00 PM"},{id:"21",name:" 9:00 PM - 10:00 PM"},{id:"22",name:"10:00 PM - 11:00 PM"},{id:"23",name:"11:00 PM - 12:00 AM"}],resource:"hour",label:"hour of the day (UTC)",property:"calendar.hour",icon:"ic-calendar",operators:[{value:"in",label:"Is"}]},"route.destination.hostname":{operator:"string",resource:"destinationHostname",label:"destination URL",triggerLabel:"Insert an URL",placeholder:"eg. https://www.google.com",property:"route.destination.hostname",icon:"ic-favicon",operators:[{value:"eq",label:"Is"}]},"route.destination.params.query.utm_term":{operator:"string",resource:"utmTerm",label:"UTM term",property:"route.destination.params.query.utm_term",icon:"ic-favicon",operators:[{value:"eq",label:"Is"},{value:"like",label:"Contains"}]},"route.destination.params.query.utm_source":{operator:"string",resource:"utmSource",label:"UTM source",property:"route.destination.params.query.utm_source",icon:"ic-favicon",operators:[{value:"eq",label:"Is"},{value:"like",label:"Contains"}]},"route.destination.params.query.utm_campaign":{operator:"string",resource:"utmCampaign",label:"UTM campaign",property:"route.destination.params.query.utm_campaign",icon:"ic-favicon",operators:[{value:"eq",label:"Is"},{value:"like",label:"Contains"}]},"route.destination.params.query.utm_medium":{operator:"string",resource:"utmMedium",label:"UTM medium",property:"route.destination.params.query.utm_medium",icon:"ic-favicon",operators:[{value:"eq",label:"Is"},{value:"like",label:"Contains"}]},"route.destination.params.query.utm_content":{operator:"string",resource:"utmContent",label:"UTM content",property:"route.destination.params.query.utm_content",icon:"ic-favicon",operators:[{value:"eq",label:"Is"},{value:"like",label:"Contains"}]}},Y=[{label:"Any of the following filters (OR)",value:"or"},{label:"All the following filters (AND)",value:"and"}],K=function(e){if(!e)return null;var t=Object.keys(e);return 3===t.length?"condition":1===t.length?"formula":void 0},J=function e(t){switch(K(t)){case"condition":return m()(t.values)?i()(t.values):l()(t.values);case"formula":var a=Object.values(t)[0];return!i()(a)&&!!a.find((function(t){return e(t)}));default:return!0}},Q=function e(t,a){switch(K(t)){case"condition":return t.property===a;case"formula":var n=Object.values(t)[0];return!i()(n)&&!!n.find((function(t){return e(t,a)}));default:return!1}},X={operator:void 0,resource:void 0,label:"unknown property",property:void 0,icon:"ic-favicon",operators:[]},Z=function(e){return V[e]||X},$=function e(t){switch(K(t)){case"condition":return"calendar.date"===t.property?"range"===t.operator&&2===t.values.length?[{property:"calendar.date",operator:"gt",values:t.values[0]},{property:"calendar.date",operator:"lt",values:t.values[1]}]:[{property:"calendar.date",operator:t.operator,values:t.values[0]}]:[t];case"formula":var a=Object.keys(t)[0],n=Object.values(t)[0];return i()(n)?t:Object(r.a)({},a,n.reduce((function(t,a){return[].concat(Object(o.a)(t),Object(o.a)(e(a)))}),[]));default:return t}},ee=function e(t){switch(K(t)){case"condition":return"calendar.date"!==t.property||Array.isArray(t.values)?[t]:[Object(n.a)(Object(n.a)({},t),{},{values:[t.values]})];case"formula":var a=Object.keys(t)[0],s=Object.values(t)[0];if(i()(s))return t;var c=s.reduce((function(t,a){return[].concat(Object(o.a)(t),Object(o.a)(e(a)))}),[]),l=c.find((function(e){return"calendar.date"===e.property&&"gt"===e.operator&&e.values[0]})),u=l&&c.find((function(e){return"calendar.date"===e.property&&"lt"===e.operator&&e.values[0]&&!g()(l.values[0]).isAfter(g()(e.values[0]))}));return u&&(c=[].concat(Object(o.a)(c.filter((function(e){return!d()(e,l)&&!d()(e,u)}))),[{property:"calendar.date",operator:"range",values:[l.values[0],u.values[0]]}])),Object(r.a)({},a,c);default:return t}}},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(32),r=a.n(n),o=a(37),s=a(55),i=a(2),c=a(29),l=a.n(c),u=a(11),m=a(63),p=a(220),d=u.a.oauthBaseUrl+"/connect/authorize",h=u.a.oauthBaseUrl+"/connect/token",b=u.a.oauthBaseUrl+"/logout",f=u.a.appUrl,g=u.a.client.clientId,v=u.a.client.clientSecret,E={path:window.location.pathname,search:window.location.search},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return btoa(JSON.stringify(e))},k={client_id:g,redirect_uri:f,state:y(),response_type:"code",scope:"rbapi offline_access rbapikeys rbinvites rbdowngrade"},O=Object(i.a)(Object(i.a)({},k),{},{acr_values:"register cmd:direct"}),w=Object(i.a)(Object(i.a)({},O),{},{client_id:u.a.client.clientIdNoVerification,response_type:"token",scope:"accounting carts"}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=l()(d);return t.set("query",e),t.toString()},C={redirectToLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y({path:e.path,search:e.search}),a=Object(i.a)(Object(i.a)({},k),{},{state:t});e.sso&&(a=Object(i.a)(Object(i.a)({},a),{},{acr_values:"sso:".concat(e.sso)})),window.location=j(a)},redirectToSignUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search||window.location.search,a={path:e.path||"/setup"};e.isLogged?t&&(a=Object(i.a)(Object(i.a)({},a),{},{search:t})):a=Object(i.a)(Object(i.a)({},a),{},{search:t?t+"&p=firstlogin":"?p=firstlogin"}),a=y(a);var n=e.path&&-1!==e.path.indexOf("accept-invite")?"invite":"user",r=O.acr_values+" flow:".concat(n);e.provider&&(r="".concat(r," cmd:provider-").concat(e.provider));var o=Object(i.a)(Object(i.a)(Object(i.a)({},O),e.skipVerification&&w),{},{acr_values:r,state:a});window.location=j(o)},formatOauthObject:function(e){if(!e)return{};var t,a,n=e.substring(1).split("&"),r={};for(a in n)""!==n[a]&&(t=n[a].split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]));return r},parseOauthRedirectParams:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s,c,l,u,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location,a=this.formatOauthObject(t.hash),n=this.formatOauthObject(t.search),!(s=Object(i.a)(Object(i.a)({},n),a)).access_token){e.next=8;break}this.saveTokenObject(s),e.next=19;break;case 8:if(!s.code){e.next=19;break}return e.prev=9,e.next=12,this.exchangeCodeForToken(s.code);case 12:c=e.sent,this.saveTokenObject(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),console.error("Unable to exchange auth code for token: ",e.t0);case 19:if(l=s.state,u=Object(o.a)(s,["state"]),!l){e.next=28;break}e.prev=21,r=s.state,m=JSON.parse(atob(r)),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",Object(i.a)({},u));case 28:return e.abrupt("return",Object(i.a)(Object(i.a)({},u),{},{state:m}));case 29:case"end":return e.stop()}var r}),e,this,[[9,16],[21,25]])})));return function(){return e.apply(this,arguments)}}(),redirectToLogout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={client_id:g},a={};e.path&&(t.returnUrl=f,a.path=e.path),e.search&&(a.search=e.search),t.state=y(a);var n=l()(b);n.set("query",t),window.location=n.toString()},exchangeCodeForToken:function(e){if(!e)return Promise.reject(new Error("Auth code missing"));var t=Object(o.a)(k,["state"]),a=new URLSearchParams(Object(i.a)(Object(i.a)({},t),{},{grant_type:"authorization_code",code:e,client_secret:v})).toString();return p.a.post(h,{payload:a,extraHeaders:{"Content-type":"application/x-www-form-urlencoded"}})},isTokenExpired:function(){var e=this.getTokenObject(),t=e&&1e3*e.expires_in,a=e&&e.timestamp,n=(new Date).getTime();return t&&a&&n>a+t},refreshToken:function(){var e=this,t=this.getTokenObject().refresh_token;if(!t)return m.a.set("token",null),Promise.reject();var a=Object(o.a)(k,["state","redirect_uri"]),n=new URLSearchParams(Object(i.a)(Object(i.a)({},a),{},{grant_type:"refresh_token",refresh_token:t,client_secret:v})).toString();return p.a.post(h,{payload:n,extraHeaders:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(t){return e.saveTokenObject(t),t.access_token})).catch((function(t){return e.clearSession(),e.redirectToLogout(),Promise.reject(t)}))},saveTokenObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(new Date).getTime();m.a.set("token",Object(i.a)(Object(i.a)({},e),{},{timestamp:t}))},saveContextId:function(e){m.a.set("contextId",e)},getContextId:function(){return m.a.get("contextId")},saveAccountId:function(e){m.a.set("accountId",e)},getAccountId:function(){return m.a.get("accountId")},clearSession:function(){m.a.set("token",null),m.a.set("contextId",null),m.a.set("accountId",null)},getTokenObject:function(){return m.a.get("token")},getToken:function(){var e=this.getTokenObject();return e&&e.access_token}};t.b=C},47:function(e,t,a){"use strict";var n=a(313),r=a(3),o=a.n(r),s=a(11),i=a(263),c=o()(s.a,"googleAnalytics.trackingId"),l=!0!==window.dnt;c&&l&&n.a.initialize(c);var u=function(e,t){switch(e){case"pricing-page-loaded":return{hitType:"pageview",title:"pricing-page",location:o()(t,"location"),page:o()(t,"page")};case"deal-comparator-page-loaded":return{hitType:"pageview",title:"deal-comparator",location:o()(t,"location"),page:o()(t,"page")};case"new-domain-page-loaded":return{hitType:"pageview",title:"new-domain",location:o()(t,"location"),page:o()(t,"page")};case"new-domain-with-coupon-page-loaded":return{hitType:"pageview",title:"new-domain-with-coupon",location:o()(t,"location"),page:o()(t,"page")};case"setup-dns-page-loaded":return{hitType:"pageview",title:"setup-dns",location:o()(t,"location"),page:o()(t,"page")};case"whois-form-loaded":return{hitType:"pageview",title:"whois-form",location:o()(t,"location"),page:o()(t,"page")};case"checkout-page-loaded":return{hitType:"pageview",title:"checkout",location:o()(t,"location"),page:o()(t,"page")};case"checkout-button-clicked":return{hitType:"event",eventCategory:"Cart",eventAction:"checkout-button-clicked"};case"new-search-started":return{hitType:"event",eventCategory:"Domains",eventAction:"new-search-started"};case"domain-suggestion-clicked":return{hitType:"event",eventCategory:"Domains",eventAction:"domain-suggestion-clicked"};case"app-started":return{hitType:"event",eventCategory:"Application",eventAction:"app-started",nonInteraction:!0};case"domain-added-to-cart":return{hitType:"event",eventCategory:"Cart",eventAction:"domain-added-to-cart",nonInteraction:!0};case"coupon-succesfully-applied":return{hitType:"event",eventCategory:"Cart",eventAction:"coupon-succesfully-applied",nonInteraction:!0};case"checkout-domain-renew-succeeded":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-succeeded",label:"domain-renew",nonInteraction:!0};case"checkout-subscription-succeeded":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-succeeded",label:"subscription",nonInteraction:!0};case"checkout-transaction-succeeded":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-succeeded",label:"transaction",nonInteraction:!0};case"checkout-domains-succeeded":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-succeeded",label:"domains",nonInteraction:!0};case"checkout-custom-plan-succeeded":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-succeeded",label:"custom-plan",nonInteraction:!0};case"checkout-failed":return{hitType:"event",eventCategory:"Checkout",eventAction:"checkout-failed",nonInteraction:!0};case"bulk-link-import-succeeded":return{hitType:"event",eventCategory:"Links",eventAction:"bulk-link-import-succeeded",nonInteraction:!0};case"bulk-links-export-succeeded":return{hitType:"event",eventCategory:"Links",eventAction:"bulk-links-export-succeeded",nonInteraction:!0};case"contact-form-submitted":return{hitType:"event",eventCategory:"Application",eventAction:"contact-form-submitted",nonInteraction:!0};case"link-created":return{hitType:"event",eventCategory:"Links",eventAction:"link-created",nonInteraction:!0};case"setup-dns-step-1-loaded":return{hitType:"event",eventCategory:"Domains",eventAction:"setup-dns-step-1-loaded",nonInteraction:!0};case"setup-dns-step-2-loaded":return{hitType:"event",eventCategory:"Domains",eventAction:"setup-dns-step-2-loaded",nonInteraction:!0};case"setup-domain-external-succeeded":return{hitType:"event",eventCategory:"Domains",eventAction:"setup-domain-succeeded",label:"external",nonInteraction:!0};case"setup-domain-managed-succeeded":return{hitType:"event",eventCategory:"Domains",eventAction:"setup-domain-succeeded",label:"managed",nonInteraction:!0};default:return console.log("[Tracker] Unknown event: ",e,t),null}},m={isLoaded:!!n.a.ga,queue:[],track:function(){if(l){var e=u.apply(void 0,arguments);if(!this.isLoaded)return console.log("[Tracker] Event not tracked: ",e),i.a.error({error:"[Tracker] Event not tracked: ",event:e}),void this.queue.push(e);this.queue.length>0&&(this.queue.forEach((function(e){return n.a.ga("send",e)})),this.queue=[]),n.a.ga("send",e)}else console.log("[Tracker] Event not tracked (tracking is disabled)")}};t.a=m},48:function(e,t,a){"use strict";var n=a(37),r=a(0),o=a.n(r),s=a(1),i=a(109),c=a.n(i);t.a=function(e){var t=e.icon,a=e.title,r=e.message,i=e.primaryButtonProps,l=e.secondaryButtonProps,u=e.isOpen,m=e.onClose,p=e.closeOnClickOutside,d=e.checkboxProps,h=Object(n.a)(e,["icon","title","message","primaryButtonProps","secondaryButtonProps","isOpen","onClose","closeOnClickOutside","checkboxProps"]),b=null;o.a.isValidElement(i)?b=i:c()(i)&&(b=o.a.createElement(s.Button,Object.assign({theme:"primary"},i)));return o.a.createElement(s.Modal,Object.assign({},h,{size:"sm",isOpen:u,onClose:function(){p&&m()},middle:!0}),o.a.createElement(s.ModalContent,null,t&&o.a.createElement(s.Icon,t),a&&o.a.createElement(s.Text,{size:"large",className:"Text-Title font-light m-t-16"},a),r&&o.a.createElement(s.Text,{size:"small",className:"Text--SubDetail m-t-12"},r),d&&o.a.createElement("div",{className:"ShutPopupCheckbox m-t-24"},o.a.createElement(s.Label,{value:"Do not show this message again"},o.a.createElement(s.Checkbox,d))),(l||i)&&o.a.createElement("div",{className:"Button__list m-t-24"},l&&o.a.createElement(s.Button,l),b)))}},49:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(1),m=a(48),p=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1},e.showModal=function(t){e.props.onInit(),t&&t.stopPropagation(),e.props.disabled||e.setState({showModal:!0})},e.hideModal=function(t){t&&t.stopPropagation(),e.setState({showModal:!1})},e.handleConfirmClick=function(){e.props.children.props.onClick(),e.hideModal()},e.defaultPrimaryButtonProps={label:"Continue",theme:"primary",onClick:e.handleConfirmClick},e.defaultSecondaryButtonProps={label:"Cancel",theme:"secondary",onClick:e.hideModal},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){l.a.Children.only(this.props.children)}},{key:"render",value:function(){return l.a.createElement(c.Fragment,null,l.a.createElement(u.Tooltip,Object.assign({},this.props.tooltip,{display:!!this.props.tooltip&&!1!==this.props.tooltip.display}),l.a.cloneElement(this.props.children,{onClick:this.showModal,disabled:this.props.disabled})),l.a.createElement(m.a,{className:"ignore-react-onclickoutside ignore-editdestination-onclickoutside",overlayClassName:"ignore-react-onclickoutside ignore-editdestination-onclickoutside",isOpen:this.state.showModal,onClose:this.hideModal,icon:this.props.icon,title:this.props.title,message:this.props.message,secondaryButtonProps:this.props.noSecondaryButton?null:Object(n.a)(Object(n.a)({},this.defaultSecondaryButtonProps),this.props.secondaryButtonProps),primaryButtonProps:this.props.noPrimaryButton?null:Object(n.a)(Object(n.a)({},this.defaultPrimaryButtonProps),this.props.primaryButtonProps),closeOnClickOutside:!0}))}}]),a}(c.PureComponent);p.defaultProps={onInit:function(){}},t.a=p},491:function(e,t,a){"use strict";t.a={"amiga-os":{name:"AmigaOS"},android:{name:"Android",icon:"ic-os-android"},bada:{name:"Bada"},beos:{name:"BeOS"},"blackberry-os":{name:"BlackBerry OS",icon:"ic-os-blackberry"},brew:{name:"Brew"},bsd:{name:"BSD OS"},"chrome-os":{name:"Chrome OS",icon:"ic-os-chrome-os"},"fire-os":{name:"Fire OS",icon:"ic-os-fire"},"firefox-os":{name:"Firefox OS"},ios:{name:"iOS",icon:"ic-os-ios"},jvm:{name:"JVM",icon:"ic-os-jvm"},linux:{name:"Linux",icon:"ic-os-linux"},livearea:{name:"LiveArea"},macos:{name:"Mac OS",icon:"ic-os-mac"},maemo:{name:"Maemo"},meego:{name:"MeeGo"},morphos:{name:"MorphOS"},nintendo:{name:"Nintendo"},"nintendo-wii":{name:"Nintendo Wii"},"nokia-x-platform":{name:"Nokia X platform"},"os-x":{name:"OS X",icon:"ic-os-macos"},others:{name:"Others"},"palm-os":{name:"Palm OS"},"rim-os":{name:"Rim OS"},"risk-os":{name:"Risc OS"},solaris:{name:"Solaris",icon:"ic-os-solaris"},"symbian-os":{name:"Symbian OS",icon:"ic-os-symbian-os"},tizen:{name:"Tizen",icon:"ic-os-tizen"},webos:{name:"webOS"},windows:{name:"Windows",icon:"ic-os-windows"},"xrossmediabar-(xmb)":{name:"XrossMediaBar"}}},493:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),s=a(736),i=function(e){var t=e.color,a=e.onChange,n=e.onChangeComplete,i=e.trigger,c=e.disabled;return r.a.createElement(o.Dropdown,{className:"SketchPicker__dropdown",disabled:c},r.a.createElement(o.Trigger,null,i||r.a.createElement(o.IconButton,{className:"p-0",theme:"ghost",icon:{name:"ic-color-picker",size:"xsmall"},disabled:c})),r.a.createElement(o.Content,{position:"right"},r.a.createElement(s.a,{color:t,onChange:a,onChangeComplete:n})))};a(1396),t.a=function(e){var t=e.onType,a=e.disabled,s=e.color,c=e.onChangeComplete,l=e.onChange,u=Object(n.useCallback)((function(e){var a=e,n=e.replace(/\s/g,"").match(/^rgba*\((\d+),(\d+),(\d+),?(\d*)?\)$/i);if(n){var r=n[4]?5:4;a="#"+n.slice(1,r).map((function(e){var t=(+e).toString(16);return 1===t.length?"0"+t:t})).join("")}t(a)}),[t]);return r.a.createElement("div",{className:"ColorInput flex middle-xs"},r.a.createElement(o.Input,{value:s,disabled:a,onChange:u}),r.a.createElement(i,{color:s,onChange:l,onChangeComplete:c,disabled:a}))}},506:function(e,t,a){"use strict";a.d(t,"i",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"j",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"g",(function(){return h})),a.d(t,"h",(function(){return b})),a.d(t,"k",(function(){return f}));var n=a(11),r=a(8),o=n.a.api.middleware.batchHandler.baseUrl,s=function(e){return Object(r.c)("post","/mobile/data/feed",{overrideBaseURL:o,path:"links",payload:e})},i=function(){return Object(r.c)("get","/mobile/data/feed",{overrideBaseURL:o,path:"links"})},c=function(){return Object(r.c)("get","/mobile/data/feed",{overrideBaseURL:o,path:"url"})},l=function(e){return Object(r.c)("post","/mobile/data/feed",{overrideBaseURL:o,path:"url",payload:e})},u=function(e){return Object(r.c)("post","/mobile/data/feed",{overrideBaseURL:o,path:"url",payload:{check:e}})},m=function(e,t){return Object(r.c)("post","/links",{extraHeaders:{workspace:t},payload:e})},p=function(e,t){var a={type:"link-workspace",resource:{id:e.id,shortUrl:e.shortUrl}};return Object(r.c)("post","/stamp",{overrideBaseURL:o,extraHeaders:{workspace:t},payload:a})},d=function(){return Object(r.c)("post","/mobile/data/feed",{overrideBaseURL:o,path:"url",payload:{delete:!0}})},h=function(e,t){return Object(r.c)("get","/mobile/data/feed",{overrideBaseURL:o,path:"images",params:{filename:e,type:t}})},b=function(e,t){return Object(r.c)("get","/mobile/data/feed",{overrideBaseURL:o,path:"scripts",params:{filename:e,type:t}})},f=function(e,t){var a=new Request(e,{method:"PUT",body:t});return fetch(a)}},507:function(e,t,a){},508:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(1),u=a(3),m=a.n(u),p=a(38),d=a(30),h=a(71),b=a(14),f=a(13),g=a(19),v=(a(1381),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).mapOptions=function(e){return{value:e.route,label:e.name}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=[{id:1,name:"Full account report",link:{to:"/reports/account","rb-test-id":"reports-account"},disabled:!1,visible:Object(d.hasFeature)("metrics.advanced",m()(this.props.account,"subscription.features")),route:"/reports/account"},{id:7,name:"By trending links",link:{to:"/reports/links","rb-test-id":"reports-links"},disabled:!1,visible:!0,route:"/reports/links"},{id:2,name:"By workspaces",link:{to:"/reports/workspaces","rb-test-id":"reports-by-workspaces"},disabled:!1,visible:Object(d.hasFeature)("metrics.advanced",m()(this.props.account,"subscription.features")),route:"/reports/workspaces"},{id:3,name:"By tags",link:{to:"/reports/tags","rb-test-id":"reports-by-tags"},disabled:!1,visible:!0,route:"/reports/tags"},{id:4,name:"By domains",link:{to:"/reports/domains","rb-test-id":"reports-by-domains"},disabled:!1,visible:Object(d.hasFeature)("metrics.advanced",m()(this.props.account,"subscription.features"))||Object(p.c)("domains",this.props.account),route:"/reports/domains"},{id:5,name:"By teammates",link:{to:"/reports/teammates","rb-test-id":"reports-by-teammates"},disabled:!1,visible:!0,route:"/reports/teammates"},{id:6,name:"Custom reports",link:{to:"/reports/custom","rb-test-id":"reports-custom"},disabled:!1,visible:Object(d.hasFeature)("metrics.advanced",m()(this.props.account,"subscription.features")),route:"/reports/custom"}];return c.a.createElement(i.Fragment,null,c.a.createElement(l.Selector,{className:"ReportTypeSelector",options:t.map((function(t){return e.mapOptions(t)})),renderTrigger:function(){var a=t.find((function(t){return t.route===e.props.location.pathname})),n=m()(a,"name");return c.a.createElement("div",{className:"flex middle-xs"},c.a.createElement(l.A,{size:"x-lg",className:"ReportTypeSelector__trigger Text--SubTitle","rb-test-id":"report-type-selector"},Object(g.truncate)(n,20)))},value:this.mapOptions(t.find((function(t){return t.route===e.props.location.pathname}))),renderOption:function(e,t){return c.a.createElement("div",{"data-toggle":!0},c.a.createElement(f.a,{to:e.value},c.a.createElement(l.Text,{className:"Text--Detail",size:"small"},e.label)))}}))}}]),a}(i.PureComponent));t.a=Object(h.g)(Object(b.b)((function(e){return{account:e.account}}),null)(v))},509:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1);t.a=function(e){var t=e.label,a=e.buttonProps;return r.a.createElement("div",{className:"flex-column center-xs middle-xs full-height"},r.a.createElement(o.Icon,{name:"ic-information",size:"lg",color:"#c7c9cb"}),t&&r.a.createElement(o.Text,{className:"Text--SubTitle m-t-24"},t),a&&r.a.createElement(o.Button,Object.assign({className:"m-t-24"},a)))}},511:function(e,t,a){},515:function(e,t,a){"use strict";var n=a(2),r=a(32),o=a.n(r),s=a(55),i=a(15),c=a(4),l=a(5),u=a(6),m=a(7),p=a(0),d=a.n(p),h=a(14),b=a(71),f=a(3),g=a.n(f),v=a(9),E=a.n(v),y=a(140),k=a.n(y),O=a(727),w=a.n(O),j=a(73),C=a.n(j),N=a(1),S=a(228),x=a(48),L=a(13),T=a(36),_=a(31),D=a(66),A=a(157),I=a(8),M=a(39),R=a(58),P=a(43),z=a(18),F=a(12),U=a(99),B=a(40),W=a(102),G=a(47),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).destinationInputName=Math.random().toString(36).substring(5),n.alreadyBrandedNotification=null,n.delayedFetchDestinationInfo=C()((function(e){return n.fetchDestinationInfo(e)}),500),n.closeErrorPopup=function(){return n.setState({showErrorPopup:!1})},n.loadSlugRecommendation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(D.c)(n.state.destination);n.props.broken||n.setState({isLoadingSlug:!0,slashtag:""},(function(){var t=n.props.preferences[W.a],a=k()(S.b,{key:t})||k()(S.b,{key:S.a}),r=g()(a,"value"),o=a.usesDomain?{fullName:g()(n.state.domain,"fullName")}:void 0;Object(I.Ec)({url:e,algorithm:r,domain:o}).then((function(e){n.state.isLoadingSlug&&n.setState({slashtag:e})})).finally((function(){return n.setState({isLoadingSlug:!1})}))}))},n.loadTitleRecommendation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(D.c)(n.state.destination);n.setState({isLoadingTitle:!0,title:""},(function(){if(Object(_.n)(e))switch(Object(_.o)(e)["rb-dashboard-composer"]){case _.f:return n.setState({title:"Mailto URL"});case _.h:return n.setState({title:"SMS URL"});case _.j:return n.setState({title:"Telephone URL"});default:return n.setState({title:"Composer URL"})}Object(I.Fc)({url:e}).then((function(e){n.setState({title:e})})).finally((function(){return n.setState({isLoadingTitle:!1})}))}))},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;r&&(r===n.destinationInputName&&(r="destination"),n.setState({errors:null}),n.setState((function(e){"destination"===r&&Object(R.h)(a)&&(""===e.destination?n.fetchDestinationInfo(a):n.delayedFetchDestinationInfo(a));var t=a;return"slashtag"!==r&&"destination"!==r||(t=Object(_.q)(a)),"slashtag"===r&&n.setState({isLoadingSlug:!1}),Object(i.a)({},r,t)})))},n.handleChangeDomain=function(e){return n.setState({domain:e}),e&&e.active},n.handleSubmit=function(e){e&&e.preventDefault();var t=n.state,a=t.domain,r=t.title,o=t.slashtag,s=t.destination,i=n.props,c=i.createLink,l=i.deleteNotification,u=g()(a,"id");n.setState({isProcessing:!0});var m=w()(o.slice(),/\//g,(function(e,t,a){return 0!==t&&t!==a.length-1?"/":""}));c({domainId:u,title:r,slashtag:m,destination:Object(D.c)(s)}).then((function(e){var t=e.value;n.onLinkCreated(t),Object(A.a)({newLinkCreated:t}),G.a.track("link-created"),l(g()(n.alreadyBrandedNotification,"notification.id")),n.persistDomainPreference(t.domain),n.props.loadWorkspace(n.props.workspace.id)})).catch((function(e){var t=g()(e,"data.errors"),a=!E()(t)&&t.find((function(e){return"AlreadyExists"===e.code||"AlreadyExistsTrashed"===e.code})),r={slashtag:o,"domain.id":u},s=g()(e,"data.code")===_.d,i=g()(e,"data.code")===_.g;a&&Object(I.Ob)(r).then((function(e){return n.setState({showErrorPopup:!0,alreadyExistingLink:e[0],errorFlag:g()(e[0],"status")})})).catch((function(){return n.setState({showErrorPopup:!0})})),s&&n.setState({showErrorPopup:!0,errorFlag:_.d}),i&&n.setState({showErrorPopup:!0,errorFlag:_.g}),n.setState({isProcessing:!1,errors:t})}))},n.handleSlugAlgorithmChanged=function(e){n.props.rememberPreference(Object(i.a)({},W.a,e.key)),n.loadSlugRecommendation()},n.handleAlphabetsWarningChanged=function(e){n.props.rememberPreference(Object(i.a)({},W.b,e))},n.state={destination:n.props.destination||"",domain:null,title:"",workspaces:[],slashtag:n.props.slash||"",isProcessing:!1,isLoadingSlug:!1,showErrorPopup:!1,alreadyExistingLink:null,errors:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.domain?Object(I.Ub)(this.props.domain).then((function(t){e.setState({domain:t},(function(){Object(I.Xb)(t.id,{"correlation.status":"attached",owner:!0}).then((function(t){e.setState({workspaces:t},(function(){return e.fetchDestinationInfo(e.state.destination,e.state.slashtag,!0)}))}))}))})):this.state.destination&&this.fetchDestinationInfo(this.state.destination,this.state.slashtag)}},{key:"fetchDestinationInfo",value:function(){var e=Object(s.a)(o.a.mark((function e(t,a,n){var r,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(D.c)(t),this.loadTitleRecommendation(r),!n&&this.loadSlugRecommendation(r),!n&&Object(I.Bc)(t).then((function(e){var t=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));if(!E()(t)){var a=t[0],n="https"===g()(a.domain,"sharing.protocol.default","https"),r=Object(D.a)(a.shortUrl,n);s.alreadyBrandedNotification=s.props.createNotification(null,"You branded the same destination URL ".concat(Object(M.a)(a.createdAt,"past",!1)),d.a.createElement(p.Fragment,null,d.a.createElement(L.a,{size:"lg",onClick:function(){s.props.onAlreadyCreatedLinkClick&&s.props.onAlreadyCreatedLinkClick(a)}},a.shortUrl),d.a.createElement("div",{className:"m-t-8 flex"},d.a.createElement(T.l,{tooltip:{overlay:"Visit URL",placement:"top"},url:r}),d.a.createElement(T.b,{tooltip:{overlay:"Copy",placement:"top"},toCopy:r}),d.a.createElement(T.e,{tooltip:{overlay:"Edit",placement:"top"},onEdit:function(){s.props.deleteNotification(g()(s.alreadyBrandedNotification,"notification.id")),s.props.history.replace({pathname:"/links/".concat(a.id),state:{modal:!0}})}}))))}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"onLinkCreated",value:function(e){var t=this.props,a=t.onLinkCreated,n=t.createNotification,r=t.history;if(a)return a(e);this.props.location.state&&this.props.location.state.broken?(n(F.a,"Link repaired \u2728"),r.goBack()):(n(F.a,"Link rebranded \u2728"),r.push("/links"),r.push({pathname:"/links/".concat(e.id),state:{modal:!0,justCreated:!0}}))}},{key:"persistDomainPreference",value:function(e){var t=this.props,a=t.workspace,r=t.preferences;(0,t.rememberPreference)({lastUsedDomains:Object(n.a)(Object(n.a)({},r.lastUsedDomains),{},Object(i.a)({},a.id,e.id))})}},{key:"renderErrorPopup",value:function(){var e,t,a,n,r=this;switch(this.state.errorFlag){case _.e:e="This link already exists in trash!",t="You\u2019ve already created and trashed a link with the same domain name and slashtag.";break;case _.d:e="Links limit reached",t=d.a.createElement(p.Fragment,null,"You hit your links limit. New links would not be created.",d.a.createElement("br",null),d.a.createElement(N.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115001565594",size:"lg"},"Learn more")),a={label:"Upgrade",theme:"checkout",onClick:function(){return r.props.history.push("/pricing")}},n={label:"Close",onClick:this.closeErrorPopup};break;case _.g:e="Workspace owner links limit reached",t=d.a.createElement(p.Fragment,null,"New links would not be created, contact the owner.",d.a.createElement("br",null),d.a.createElement(N.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115001565594",size:"lg"},"Learn more"));break;case _.a:e="This link already exists!",t="You\u2019ve already created a link with the same domain name and slashtag, you can\u2019t duplicate it.",this.state.alreadyExistingLink.id&&(a={label:"Edit existing link",onClick:function(){r.props.onAlreadyCreatedLinkClick&&r.props.onAlreadyCreatedLinkClick(r.state.alreadyExistingLink)}});break;default:e="This link already exists!",t="A link with the same domain and slash-tag already exists.  You can\u2019t duplicate it."}return d.a.createElement(x.a,{isOpen:this.state.showErrorPopup,onClose:this.closeErrorPopup,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:e,message:t,primaryButtonProps:a,secondaryButtonProps:n||{label:"Ok, got it",onClick:this.closeErrorPopup},closeOnClickOutside:!0})}},{key:"render",value:function(){var e=this;return this.props.workspace?d.a.createElement(p.Fragment,null,d.a.createElement(S.c,{workspaces:this.state.workspaces||this.props.workspaces,destinationInputName:this.destinationInputName,workspace:this.props.workspace,rememberCopyToClipboard:function(t){return e.props.rememberPreference({copyToClipboard:t})},slugAlgorithm:this.props.preferences[W.a],onSlugAlgorithmChange:this.handleSlugAlgorithmChanged,shutSlugAlphabetsWarning:this.props.preferences[W.b],onSlugAlphabetsWarningChange:this.handleAlphabetsWarningChanged,destination:this.state.destination,slashtag:this.state.slashtag,title:this.state.title,domain:this.state.domain,isProcessing:this.state.isProcessing,isLoadingSlug:this.state.isLoadingSlug,isBroken:this.props.broken||this.props.location.state&&this.props.location.state.broken,copyToClipboard:this.props.preferences.copyToClipboard,onChange:this.handleChange,onSelectDomain:this.handleChangeDomain,onSubmit:this.handleSubmit,onNewDomainClick:this.props.onNewDomainClick}),this.renderErrorPopup()):null}}]),a}(p.PureComponent);t.a=Object(b.g)(Object(h.b)((function(e){return{preferences:e.preferences.items,workspaces:e.workspaces.items,workspace:e.workspaces.items[e.session.currentWorkspaceId]}}),(function(e){return{loadWorkspace:function(t){return e(Object(B.o)(t))},createLink:function(t,a,n){return e(Object(P.h)(t,a,n))},rememberPreference:function(t){return e(Object(U.c)(t))},createNotification:function(t,a,n){return e(Object(z.a)(t,a,null,n))},deleteNotification:function(t){return t&&e(Object(z.c)(t))}}}))(H))},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(23),s=a.n(o),i=a(9),c=a.n(i),l=(a(1348),function(e){var t=e.align,a=e.fullWidthSmall,n=e.maxWidth,o=e.className,i=e.children;return c()(i)||!r.a.Children.toArray(i).find((function(e){return!c()(e)}))?null:r.a.createElement("div",{className:s()("ToolbarSection",o,{"ToolbarSection--right":"right"===t,"ToolbarSection--left":"left"===t,"ToolbarSection--fullWidthSmall":a,"ToolbarSection--maxWidth":n})},i)});l.defaultProps={align:"left"};t.b=function(e){var t=e.children;return r.a.createElement("div",{className:"Toolbar Toolbar--sticky line-bottom"},r.a.createElement("section",{className:"Container--wide"},r.a.createElement("div",{className:"Toolbar__container"},t)))}},56:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return y})),a.d(t,"h",(function(){return k})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return w})),a.d(t,"f",(function(){return j})),a.d(t,"g",(function(){return C})),a.d(t,"a",(function(){return N})),a.d(t,"p",(function(){return S})),a.d(t,"r",(function(){return x})),a.d(t,"q",(function(){return L})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return _})),a.d(t,"i",(function(){return D})),a.d(t,"j",(function(){return A})),a.d(t,"k",(function(){return I})),a.d(t,"o",(function(){return R})),a.d(t,"n",(function(){return P}));var n=a(17),r=a(2),o=a(29),s=a.n(o),i=a(3),c=a.n(i),l=a(713),u=a.n(l),m=a(53),p=a.n(m),d=a(50),h=a.n(d),b=a(110),f=a.n(b),g=(a(714),a(221)),v=a.n(g),E=25,y=50,k=64,O=64,w=64,j=64,C=256,N={format:"string"},S=[Object(r.a)(Object(r.a)({},N),{},{key:"utm_source",label:"Source",placeholder:"e.g: Twitter, Facebook",extra:{metadata:{family:"utm"}}}),Object(r.a)(Object(r.a)({},N),{},{key:"utm_campaign",label:"Campaign",placeholder:"e.g: ACME-campaign",extra:{metadata:{family:"utm"}}}),Object(r.a)(Object(r.a)({},N),{},{key:"utm_content",label:"Content",placeholder:"e.g: text AD name",extra:{metadata:{family:"utm"}}}),Object(r.a)(Object(r.a)({},N),{},{key:"utm_medium",label:"Medium",placeholder:"e.g: cpc, banner, email",extra:{metadata:{family:"utm"}}}),Object(r.a)(Object(r.a)({},N),{},{key:"utm_term",label:"Term",placeholder:"e.g: paid keywords",extra:{metadata:{family:"utm"}}})],x=[{label:"Browser",value:"req.client.agent.browser.code"},{label:"Country",value:"req.client.location.country"},{label:"Device",value:"req.client.agent.device.code"},{label:"Language",value:"req.client.language"},{label:"Platform",value:"req.client.agent.os.code"},{label:"Referral",value:"req.referral.hostname"},{label:"Source",value:"req.referral.origin.name"},{label:"Timestamp",value:"req.timestamp"}],L={"client.location.country":"country","client.agent.browser.code":"browser","referral.hostname":"referral","referral.origin.name":"source","client.agent.os.code":"os","client.agent.device.code":"device","client.language":"language",timestamp:"timestamp"},T=function(e){return"utm"===c()(e,"extra.metadata.family")},_=function(e,t){var a=s()(e,!0).query,n={};return t.forEach((function(e){a.hasOwnProperty(e.key)&&(n[e.id]=a[e.key])})),n},D=function(e,t){var a;return f()(t)?(a=new s.a(e)).query=a.query?"".concat(a.query,"&").concat(t):"?"+t:(a=new s.a(e,!0),Object.keys(t).forEach((function(e){t[e]?a.query[e]=t[e]:delete a.query[e]}))),P(a.toString())},A=function(e,t){if(!e||!t)return{};var a=Object.keys(e),n=t.map((function(e){return e.id})),r=u()(a,n);return p()(e,r)},I=function(e,t){var a={};if(!e)return a;var n=h()(t,"id");return Object.keys(e).forEach((function(t){var r=c()(n,"[".concat(t,"].key"));r&&(a[r]=e[t])})),a},M=function(e,t){var a=function(e){if(!e)return"";var t=new RegExp("\\{params\\.([a-zA-Z]+\\w*)\\}","g");return Object(n.a)(v()(e,t))}(e),r=e;return a.length&&a.forEach((function(e){var a=e[0],n=e[1],o=c()(t,"[".concat(n,"]"),"");r=r.replace(a,encodeURIComponent(o))})),P(r)},R=function(e,t){return e.split("&").map((function(e){var a=e.split("=");return a[1]?(a[1]=a[1].split(":").map((function(e){return M(e,t)})).filter((function(e){return!!e})).join(":"),a[1]?a.join("="):null):null})).filter((function(e){return!!e})).join("&")},P=function(e){if(!e)return e;var t=new RegExp("%7Breq\\.([\\w\\.]+)%7D","g"),a=Object(n.a)(v()(e,t)),r=e;return a.length&&a.forEach((function(e){var t=e[0],a=e[1];if(L.hasOwnProperty(a)){var n=t.replace("%7B","{").replace("%7D","}");r=r.replace(t,n)}})),r}},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"i",(function(){return g})),a.d(t,"j",(function(){return v})),a.d(t,"k",(function(){return E})),a.d(t,"h",(function(){return y})),a.d(t,"d",(function(){return k})),a.d(t,"e",(function(){return O})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return j}));var n=a(2),r=a(3),o=a.n(r),s=a(87),i=a.n(s),c=a(153),l=a.n(c),u=a(38),m=a(12),p=a(395),d=a.n(p),h="ItemsLimitExceeded",b=function(e,t,a,n,r){if("domain"===n){var o=Object.values(e.items).filter((function(e){return"domain"===e.type})).length;return a.isLogged?Object(u.a)("domains",t,+o+1)?{valid:!0}:{valid:!1,error:{data:{code:h}}}:o<5?{valid:!0}:{valid:!1,error:{data:{code:h}}}}return"plan"!==n||(0===Object.values(e.items).filter((function(e){return"plan"===e.type})).length?{valid:!0}:{valid:!1,error:{data:{code:"OnlyOnePlan"}}})},f=function(e,t,a){var n=Object.values(e.items).filter((function(e){return"domain"===e.type})).length;return!(Object.values(e.items).filter((function(e){return"plan"===e.type})).length>1)&&(!(!a.isLogged&&!Object(u.a)("domains",t,n))&&!(!a.isLogged&&n>5))},g=function(e,t){return Object.values(e.items).some((function(e){return e.id===t.id}))},v=function(e){if(!e)return{valid:!1};var t=d.a.validate(e),a=d.a.ERRORS,r=d.a.WARNINGS,s={valid:!0};return t.valid?t.warnings&&t.warnings.length&&t.warnings.forEach((function(e){switch(e.code){case r.LIMITED_SUPPORT:s=Object(n.a)(Object(n.a)({},s),{},{warning:{title:o()(m.i,"link.slashtag['LimitedSupport'].title"),message:o()(m.i,"link.slashtag['LimitedSupport'].message")}})}})):t.errors.forEach((function(e){switch(e.code){case a.INVALID_MIN_LENGTH:case a.INVALID_MAX_LENGTH:s={valid:!1,message:o()(m.i,"link.slashtag['MinMax'].title")};break;case a.INVALID_TYPE:case a.RESERVED_PREFIX:case a.OUT_OF_ALPHABET:s={valid:!1,message:o()(m.i,"link.slashtag['PatternMismatch'].title")};break;case a.TOO_MANY_EMOJIS:s={valid:!1,message:o()(m.i,"link.slashtag['EmojisLimit'].title")};break;default:s={valid:!0}}})),s},E=function(e){if(!e)return{valid:!0};var t=new RegExp("^[a-zA-Z]+\\w*$"),a=new RegExp("\\w","g"),n=e.match(a),r=n?n.length:0;return t.test(e)?r>32?{valid:!1,message:"Param can't be longer than 32 characters"}:{valid:!0}:{valid:!1,message:'You can only use "a-z,0-9,_"'}},y=function(e){return i()(e,{allow_underscores:!0})&&e.length<2041},k=function(e){return l()(e,"^mailto:")},O=function(e){return l()(e,"^sms:")},w=function(e){return l()(e,"^tel:")},j=function(e){return null!==e.id}},60:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));var n={xsmall:{min:0,max:479},small:{min:480,max:767},medium:{min:768,max:1023},large:{min:1024,max:1199},xlarge:{min:1200,max:Number.POSITIVE_INFINITY}},r="list",o="master_details",s="viewMode"},61:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"g",(function(){return y})),a.d(t,"f",(function(){return O}));var n=a(2),r=a(0),o=a.n(r),s=a(19),i=a.n(s),c=a(24),l=a.n(c),u=a(3),m=a.n(u),p=a(556),d=a.n(p),h=a(30),b="free",f="starter",g="pro",v="premium",E="enterprise",y=function(e){return m()(e,"category")===b},k=function(e,t){if(t){var a=function(e){if(e){var t=m()(e,"block.price.net",0),a=m()(e,"block.units",1);return{price:d()(t)?Object(s.intComma)(t):Object(s.formatNumber)(t,2),units:a>1?Object(s.formatNumber)(a):""}}}(t);return e.includes("cycle")?"Then $".concat(a.price," each ").concat(a.units," for over quota"):"Then $".concat(a.price,"/month each ").concat(a.units," for over quota")}};function O(e){var t=m()(e,"billing");return Object.keys(w).map((function(a){var r=m()(e,"deals[0].extra",m()(e,"extra",{})),o=m()(t,"extra.".concat(a));return Object(n.a)({id:a,count:Object(h.getFeatureLimits)(a,{subscription:e})||{},extra:m()(r,"".concat(a,".block"),null),billingExtraLabel:k(a,o)},w[a])}))}var w=function(){var e=Object(n.a)({},h.volumes);return delete e.fast_redirects,e["cycle.clicks"]=Object(n.a)(Object(n.a)({},e["cycle.clicks"]),{},{description:function(e){return o.a.createElement("span",null,"Track up to ",i.a.formatNumber(e)," ",l()("click",e)," each",o.a.createElement("br",null),"month. Additional clicks are billed",o.a.createElement("br",null),"separately for paid plans")}}),e.links=Object(n.a)(Object(n.a)({},e.links),{},{description:function(e){return"Create up to ".concat(i.a.formatNumber(e)," branded links in total")}}),e["cycle.links"]=Object(n.a)(Object(n.a)({},e["cycle.links"]),{},{description:function(e){return o.a.createElement("span",null,"Create up to ",i.a.formatNumber(e)," links at very fast speeds",o.a.createElement("br",null),"with dedicated API endpoints. Set links to",o.a.createElement("br",null),"auto\u2014expire and benefit from a specific",o.a.createElement("br",null),"pricing mode")}}),e.domains=Object(n.a)(Object(n.a)({},e.domains),{},{description:function(e){return 1===e?"Register or connect one custom domain":"Connect up to ".concat(e," custom domains")}}),e["cycle.reports"]=Object(n.a)(Object(n.a)({},e["cycle.reports"]),{},{description:function(e){return o.a.createElement("span",null,"Run up to ",i.a.formatNumber(e)," custom reports each",o.a.createElement("br",null),"month. Additional reports are",o.a.createElement("br",null),"billed separately")}}),e["cycle.teammates"]=Object(n.a)(Object(n.a)({},e["cycle.teammates"]),{},{description:function(e){return 0===e?"Rebrandly for Teams not included":o.a.createElement("span",null,"Add extra users and have up to ",i.a.formatNumber(e),o.a.createElement("br",null),"active teammates each month.",o.a.createElement("br",null),"Additional active users billed separately")}}),e}()},613:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var n="fullName",r=function(){return[{label:"Name AZ",value:"az",params:{orderBy:n,orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:n,orderDir:"desc"}}]},o=function(e){var t=e.teammates.params;return r().find((function(e){return e.params.orderBy===t.orderBy&&e.params.orderDir===t.orderDir}))}},618:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(2),r=a(10),o=a(8),s=Object(r.b)("LOAD_TOKEN"),i=Object(r.b)("GET_PAYMENT_METHOD"),c=Object(r.b)("SET_PAYMENT_METHOD"),l={token:{isLoading:!1,value:null},transaction:{processing:!1}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.PENDING:return Object(n.a)(Object(n.a)({},e),{},{token:{isLoading:!0,value:null}});case s.FULFILLED:return Object(n.a)(Object(n.a)({},e),{},{token:{isLoading:!1,value:t.payload.token}});case s.REJECTED:return Object(n.a)(Object(n.a)({},e),{},{token:{isLoading:!1,value:null}});default:return e}}function m(e){return{type:c,payload:Object(o.Gd)(e)}}function p(e){return{type:i,payload:Object(o.Tc)(e)}}},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i}));var n=a(0),r="dark",o="default",s=a.n(n).a.createContext({theme:o,onToggleTheme:function(){}});s.displayName="ThemeContext";var i=s.Provider;t.d=s},63:function(e,t,a){"use strict";var n=a(144),r=a.n(n),o=a(109),s=a.n(o),i=a(46),c=a.n(i),l=a(11),u={checkVersion:function(){var e=this.get("version"),t=this.get("forceLogoutCounter");if(!c()(e,l.a.version)){var a=this.get("token");this.clear(),this.set("version",l.a.version),this.set("token",a)}t&&!c()(t.toString(),l.a.forceLogoutCounter.toString())&&(this.clear(),this.set("forceLogoutCounter",l.a.forceLogoutCounter))},get:function(e){var t=null;l.a.persistence.cookie&&(t=r.a.get(e)),l.a.persistence.localStorage&&(t=localStorage?localStorage.getItem(e):window[e]);try{return JSON.parse(t)}catch(a){return t}},set:function(e,t){var a=t;if(s()(t))try{a=JSON.stringify(t)}catch(n){console.warn("Cannot serialize "+e+": ",t)}l.a.persistence.cookie&&r.a.set(e,a),l.a.persistence.localStorage&&(localStorage?localStorage.setItem(e,a):window[e]=a)},remove:function(e){l.a.persistence.cookie&&r.a.remove(e),l.a.persistence.localStorage&&(localStorage?localStorage.removeItem(e):delete window[e])},clear:function(){localStorage&&localStorage.clear();var e=r.a.get();Object.keys(e).forEach((function(e){return r.a.remove(e)}))}};t.a=u},656:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"g",(function(){return w})),a.d(t,"e",(function(){return j})),a.d(t,"d",(function(){return C})),a.d(t,"c",(function(){return N})),a.d(t,"f",(function(){return S})),a.d(t,"b",(function(){return x}));var n=a(17),r=a(2),o=a(10),s=a(8),i=a(11),c=a(50),l=a.n(c),u=a(57),m=a.n(u),p=a(41),d=Object(o.a)("SET_TRENDING_LINKS_PARAMS"),h=Object(o.a)("RESET_TRENDING_LINKS_LIST"),b=Object(o.b)("LOAD_TRENDING_LINKS"),f=Object(o.b)("GET_DOWNLOAD_URL"),g=Object(o.b)("TOGGLE_SELECTED_LINKS"),v=Object(o.b)("DESELECT_ALL_LINKS"),E=Object(o.a)("RESET_TAGS_STORE"),y={limit:i.a.pageSize||20,days:1},k={isLoading:!1,last:null,items:{},list:[],totalCount:0,download:{},params:y,comparison:{list:[]}};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a.FULFILLED:case E:return Object(r.a)(Object(r.a)({},k),{},{params:Object(r.a)({},e.params)});case d:return Object(r.a)(Object(r.a)({},e),{},{params:Object(r.a)(Object(r.a)({},e.params),t.payload)});case h:return Object(r.a)(Object(r.a)({},e),{},{list:[],last:null});case b.PENDING:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!0});case b.FULFILLED:var a=t.payload.links.map((function(e){return e.linkId}));return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,last:t.payload.last,totalCount:t.payload.totalCount,items:Object(r.a)(Object(r.a)({},e.items),l()(t.payload.links,"linkId")),list:t.meta.last?m()([].concat(Object(n.a)(e.list),Object(n.a)(a)),(function(e){return e.linkId})):a});case b.REJECTED:return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1});case f.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{download:t.payload.download});case g:return Object(r.a)(Object(r.a)({},e),{},{comparison:Object(r.a)(Object(r.a)({},e.comparison),{},{list:t.payload.value?m()([].concat(Object(n.a)(e.comparison.list),[t.payload.id])):e.comparison.list.filter((function(e){return e!==t.payload.id}))})});case v:return Object(r.a)(Object(r.a)({},e),{},{comparison:Object(r.a)(Object(r.a)({},e.comparison),{},{list:[]})});default:return e}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return{type:d,payload:e}}function j(){return{type:h}}function C(e){return function(t,a){var n=a().trendingLinks.params;return t({type:b,payload:Object(s.zc)(Object(r.a)(Object(r.a)({},n),{},{last:e})).then((function(e){return e})),meta:{last:e}})}}function N(){return function(e,t){var a=t().trendingLinks.params;return e({type:f,payload:Object(s.yb)(a).then((function(e){return e}))})}}function S(e,t){return{type:g,payload:{id:e,value:t}}}function x(){return{type:v}}},66:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(87),r=a.n(n),o=(a(80),a(9),a(110),a(3)),s=a.n(o),i=a(29),c=a.n(i),l=new RegExp(/^\/\//);function u(e){if(!e)return"";if(l.test(e))return"http:"+e;var t={require_protocol:!0,require_valid_protocol:!1,require_tld:!1,require_host:!1,allow_trailing_dot:!0,allow_underscores:!0};return!r()(e,t)&&r()("http://"+e,t)?"http://"+e:e}function m(e){switch(e.type){case"plan":return{label:"Rebrandly plan",price:e.price.net};case"domain":return{label:e.fullName,price:e.price.net,annualPrice:e.annualPrice};case"failed":return{label:"Outstanding balance",price:e.amount};default:return{label:e.fullName,price:s()(e,"price.net")||s()(e,"pricing.renewal")}}}function p(e,t){var a=new c.a(e,{});return a.set("protocol",t?"https:":"http:"),a.toString()}},67:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return x})),a.d(t,"c",(function(){return D})),a.d(t,"e",(function(){return P})),a.d(t,"o",(function(){return z})),a.d(t,"p",(function(){return F})),a.d(t,"d",(function(){return B})),a.d(t,"s",(function(){return W})),a.d(t,"j",(function(){return G})),a.d(t,"i",(function(){return H})),a.d(t,"h",(function(){return q})),a.d(t,"l",(function(){return V})),a.d(t,"g",(function(){return Y})),a.d(t,"m",(function(){return K})),a.d(t,"q",(function(){return J})),a.d(t,"k",(function(){return Q})),a.d(t,"n",(function(){return X})),a.d(t,"r",(function(){return Z})),a.d(t,"f",(function(){return $}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(50),c=a.n(i),l=a(53),u=a.n(l),m=a(57),p=a.n(m),d=a(11),h=a(8),b=a(41),f=a(42),g=a(93),v=a(613),E=Object(s.b)("LOAD_TEAMMATES"),y=Object(s.b)("FETCH_MEMBER"),k=Object(s.a)("SET_TEAMMATES_PARAMS"),O=Object(s.b)("DELETE_MEMBER"),w=Object(s.b)("DELETE_TEAMMATE"),j=Object(s.a)("RESET_TEAMMATES_STORE"),C=Object(s.a)("RESET_TEAMMATES_LIST"),N=Object(s.b)("COUNT_MEMBERS"),S=Object(s.b)("COUNT_TEAMMATES"),x=Object(s.b)("FETCH_TEAMMATE"),L=Object(s.a)("RESET_TEAMMATE"),T=Object(s.a)("TOGGLE_SELECTED_TEAMMATE"),_=Object(s.a)("DESELECT_ALL_TEAMMATES"),D=Object(s.b)("LOAD_TEAMMATE_WORKSPACES"),A=Object(s.b)("REMOVE_TEAMMATE_FROM_WORKSPACES"),I=Object(s.a)("RESET_TEAMMATES_WORKSPACES"),M={limit:d.a.pageSize||20,orderBy:v.a,orderDir:"asc",term:null},R={isLoading:!1,items:{},list:[],params:M,count:{total:0,results:0},comparison:{list:[]}};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.a.FULFILLED:case j:return R;case L:case C:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case k:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case N.PENDING:case S.PENDING:return Object(o.a)(Object(o.a)({},e),{},{count:{isLoading:!0}});case N.REJECTED:case S.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{count:{isLoading:!1}});case N.FULFILLED:case S.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count,isLoading:!1}});case x.PENDING:case E.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case E.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),c()(t.payload.map((function(e){return Object(g.c)(e)})),"id")),list:t.meta.last?p()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,Object(o.a)(Object(o.a)({},e.items[t.payload.id]),t.payload)))});case x.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,Object(g.c)(t.payload)))});case x.REJECTED:case E.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case w.FULFILLED:case O.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:u()(e.items,t.meta.id),list:e.list.filter((function(e){return e!==t.meta.id}))});case T:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:t.payload.value?p()([].concat(Object(r.a)(e.comparison.list),[t.payload.id])):e.comparison.list.filter((function(e){return e!==t.payload.id}))})});case _:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:[]})});case I:var s=t.meta.teammateId;return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},s,Object(o.a)(Object(o.a)({},e.items[s]),{},{workspacesList:[]})))});case D.FULFILLED:var i=t.payload.map((function(e){return e.id})),l=t.meta.teammateId;return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},l,Object(o.a)(Object(o.a)({},e.items[l]),{},{workspacesList:t.meta.last?p()([].concat(Object(r.a)(e.items[l].workspacesList),Object(r.a)(i))):i})))});case A.FULFILLED:var m=t.meta,d=m.teammateId,h=m.workspaceId;return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},d,Object(o.a)(Object(o.a)({},e.items[d]),{},{workspacesList:e.items[d].workspacesList.filter((function(e){return e!==h}))})))});default:return e}}function z(){return{type:L}}function F(){return{type:C}}function U(e){return function(t,a){var n=a().teammates.params;return t({type:N,payload:Promise.all([Object(h.u)(e,n),Object(h.u)(e)])})}}function B(){return function(e,t){var a=t().teammates.params;return e({type:S,payload:Promise.all([Object(h.C)(a),Object(h.C)()])})}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return{type:k,payload:e}}function G(e){return function(t,a){var n=a().session.currentWorkspaceId;return t({type:x,payload:Object(h.wc)(e),meta:{id:e,workspaceId:n}})}}function H(e,t){return function(a,n){var r=n().teammates.params;return a({type:E,payload:Object(h.Qb)(e,Object(o.a)(Object(o.a)({},r),{},{last:t})).then((function(t){return a(U(e)).then((function(){return t}))})),meta:{last:t,workspaceId:e}})}}function q(e,t){return{type:y,payload:Object(h.Pb)(e,t)}}function V(e){return function(t,a){var n=a().teammates.params,r=a().session.currentWorkspaceId;return t({type:E,payload:Object(h.yc)(Object(o.a)(Object(o.a)({},n),{},{last:e})).then((function(e){return t(B()).then((function(){return e}))})),meta:{last:e,workspaceId:r}})}}function Y(e,t){return function(a,n){return n().workspaces.items[e]?a({type:O,payload:Object(h.wb)(e,t).then((function(t){return a(Object(f.l)()),a(U(e)).then((function(){return t}))})),meta:{id:t}}):null}}function K(e){return function(t){return t({type:w,payload:Object(h.td)(e).then((function(e){return t(Object(f.l)()),t(B()).then((function(){return e}))})),meta:{id:e}})}}function J(e){return{meta:{teammateId:e},type:I}}function Q(e,t){return function(a,n){var r=(n().teammate||{}).params;return a({type:D,payload:Object(h.xc)(e,Object(o.a)(Object(o.a)({},r),{},{last:t})),meta:{last:t,teammateId:e}})}}function X(e,t){return function(a){return a({type:A,payload:Object(h.gd)(e,t),meta:{workspaceId:e,teammateId:t}})}}function Z(e,t){return{type:T,payload:{id:e,value:t}}}function $(){return{type:_}}},671:function(e,t,a){},672:function(e,t,a){},673:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(3),u=a.n(l),m=a(48),p=a(12),d=(a(674),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"performBlur",value:function(){this.props.isOpen&&document.body.classList.add("card-data-blurred")}},{key:"componentDidUpdate",value:function(){this.performBlur()}},{key:"componentDidMount",value:function(){this.performBlur()}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("card-data-blurred")}},{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose,n=e.title,r=e.message,o=u()(p.j,"payment.title","An error occured"),s=r?c.a.createElement(i.Fragment,null,c.a.createElement("span",null,r),c.a.createElement("br",null),o):o;return c.a.createElement(m.a,{isOpen:!!t,onClose:a,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:n||"Something went wrong",message:s,primaryButtonProps:{label:"Try again",theme:"primary",onClick:a},secondaryButtonProps:{label:"Contact us",theme:"secondary",onClick:function(){return window.open("https://rebrandly.support/contact","_blank")}}})}}]),a}(i.Component));t.a=d},674:function(e,t,a){},675:function(e,t,a){"use strict";var n=a(15),r=a(4),o=a(5),s=a(6),i=a(7),c=a(2),l=a(0),u=a.n(l),m=a(1),p=a(3),d=a.n(p),h=a(23),b=a.n(h),f=a(193),g=a(158),v=(a(1315),["VAT under the reverse charge procedure according to the local vat rules in your country. VAT code need to be a VIES valid VAT and will be double checked after every purchase."]),E=g.a.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{value:e.alpha2.toLowerCase(),_label:e.alpha2.toLowerCase(),label:u.a.createElement("span",{className:"Text--Detail"},u.a.createElement("i",{className:"m-r-8 flag flag--tiny flag-"+e.alpha2.toLowerCase()})," ",e.country)})})),y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleChange=function(e,t){if(e){var a=Object(n.a)({},e,"regCode"===e?t.trim():t);"country"===e&&(a.state="",a.city="",a.regCode=""),o.setState({data:Object(c.a)(Object(c.a)({},o.state.data),a),isValid:o.formElement.checkValidity()}),o.props.onResetError&&o.props.onResetError(e)}},o.handleSearchCountry=function(e){o.setState({countryOptions:E.filter((function(t){return e.toLowerCase().includes(t.value.toLowerCase())||t.country.toLowerCase().includes(e.toLowerCase())}))})},o.handleSubmit=function(e){e.preventDefault(),o.props.onSubmit(o.state.data)},o.formElement=null,o.setFormElementRef=function(e){e&&(o.formElement=e,o.setState({isValid:e.checkValidity()}))},o.state={data:o.props.data,countryOptions:E,isValid:!1},o}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"getError",value:function(e){return Object(f.d)(e,this.props.errors)}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t,a=this.props.fullPage?"lg":"sm",n=this.props.fullPage&&u.a.createElement("div",{className:"col-xs-6"}),r=(t=d()(this.state.data,"country"),["sk","si","se","ro","pt","pl","nl","mt","lv","lu","lt","it","ie","hu","hr","gr","gb","fr","fi","es","ee","dk","de","cz","cy","bg","be","at"].indexOf(t)>-1);return u.a.createElement("form",{noValidate:!0,onChange:function(t){return e.handleChange(t.target.name,t.target.value)},onSubmit:this.handleSubmit,ref:this.setFormElementRef},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"Company name *",size:a},u.a.createElement(m.Input,Object.assign({name:"customerName",value:d()(this.state.data,"customerName",""),placeholder:"Name of your organization",required:!0},this.getError("customerName"))))),n,u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"Country *",size:a},u.a.createElement(m.Selector,{triggerSize:"lg"===a&&"large",options:this.state.countryOptions,value:this.state.countryOptions.find((function(t){return t.value===d()(e.state.data,"country")})),onChange:function(t){return e.handleChange("country",t.value)},onSearch:this.handleSearchCountry,closeOnSelect:!0,showSearch:!0}))),n,u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"State",size:a},u.a.createElement(m.Input,Object.assign({name:"state",value:d()(this.state.data,"state",""),placeholder:"Your state or region"},this.getError("state"))))),n,r&&u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"VAT code (leave empty if not applicable)",size:a},u.a.createElement(m.Input,Object.assign({name:"regCode",value:d()(this.state.data,"regCode",""),placeholder:"VAT code"},this.getError("regCode"))))),n),u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"City *",size:a},u.a.createElement(m.Input,Object.assign({name:"city",value:d()(this.state.data,"city",""),placeholder:"Your city",required:!0},this.getError("city"))))),n,u.a.createElement("div",{className:b()("Form__group col-xs-12",{"col-sm-6":!this.props.fullPage,"col-sm-12":this.props.fullPage})},u.a.createElement(m.Label,{value:"Street address *",size:a},u.a.createElement(m.Input,Object.assign({name:"address",value:d()(this.state.data,"address",""),placeholder:"Your street address",required:!0},this.getError("address"))))),!this.props.fullPage&&n,u.a.createElement("div",{className:"Form__group col-xs-12 col-sm-6"},u.a.createElement(m.Label,{value:"Postal code",size:a},u.a.createElement(m.Input,Object.assign({name:"postalCode",value:d()(this.state.data,"postalCode",""),placeholder:"12345"},this.getError("postalCode")))))),u.a.createElement("aside",{className:"Text--SubDetail BillingDataForm__notes"},u.a.createElement(m.Text,{size:"small"},"Important notes:"),u.a.createElement("ul",{className:"m-t-8 m-l-24"},v.map((function(e,t){return u.a.createElement("li",{key:t},e)})))),u.a.createElement("div",{className:"Button__list m-t-36"},this.props.onCancel&&u.a.createElement(m.Button,{type:"reset",label:"Cancel",onClick:this.props.onCancel,block:!0}),u.a.createElement(m.Button,{type:"submit",label:this.props.submitLabel,theme:"primary",disabled:!this.state.isValid,isLoading:this.props.isProcessing,block:!0})))}}]),a}(l.PureComponent);y.defaultProps={submitLabel:"Save"},t.a=y},676:function(e,t,a){},677:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(3),u=a.n(l),m=a(1),p=a(19),d=a(24),h=a.n(d),b=a(33),f=a.n(b),g=a(69),v=a(315),E=a(316),y=a(183),k=a(314),O=a(8),w=a(11),j=(a(507),a(742),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getData=function(t,a){return Object(O.tc)("workspaces",u()(e.props.workspace,"id"),t,a)},e}return Object(r.a)(a,[{key:"render",value:function(){if(!this.props.workspace)return null;var e,t=this.props.workspace.lastClickDate&&f()(this.props.workspace.lastClickDate).isBefore(w.a.statsStartDate);switch(this.props.workspace.clicks){case 0:e=c.a.createElement(g.q,{onRefresh:this.props.refreshResource});break;case 1:e=c.a.createElement(v.a,{getData:this.getData,refreshResource:this.props.refreshResource,createdAt:this.props.workspace.createdAt});break;default:e=c.a.createElement(k.f,{item:this.props.workspace,getData:this.getData,refreshResource:this.props.refreshResource,scrollableElem:this.props.scrollableElem})}return c.a.createElement(i.Fragment,null,this.props.canViewReports&&!this.props.whiteLabel&&c.a.createElement("div",{className:"ReportDetails__header flex"},c.a.createElement(m.Avatar,{className:"m-t-4",img:this.props.workspace.avatarUrl}),c.a.createElement("div",{className:"ReportDetails__description flex middle-xs ellipsis"},c.a.createElement("div",{style:{maxWidth:"50%"}},c.a.createElement(m.Tooltip,{overlay:this.props.workspace.name},c.a.createElement(m.Text,{size:"large",className:"Text-Title Text--HighlightDkBlue",singleLine:!0},this.props.workspace.name,"\xa0"))),this.props.workspace.clicks>0&&c.a.createElement(i.Fragment,null,c.a.createElement(m.Text,{size:"large",className:"Text-Title"},"links received\xa0"),c.a.createElement(m.Text,{size:"large",className:"Text-Title Text--HighlightDkBlue"},"".concat(Object(p.compactInteger)(this.props.workspace.clicks,1)," ").concat(h()("click",this.props.workspace.clicks)),"\xa0"),c.a.createElement(m.Text,{size:"large",className:"Text-Title"},"so far")))),c.a.createElement("div",{className:"m-t-36"},this.props.canViewReports?t?c.a.createElement(E.a,null):e:c.a.createElement(y.b,{text:"You can't report this workspace",showUpgradeButton:!1,message:c.a.createElement("span",null,"Your current access level doesn\u2019t grant you permissions to access this feature, reach out to your workspace ",c.a.createElement("br",null)," administrator to review your permissions.")})))}}]),a}(i.PureComponent));t.a=j},679:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(100),u=a(269),m=a(96),p=a(3),d=a.n(p),h=a(46),b=a.n(h),f=a(1),g=a(225),v=a(19),E=function(){return c.a.createElement("div",{className:"m-t-8 text-center Text-SemiHero"},c.a.createElement(f.Text,{size:"small"},"No data available"))},y=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={selectedTab:null,selectedBar:null,autoSelect:!0},e.changeTab=function(t){return e.props.onTabChanged&&e.props.onTabChanged(t),e.setState({selectedTab:t,autoSelect:!1})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){null!==this.state.selectedTab&&b()(e,this.props)||!this.state.autoSelect||(d()(this.props.hours,"payload",[]).find((function(e){return e.clicks>0}))?this.setState({selectedTab:0}):d()(this.props.days,"payload",[]).find((function(e){return e.clicks>0}))?this.setState({selectedTab:1}):d()(this.props.months,"payload",[]).find((function(e){return e.clicks>0}))&&this.setState({selectedTab:2}))}},{key:"render",value:function(){var e=this,t=this.state.selectedTab,a=this.props,n=a.hours,r=a.days,o=a.months,s=d()(n,"payload",[]).find((function(e){return e.clicks>0})),i=d()(r,"payload",[]).find((function(e){return e.clicks>0})),p=d()(o,"payload",[]).find((function(e){return e.clicks>0})),h=0;return c.a.createElement(m.d,{selectedIndex:t||0,onSelect:this.changeTab},c.a.createElement(m.b,{className:"text-right react-tabs-secondary__tab-list StatsChart__tabs"},c.a.createElement(m.a,{className:"react-tabs-secondary__tab",selectedClassName:"react-tabs-secondary__tab--selected"},"Hours"),c.a.createElement(m.a,{className:"react-tabs-secondary__tab",selectedClassName:"react-tabs-secondary__tab--selected"},"Days"),c.a.createElement(m.a,{className:"react-tabs-secondary__tab",selectedClassName:"react-tabs-secondary__tab--selected"},"Months")),c.a.createElement(m.c,null,c.a.createElement("div",{style:{transition:"max-height .3s ease-out",maxHeight:d()(n,"isLoading")?"250px":"500px"}},d()(n,"isLoading")?c.a.createElement(g.a,{height:250}):0===d()(n,"payload",[]).length?c.a.createElement(E,null):s?c.a.createElement(u.a,{selectedBar:this.state.selectedBar,onMouseOver:function(t){return e.setState({selectedBar:t})},onMouseOut:function(){return e.setState({selectedBar:null})},onSelect:function(e,t){},data:n.payload.map((function(e){return{key:Object(l.tz)(e.key,"UTC").format("h A"),value:e.clicks}})),tooltipGenerator:function(e,t){return c.a.createElement("div",null,c.a.createElement("p",{className:"Chart__tootlip__value"},Number.isInteger(e.value)?Object(v.formatNumber)(e.value):e.value," clicks"),c.a.createElement("p",{className:"Chart__tootlip__key"},e.key," (UTC)"))},labelGenerator:function(t){return e.props.width<481?h++%2===0?t:"":t},size:[this.props.width,240]}):c.a.createElement("div",{className:"StatsChart--noResults flex middle-xs center-xs"},c.a.createElement(f.Text,null,"There haven\u2019t been any clicks in the last ",24," hours")))),c.a.createElement(m.c,null,c.a.createElement("div",{style:{transition:"max-height .3s ease-out",maxHeight:d()(r,"isLoading")?"250px":"500px"}},d()(r,"isLoading")?c.a.createElement(g.a,{height:250}):0===d()(r,"payload",[]).length?c.a.createElement(E,null):i?c.a.createElement(u.a,{selectedBar:this.state.selectedBar,onMouseOver:function(t){return e.setState({selectedBar:t})},onMouseOut:function(){return e.setState({selectedBar:null})},onSelect:function(e,t){},data:r.payload.map((function(e){return{key:Object(l.tz)(e.key,"UTC").format("D/MM"),value:e.clicks}})),size:[this.props.width,240],labelGenerator:function(e){return h++%2===0?e:""}}):c.a.createElement("div",{className:"StatsChart--noResults flex middle-xs center-xs"},c.a.createElement(f.Text,null,"There haven\u2019t been any clicks in the last ",30," days")))),c.a.createElement(m.c,null,c.a.createElement("div",{style:{transition:"max-height .3s ease-out",maxHeight:d()(o,"isLoading")?"250px":"500px"}},d()(o,"isLoading")?c.a.createElement(g.a,{height:250}):0===d()(o,"payload",[]).length?c.a.createElement(E,null):p?c.a.createElement(u.a,{selectedBar:this.state.selectedBar,onMouseOver:function(t){return e.setState({selectedBar:t})},onMouseOut:function(){return e.setState({selectedBar:null})},onSelect:function(e,t){},data:o.payload.map((function(e){return{key:Object(l.tz)(e.key,"UTC").format("MMM YYYY"),value:e.clicks}})),size:[this.props.width,240]}):c.a.createElement("div",{className:"StatsChart--noResults flex middle-xs center-xs"},c.a.createElement(f.Text,null,"There haven\u2019t been any clicks in the last ",12," months")))))}}]),a}(i.PureComponent);t.a=y},680:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(32),r=a.n(n),o=a(55),s=a(4),i=a(5),c=a(6),l=a(7),u=a(0),m=a.n(u);function p(e){return function(t){Object(c.a)(n,t);var a=Object(l.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).state={component:null},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=Object(o.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:a=t.sent,n=a.default,this.setState({component:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?m.a.createElement(e,this.props):null}}]),n}(u.Component)}},683:function(e,t,a){},684:function(e,t,a){"use strict";var n=a(28),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(24),m=a.n(u),p=a(1),d=(a(1361),a(8)),h=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={workspacesCount:null,teammatesCount:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;this.fetchingCounts().finally((function(){e.setState({isLoading:!1})}))}},{key:"fetchingCounts",value:function(){var e=this;return Promise.all([Object(d.G)(),Object(d.C)()]).then((function(t){var a=Object(n.a)(t,2),r=a[0],o=a[1];e.setState({workspacesCount:r.count,teammatesCount:o.count})}))}},{key:"render",value:function(){var e=this.props,t=e.history,a=e.activeTab,n=this.state,r=n.workspacesCount,o=n.teammatesCount,s=n.isLoading,i="workspaces"===a;return l.a.createElement("div",{className:"HeaderWrapper"},l.a.createElement(p.ButtonGroup,null,l.a.createElement(p.Button,{onClick:function(){return t.push("/workspaces")},active:i,isLoading:s},l.a.createElement("span",null,r),"\xa0",m()("Workspaces",r)),l.a.createElement(p.Button,{onClick:function(){return t.push("/teammates")},active:!i,isLoading:s},l.a.createElement("span",null,o),"\xa0",m()("Teammates",o))))}}]),a}(c.PureComponent);t.a=h},687:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(32),r=a.n(n),o=a(55),s=a(271),i=a.n(s),c=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[i.a.get("".concat("https://custom.rebrandly.com/apps/","content.json")),i.a.get("".concat("https://custom.rebrandly.com/apps/","content.index.json"))],e.abrupt("return",Promise.all(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},689:function(e,t,a){"use strict";var n=a(2),r=a(28),o=a(0),s=a.n(o),i=a(71),c=a(14),l=a(3),u=a.n(l),m=a(9),p=a.n(m),d=a(305),h=a(42),b=a(47),f=a(11),g=a(62);a(1399);t.a=Object(i.g)(Object(c.b)((function(e){return{account:e.account,session:e.session}}),(function(e){return{loadData:function(){return e(Object(h.g)())}}}))((function(e){var t=e.loadData,a=e.account,i=e.session,c=Object(o.useState)({}),l=Object(r.a)(c,2),m=l[0],h=l[1],v=Object(o.useContext)(g.d).theme;Object(o.useEffect)((function(){i.isLogged&&p()(m)&&t().then((function(e){h(Object(n.a)({companyEmail:u()(a,"email")},e.value))})).catch((function(){return h({companyEmail:u()(a,"email")})}))}),[a,t,i.isLogged,m]);var E=u()(a,"subscription.category","free"),y="free"===E||"early"===E;return s.a.createElement(d.ContactUs,{env:f.b,onSuccess:function(){b.a.track("success-page-loaded",{location:window.location.href,page:window.location.pathname}),b.a.track("contact-form-submitted")},isLogged:i.isLogged,isChargeFree:y,data:m,requestType:"email",theme:v})})))},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"l",(function(){return p})),a.d(t,"i",(function(){return d})),a.d(t,"m",(function(){return f})),a.d(t,"f",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"t",(function(){return E})),a.d(t,"r",(function(){return y})),a.d(t,"p",(function(){return k})),a.d(t,"q",(function(){return O})),a.d(t,"j",(function(){return w})),a.d(t,"s",(function(){return j})),a.d(t,"o",(function(){return C})),a.d(t,"h",(function(){return N})),a.d(t,"g",(function(){return S})),a.d(t,"k",(function(){return x})),a.d(t,"n",(function(){return L})),a.d(t,"e",(function(){return b})),a.d(t,"d",(function(){return h}));var n=a(0),r=a.n(n),o=a(1),s=a(35),i=a(13),c=a(180),l=a(223),u=(a(1308),function(e){var t=e.onClick,a=e.disabled;return r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-apis",color:"var(--color-white)"}),title:"You don't have any API keys",button:r.a.createElement(o.Button,{theme:"primary",label:"Generate new API key",onClick:t,disabled:a})})}),m=function(){return r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-billing",color:"var(--color-white)"}),title:"Your billing history is empty!",message:r.a.createElement("span",null,"No transactions yet, when you ",r.a.createElement(i.a,{to:"/pricing",size:"lg"},"upgrade your plan")," or purchase a ",r.a.createElement(i.a,{to:"/domains",size:"lg"},"domain name")," your billing history will appear here")})},p=function(e){var t=e.onClick;return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-no-results",color:"var(--color-white)"}),title:"No results found",button:r.a.createElement(o.Button,{theme:"primary",label:"Reset search",onClick:t})})},d=function(){return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-link",color:"var(--color-white)"}),title:"You don't have any links",button:r.a.createElement(i.a,{to:{pathname:"/links/new",state:{modal:!0}}},r.a.createElement(o.Button,{theme:"primary",label:"New link","rb-test-id":"new-link-button"}))})},h=function(){return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-subdomain",color:"var(--color-white)"}),title:"You don't have any domains",button:r.a.createElement(i.a,{to:{pathname:"/domains/new"}},r.a.createElement(o.Button,{theme:"primary",label:"New domain","rb-test-id":"new-link-button"}))})},b=function(e){var t=e.message,a=e.size,n=t||"Your timeline is still empty";return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-notifications"}),title:n,size:a})},f=function(e){var t=e.onClick;return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-no-results",color:"var(--color-white)"}),title:"No results found",button:r.a.createElement(o.Button,{theme:"primary",label:"Show all links",onClick:t})})},g=function(e){var t=e.onClick;return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-link",color:"var(--color-white)"}),title:"No links for these filters",button:r.a.createElement(o.Button,{label:"Reset filters",onClick:t})})},v=function(){return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-cart",color:"var(--color-white)"}),title:"Your cart is empty",button:r.a.createElement(i.a,{to:"/domains/new"},r.a.createElement(o.Button,{theme:"primary",label:"New domain"}))})},E=function(){return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-teammates",color:"var(--color-white)"}),title:"You don't have any workspaces",message:"You need at least one workspace to create links and use Rebrandly"})},y=function(e){var t=e.fullName,a=e.id;return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-teammates",color:"var(--color-white)"}),title:"".concat(t," doesn't have any workspaces assigned"),message:"",button:r.a.createElement(i.a,{"data-toggle":!0,size:"lg",to:{pathname:"/teammates/".concat(a,"/invite"),state:{modal:!0}},"rb-test-id":"create-personal-workspace-item"},r.a.createElement(o.Button,{label:"Assign workspaces",theme:"primary"}))})},k=function(e){var t=e.onClick;return r.a.createElement(s.a,{illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-no-results",color:"var(--color-white)"}),title:"No results found",button:r.a.createElement(o.Button,{theme:"primary",label:"Show all workspaces",onClick:t})})},O=function(e){var t=e.shortUrl;e.onRefresh;return r.a.createElement(s.a,{"rb-test-id":"no-clicks-stats",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-analytics-empty",className:"empty-spot",color:"var(--color-grey-800)"}),title:"There haven\u2019t been any clicks yet",button:t&&r.a.createElement("div",{className:"m-t-8"},r.a.createElement(i.a,{href:t,size:"lg",target:"_blank"},"Be the first to click"))})},w=function(e){var t,a=e.workspaceId;return t=e.hasInvites?{title:"No active teammates yet!",message:"Please check again later",label:"Invite more teammates"}:{title:"Bring your team along!",message:"You haven\u2019t invited your team to Rebrandly yet. Take collaboration to the next level with your teammates!",label:"Invite teammates"},r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-teammates"}),title:t.title,message:t.message,button:r.a.createElement(c.a,{workspaceId:a},r.a.createElement(i.a,{to:{pathname:"/workspaces/".concat(a,"/invite"),state:{modal:!0}}},r.a.createElement(o.Button,{theme:"primary",label:t.label})))})},j=function(e){var t,a=e.hasInvites,n=e.upgrade;return t=n?{title:"Teammates not available!",message:"Upgrade to unblock teammates",label:"Upgrade",pathname:"/pricing"}:a?{title:"No active teammates yet!",message:"Please check again later",label:"Invite more teammates",pathname:"/teammates/invite"}:{title:"Bring your team along!",message:"You haven\u2019t invited your team to Rebrandly yet. Take collaboration to the next level with your teammates!",label:"Invite teammates",pathname:"/teammates/invite"},r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-teammates"}),title:t.title,message:t.message,button:n?r.a.createElement(i.a,{to:{pathname:t.pathname}},r.a.createElement(o.Button,{theme:"primary",label:t.label})):r.a.createElement(l.a,null,r.a.createElement(i.a,{to:{pathname:t.pathname,state:{modal:!0}}},r.a.createElement(o.Button,{theme:"primary",label:t.label})))})},C=function(e){var t=e.onClick;return r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-no-results",color:"var(--color-white)"}),title:"No results found",message:"You haven\u2019t invited your team to Rebrandly yet. Take collaboration to the next level with your teammates!",button:r.a.createElement(o.Button,{theme:"primary",label:"Show active teammates",onClick:t})})},N=function(e){var t=e.workspaceId;return r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-teammates",color:"var(--color-white)"}),title:"No teammates for these filters",button:r.a.createElement(i.a,{to:"/workspaces/".concat(t,"/teammates")},r.a.createElement(o.Button,{theme:"primary",label:"Reset filters"}))})},S=function(){return r.a.createElement(s.a,{size:"sm",illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-empty-list-teammates",color:"var(--color-white)"}),title:"No teammates for these filters",button:r.a.createElement(i.a,{to:"/teammates"},r.a.createElement(o.Button,{theme:"primary",label:"Reset filters"}))})},x=function(e){var t=e.title,a=e.message,n=e.illustration;return r.a.createElement(s.a,{title:t,message:a,illustration:r.a.createElement(o.SpotIllustration,{name:n,color:"var(--color-white)"})})},L=function(e){var t=e.message,a=e.onClick;return r.a.createElement(s.a,{title:"No results found",message:t,illustration:r.a.createElement(o.SpotIllustration,{name:"ill-spot-no-results",color:"var(--color-white)"}),button:r.a.createElement(o.Button,{theme:"primary",label:"Reset search",onClick:a})})}},701:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(14),u=a(71),m=a(1),p=a(180),d=a(13),h=a(36),b=a(77),f=a(22),g=a(41),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).showWorkspaceLinks=function(){return e.props.setContext(e.props.workspace.id).then((function(){return e.props.history.push("/links")}))},e}return Object(r.a)(a,[{key:"renderDeleteAction",value:function(){var e=parseInt(this.props.workspace.links),t=this.props.workspace.type===b.c,a=!0===this.props.workspace.default;if(t)return c.a.createElement(h.c,{"rb-test-id":"workspace-delete-button",tooltip:{overlay:c.a.createElement("span",null,"You can\u2019t delete an extended workspace, ",c.a.createElement("br",null)," for more information please ",c.a.createElement(d.a,{href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"contact us")),placement:"top"},disabled:!0});if(a)return c.a.createElement(h.c,{"rb-test-id":"workspace-delete-button",tooltip:{overlay:c.a.createElement("span",null,"You cannot delete the default workspace"),placement:"top"},disabled:!0});if(e)return c.a.createElement(h.c,{"rb-test-id":"workspace-delete-button",iconName:"ic-trash-bin",tooltip:{overlay:c.a.createElement("span",null,"To delete a workspace you must",c.a.createElement("br",null),"first completely delete all of its ",c.a.createElement(d.a,{size:"sm",onClick:this.showWorkspaceLinks},"links"),"."),placement:"top"},disabled:!0,onDelete:this.props.onDelete});var n={icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete workspace?",message:c.a.createElement("span",null,"To delete a workspace you must first completely delete all of its ",c.a.createElement(d.a,{size:"lg",onClick:this.showWorkspaceLinks},"links"),". Deleting a workspace is a permanent action and cannot be undone. It will result in you and all of your teammates losing access to all of its links and you will not be able to recover this information later."),primaryButtonProps:{label:"Delete",theme:"delete"}};return c.a.createElement(h.c,{"rb-test-id":"workspace-delete-button",iconName:"ic-trash-bin",tooltip:{overlay:"Delete",placement:"top"},confirmableProps:n,onDelete:this.props.onDelete})}},{key:"renderLeaveAction",value:function(){return c.a.createElement(h.c,{"rb-test-id":"workspace-delete-button",iconName:"ic-exit",tooltip:{overlay:"Leave",placement:"top"},confirmableProps:{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Leave workspace?",message:"Leaving will result in you losing the access to this workspace and all of its associated links. You will not be able to recover the access unless you are invited back.",primaryButtonProps:{label:"Leave",theme:"delete"}},onDelete:this.props.onLeave})}},{key:"renderInviteAction",value:function(){return c.a.createElement(p.a,{workspaceId:this.props.workspace.id,tooltip:{overlay:"Invite teammates",placement:"top"}},c.a.createElement(m.IconButton,{"rb-test-id":"workspace-add-invites-button",theme:"ghost",icon:{name:"ic-people-add",color:"#909398",size:"sm"},onClick:this.props.onInvite}))}},{key:"renderLinksAction",value:function(){return c.a.createElement(m.Tooltip,{overlay:"List of links",placement:"top"},c.a.createElement(m.IconButton,{"rb-test-id":"workspace-links-button",theme:"ghost",onClick:this.props.onGoToLinks,icon:{name:"ic-link",color:"#909398",size:"sm"}}))}},{key:"renderStatsAction",value:function(){var e={placement:this.props.canViewStats?"top":"left",overlay:this.props.canViewStats?"Workspace stats":c.a.createElement("span",null,"You are not allowed to access",c.a.createElement("br",null),"report for this workspace.")};return c.a.createElement(m.Tooltip,e,c.a.createElement(m.IconButton,{disabled:!this.props.canViewStats,theme:"ghost",onClick:this.props.onGoToStats,icon:{name:"ic-stats",color:"#909398",size:"sm"}}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"WorkspaceActions flex middle-xs"},this.props.showLinksAction&&this.renderLinksAction(),this.props.showStatAction&&this.renderStatsAction(),this.props.showInviteAction&&this.renderInviteAction(),this.props.showDeleteAction&&this.props.canDeleteWorkspace&&this.renderDeleteAction(),this.props.showDeleteAction&&!this.props.canDeleteWorkspace&&this.renderLeaveAction())}}]),a}(i.PureComponent);v.defaultProps={showStatAction:!0,showInviteAction:!0,showDeleteAction:!0,showLinksAction:!0,onInvite:function(){},onDelete:function(){},onLeave:function(){},onGoToLinks:function(){},onGoToStats:function(){}};t.a=Object(u.g)(Object(l.b)((function(e,t){return{canViewStats:Object(f.d)(e,t.workspace.id,"view","workspaces.stats"),canDeleteWorkspace:Object(f.d)(e,t.workspace.id,"delete","workspaces")}}),(function(e){return{setContext:function(t){return e(Object(g.g)(t))}}}))(v))},702:function(e,t,a){"use strict";var n=a(2),r=a(0),o=a.n(r),s=a(1),i=a(9),c=a.n(i),l=a(3),u=a.n(l),m=a(14),p=a(19),d=a(24),h=a.n(d),b=a(13),f=a(26),g=(a(1354),Object(m.b)((function(e){return{cart:e.cart,price:e.cart.price}}))((function(e){var t=e.cart,a=e.price,n=Object.values(t.items);if(0===n.length)return null;var r=n.length>1?"".concat(n.length," Items in your cart"):n[0].fullName,i={};if(f.h){var c=document.getElementsByClassName("NavigationTagBar");if(c.length){var l=c[0];i={bottom:document.defaultView.getComputedStyle(l,"").getPropertyValue("height")}}}return o.a.createElement("div",{className:"DomainRegisterCart",style:i},o.a.createElement("div",{className:"Container--narrow"},o.a.createElement("div",{className:"row middle-xs between-xs"},o.a.createElement("div",{className:"display-none display-sm-block col-sm"},o.a.createElement(s.Text,{className:"DomainRegisterCart__title"},r)),o.a.createElement("div",{className:"col-xs"},o.a.createElement("div",{className:"row middle-xs between-xs end-sm"},o.a.createElement(s.Text,{className:"DomainRegisterCart__price display-none display-sm-block"},"$",Object(p.formatNumber)(a.net,2)),o.a.createElement(s.Text,{className:"DomainRegisterCart__price display-block display-sm-none"},n.length," ",h()("Domain",n.length)),o.a.createElement(b.a,{to:"/checkout/domains?cartID="+t.id},o.a.createElement(s.Button,{"rb-test-id":"register-domains-checkout-button",label:"Checkout",theme:"checkout",size:"lg"})))))))}))),v=a(21),E=a(15),y=a(4),k=a(5),O=a(6),w=a(7),j=a(23),C=a.n(j),N=a(514),S=a.n(N),x=a(171),L=function(e){Object(O.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1},e.handleOnClick=function(){var t=u()(e.props.actionButtonProps,"onClick");if(!t)return!1;e.setState({isLoading:!0}),t().then((function(){})).catch((function(){})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(k.a)(a,[{key:"render",value:function(){var e;return e=this.props.isCoupon?o.a.createElement(s.Text,{className:"Text--Disable line-through m-r-24"},"$",this.props.renewalPrice):this.props.currentPrice<this.props.renewalPrice?o.a.createElement(s.Text,{size:"x-small",className:"Text--Disable m-r-4"},o.a.createElement("span",{className:"line-through m-r-4"},"$",this.props.renewalPrice),"NOW"):o.a.createElement(s.Text,{size:"x-small",className:"Text--Disable m-r-4"},"ONLY"),this.props.availability===x.b?o.a.createElement(r.Fragment,null,e,!this.props.isCoupon&&o.a.createElement(s.Tooltip,{overlay:o.a.createElement("span",null,"First year, then $",this.props.renewalPrice," renewal. ",o.a.createElement(b.a,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/225551448-Domain-Pricing-for-Custom-Short-Urls"},"Learn more")),placement:"top"},o.a.createElement(s.Text,{className:"Text--Price m-r-24"},"$",this.props.currentPrice)),this.state.isLoading?o.a.createElement(s.Loading,{size:"md"}):o.a.createElement(s.Button,Object.assign({className:"DomainPurchaseButton",isLoading:this.state.isLoading},this.props.actionButtonProps,{onClick:this.handleOnClick}))):o.a.createElement(s.Text,{className:"DomainItem__unavailable Text--SubDetail",size:"small"},!!this.props.availability&&(this.props.availability===x.d?"Couldn\u2019t check domain details":"Not available"))}}]),a}(r.PureComponent),T=function(e){Object(O.a)(a,e);var t=Object(w.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.domain,n=t.actionButtonProps,r=t.isCoupon,i=t.isInCart,c=a.availability,l=!!c,m=c===x.b&&u()(a,"tld.isRecommended"),p=(e={},Object(E.a)(e,x.b,o.a.createElement(s.Icon,{name:"ic-success",size:"sm",color:"#02af63"})),Object(E.a)(e,x.c,o.a.createElement(s.Icon,{name:"ic-circle-cross",size:"sm",color:"#c7c9cb"})),Object(E.a)(e,x.d,o.a.createElement(s.Icon,{name:"ic-question-mark",size:"sm",color:"#f5be00"})),e);return o.a.createElement(v.e,{className:C()("Container--narrow","DomainItem--".concat(a.availability),{"DomainItem--inCart":i})},o.a.createElement(v.c,{className:"col-xs-12 col-sm-8"},o.a.createElement("div",{className:"flex middle-xs"},l?o.a.createElement("div",{className:"DomainItem__status"},i?o.a.createElement(s.Icon,{name:"ic-cart",color:"var(--color-blue-600)"}):p[c]):o.a.createElement(s.Loading,{size:"sm"}),o.a.createElement("div",{className:"ellipsis"},o.a.createElement(S.a,null,o.a.createElement("span",{style:{fontSize:"var(--display-small)"},className:"Text--Price m-r-16 m-l-12"},a.suggestion))),m&&o.a.createElement("div",{className:"DomainItem__recommended display-none display-sm-block"},o.a.createElement(s.Tag,{size:"sm",label:"Recommended"})))),o.a.createElement(v.c,{className:"DomainItem__price col-xs-12 col-sm flex middle-xs end-xs"},o.a.createElement(L,{currentPrice:a.tld.currentPrice,renewalPrice:a.tld.renewalPrice,availability:a.availability,isInCart:i,isCoupon:r,actionButtonProps:n})))}}]),a}(r.PureComponent),_=a(86);a(1355),t.a=function(e){var t=e.domains,a=e.visibleDomains,i=e.cartItems,l=e.cartPrice,m=e.onRemoveFromCart,p=e.requestDomain,d=e.search,h=e.isSearching,b=e.requestMoreDomains,f=e.buttonLabel,E=e.name,y=e.isCoupon,k=e.hideCartFooter,O=t.length;return 0===t.length&&O>0?o.a.createElement(s.Text,{className:"text-center m-t-36 m-b-36"},"No domains match the filter you have set"):o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"m-t-24"},o.a.createElement(v.a,null,o.a.createElement(v.f,null,a.map((function(e){var t=!c()(i)&&i.findIndex((function(t){return t.fullName===e.suggestion}))>-1,a={label:f,theme:"checkoutInverted",onClick:function(){return p(e)},"rb-test-id":E};return t&&(a=Object(n.a)(Object(n.a)({},a),{},{label:"Remove",theme:"link",onClick:function(){return m(e)},"rb-test-id":E})),o.a.createElement(T,{key:e.suggestion,domain:e,actionButtonProps:a,isInCart:t,isCoupon:y})}))))),o.a.createElement(_.a,{key:d+u()(a,"length",0).toString(),isLoading:!!h,canLoadMore:a.length<t.length,loadingLabel:"Searching, please wait...",onLoadMore:b,infinite:!0}),!k&&o.a.createElement(g,{price:l,items:i}))}},704:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(3),u=a.n(l),m=a(155),p=a.n(m),d=a(1),h=a(178),b=a(49),f=a(270),g=a(15),v=a(512),E=a(23),y=a.n(E),k=a(46),O=a.n(k),w=a(255),j=a(166),C=a(167),N=a(165),S=a(58),x=a(78),L=a(31),T=(a(1341),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isEditing:!1,isLoading:!1,destination:e.props.destination||""},e.handleChangeDestination=function(t){var a=t.target,n=a.value,r=a.name;r&&e.setState(Object(g.a)({},r,n))},e.handleCancel=function(){return e.setState({isEditing:!1,destination:e.props.destination})},e.openEditDestination=function(){e.props.disabled||e.setState({isEditing:!0})},e.handleClickOutside=function(t){if(!e.state.isEditing)return null;e.setState({isEditing:!1})},e.handleEditDestination=function(t){return t&&t.preventDefault(),new Promise((function(t){e.setState({isLoading:!0},(function(){return e.props.onSubmit(e.state.destination).then((function(){e.setState({isEditing:!1}),t()})).finally((function(){e.setState({isLoading:!1}),t()}))}))}))},e.handleSocialFormSubmit=function(t){return new Promise((function(a){e.setState({destination:decodeURIComponent(t)},(function(){e.handleEditDestination().then(a)}))}))},e.handleSocialFormDelete=function(){e.setState({isEditing:!0}),e.handleChangeDestination({target:{value:"",name:"destination"}})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){O()(e.destination,this.props.destination)||this.setState({destination:this.props.destination})}},{key:"renderPreview",value:function(){var e,t=Object(L.o)(this.props.destination),a=!this.props.disabled&&c.a.createElement(d.Icon,{className:"LinkDestinationEdit__editIcon m-l-8",name:"ic-edit",size:"tiny",color:"#909398"}),n=c.a.createElement("span",{className:y()("flex middle-xs",{"LinkDestinationEdit__text--canEdit":!this.props.disabled})},c.a.createElement(d.Icon,{className:"m-r-8",name:t["rb-dashboard-composer"]===L.f?"ic-mail":t["rb-dashboard-composer"]===L.h?"ic-device-smartphone":"ic-phone-call",size:"xsmall",color:"var(--color-grey-200"}),t.subject&&c.a.createElement(d.Text,{size:"small",className:y()("Text-Title",{"Text--SubDetail":this.props.disabled}),singleLine:!0},"Subject: ",t.subject),c.a.createElement(d.Text,{size:"small",className:y()("Text-Title m-l-8",{"Text--SubDetail":this.props.disabled}),singleLine:!0},"To: ",t.to),a);switch(t["rb-dashboard-composer"]){case L.h:e=c.a.createElement(j.a,{buttonLabel:"Save",disabled:this.props.disabled,onGenerateClick:this.handleSocialFormSubmit,toList:Object(x.d)(t.to),message:t.body,deleteProps:{onClick:this.handleSocialFormDelete}},n);break;case L.j:e=c.a.createElement(C.a,{buttonLabel:"Save",disabled:this.props.disabled,onGenerateClick:this.handleSocialFormSubmit,phoneNumber:t.to,deleteProps:{onClick:this.handleSocialFormDelete}},n);break;case L.f:e=c.a.createElement(N.a,{buttonLabel:"Save",disabled:this.props.disabled,onGenerateClick:this.handleSocialFormSubmit,toList:Object(x.d)(t.to),subject:t.subject,message:t.body,ccList:Object(x.d)(t.cc),bccList:Object(x.d)(t.bcc),deleteProps:{onClick:this.handleSocialFormDelete}},n);break;default:e=c.a.createElement("span",{className:y()("flex middle-xs",{"LinkDestinationEdit__text--canEdit":!this.props.disabled}),onClick:this.openEditDestination},c.a.createElement(d.Text,{size:"small",className:y()("Text-Title",{"Text--SubDetail":this.props.disabled}),singleLine:!0},this.props.destination),a)}return e}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:y()("LinkDestinationEdit",{"LinkDestinationEdit--notEditing":!this.state.isEditing,"LinkDestinationEdit--editing":this.state.isEditing})},this.state.isEditing?c.a.createElement("form",{onChange:this.handleChangeDestination,onSubmit:this.handleEditDestination},c.a.createElement(w.a,{name:"destination",value:this.state.isEditing?this.state.destination:this.props.destination,onChange:this.handleChangeDestination,onSubmit:this.handleEditDestination,workspaceId:this.props.workspaceId}),c.a.createElement("div",{className:"m-t-12"},c.a.createElement(d.Button,{label:"Save",theme:"primary",type:"submit",disabled:!Object(S.h)(this.state.destination),isLoading:this.state.isLoading}),c.a.createElement(d.Button,{className:"m-l-12",label:"Cancel",onClick:function(){return e.handleCancel()}}))):this.renderPreview())}}]),a}(i.PureComponent)),_=Object(v.a)(T,{excludeScrollbar:!0}),D=a(39),A=a(26),I=(a(1342),[{label:"ClickMeter stats",destinationToCheck:"rebrandly.click",icon:{name:"ic-clickmeter"}},{label:"Bitly stats",destinationToCheck:"bit.ly",icon:{name:"ic-bitly"}},{label:"Bitly stats",destinationToCheck:"j.mp",icon:{name:"ic-bitly"}},{label:"Goo.gl stats",destinationToCheck:"goo.gl",icon:{name:"ic-google"}}]),M=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1},e.handleRemoveExpirationDate=function(){return e.setState({isLoading:!0}),e.props.onRemoveExpiration().finally((function(){return e.setState({isLoading:!1})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.clipboard=new p.a(".copy")}},{key:"renderActions",value:function(){var e=this.props,t=e.link,a=e.onToggleFavouriteClick,n=e.showAvatar,r=e.canEdit,o=u()(t,"destination"),s=u()(t,"integrated")&&o&&I.find((function(e){var t=e.destinationToCheck;return o.includes(t)}));return c.a.createElement("div",{className:"LinkHeader__actions flex middle-xs"},s&&c.a.createElement("div",{className:"m-r-16"},c.a.createElement(d.Tooltip,{placement:"top",overlay:s.label},c.a.createElement(d.IconButton,{theme:"ghost",onClick:function(){return window.open("".concat(o,"+"),"_blank")},icon:s.icon}))),n&&t.creator&&c.a.createElement("div",{className:"m-r-16"},c.a.createElement(d.Tooltip,{overlay:"Created by ".concat(t.creator.fullName),placement:"bottom"},c.a.createElement("span",null,c.a.createElement(d.Avatar,{size:"small",img:t.creator.avatarUrl})))),c.a.createElement(f.a,{link:this.props.link,onLove:a,onDelete:this.props.onDelete,onTrash:this.props.onTrash,showLoveAction:r,showDeleteAction:!A.d,showTrashAction:!A.d,showVisitAction:!A.d,showCopyAction:!0,showShareAction:!A.d,showQRCodeAction:!0,shareWithDropdown:!A.d}))}},{key:"render",value:function(){var e=this,t=u()(this.props.link,"shortUrl"),a=u()(this.props.link,"title"),n=u()(this.props.link,"integrated"),r=u()(this.props.link,"createdAt"),o=u()(this.props.link,"expiredAt"),s=c.a.createElement("span",null,"You cannot change the destination URL for this ",c.a.createElement("br",null),"link as it is integrated with third-party apps. ",c.a.createElement("br",null),"Please ",c.a.createElement(d.A,{href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"contact our support")," for more info.");return c.a.createElement("header",{className:"LinkHeader m-b-4"},c.a.createElement("div",{className:"LinkHeaderContent"},this.props.canEdit?c.a.createElement(b.a,{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Edit the URL slug?",message:" Editing this branded link's slug (slashtag) will cause all previously collected link stats to be lost.",primaryButtonProps:{label:"Edit branded link"}},c.a.createElement("div",{onClick:this.props.handleOpenEditSlashtag,className:"LinkHeaderContent__destination LinkHeaderContent__destination--canEdit flex middle-xs"},c.a.createElement(h.a,{destination:u()(this.props.link,"destination")}),c.a.createElement(d.Text,{size:"large",singleLine:!0,className:"Text-Title m-l-12"},t),c.a.createElement(d.Icon,{className:"LinkHeaderContent__editIcon m-l-4",color:"var(--color-blue-400)",name:"ic-edit",size:"tiny"}))):c.a.createElement("div",{className:"LinkHeaderContent__destination flex middle-xs"},c.a.createElement(h.a,{destination:u()(this.props.link,"destination")}),c.a.createElement(d.Text,{size:"large",singleLine:!0,className:"Text-Title m-l-12"},t)),c.a.createElement("div",{className:"display-none display-sm-flex"},this.renderActions())),c.a.createElement("div",{className:"m-t-12 m-b-4"},this.props.canEdit?c.a.createElement(d.InlineInput,{className:"LinkHeader__title Text--Detail",name:"title",value:a,label:"Link title",type:"text",onSubmit:this.props.onTitleSubmit,isValid:function(e){return e.length>2},showButtons:!0,singleLine:!0}):c.a.createElement(d.Text,{size:"small",className:"Text--Detail"},a)),c.a.createElement("div",{className:"m-t-4"},c.a.createElement("div",{className:"LinkHeader__flex-block flex"},c.a.createElement(_,{workspaceId:u()(this.props.link,"workspace"),destination:u()(this.props.link,"destination"),domainName:u()(this.props.link,"domainName",""),disabled:!this.props.canEdit,onSubmit:this.props.onDestinationSubmit,outsideClickIgnoreClass:"ignore-editdestination-onclickoutside"}),n&&!A.d&&c.a.createElement("div",{className:"m-l-8"},c.a.createElement(d.Tooltip,{placement:"top",overlay:s},c.a.createElement(d.Icon,{color:"#c7c9cb",size:"tiny",name:"ic-help"})))),r&&c.a.createElement("div",{className:"OptionRow m-t-4"},c.a.createElement(d.Icon,{className:"m-r-12",name:"ic-calendar",size:"xsmall",color:"#c7c9cb"}),c.a.createElement("div",{className:"OptionRow__body"},c.a.createElement(d.Text,{"rb-test-id":"link-created-on",size:"small"},Object(D.a)(r,"MMM DD, YYYY")))),o&&c.a.createElement("div",{className:"OptionRow m-t-4"},c.a.createElement(d.Icon,{className:"m-r-12",name:"ic-link",size:"xsmall",color:"#c7c9cb"}),c.a.createElement("div",{className:"OptionRow__body"},c.a.createElement(b.a,{ref:function(t){return e.confirmRemoveExpiration=t},icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Remove link expiration?",message:"If you choose to remove the expiration date from this link, you will not be able to undo this action. You can delete this link manually from within your dashboard at any stage.",primaryButtonProps:{label:"Delete expiration",isLoading:this.state.isLoading,theme:"delete",onClick:function(){return e.handleRemoveExpirationDate().then((function(){e.confirmRemoveExpiration&&e.confirmRemoveExpiration.hideModal()}))}}},c.a.createElement(d.Button,{label:"Expires on "+Object(D.a)(o,"MMM DD, YYYY"),theme:"select"}))))),c.a.createElement("div",{className:"display-sm-none display-xs-flex m-t-16"},this.renderActions()))}}]),a}(i.PureComponent);t.a=M},705:function(e,t,a){"use strict";(function(e){var n=a(2),r=a(28),o=a(0),s=a.n(o),i=a(14),c=a(707),l=a.n(c),u=a(708),m=a(105),p=a(392),d=a(3),h=a.n(d),b=a(11),f=a(738),g=a(737),v=a(735),E=a(62),y=a(63),k=Object(u.a)(b.a.payments.stripe.key);t.a=Object(p.hot)(e)((function(){var e=Object(o.useState)(Object(n.a)(Object(n.a)({},E.d._currentValue),{},{theme:y.a.get("colorScheme")||h()(window.rebrandly,"appearance.colorScheme.detected")})),t=Object(r.a)(e,2),a=t[0],c=t[1],u=Object(o.useCallback)((function(){return c((function(e){var t=e.theme===E.a;t?document.documentElement.classList.remove("is-dark-mode"):document.documentElement.classList.add("is-dark-mode");var a=t?E.b:E.a;return y.a.set("colorScheme",a),Object(n.a)(Object(n.a)({},e),{},{theme:a})}))}),[]);Object(o.useEffect)((function(){c((function(e){return Object(n.a)(Object(n.a)({},e),{},{onToggleTheme:u})}))}),[u]);var p=function(e){var t=e.matches?"dark":"default";window.rebrandly=Object(n.a)(Object(n.a)({},window.rebrandly),{},{appearance:{colorScheme:{detected:t}}}),y.a.get("colorScheme")||(e.matches?document.documentElement.classList.add("is-dark-mode"):document.documentElement.classList.remove("is-dark-mode"),c((function(e){return Object(n.a)(Object(n.a)({},e),{},{theme:t})})))};return Object(o.useEffect)((function(){var e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener?e.addEventListener("change",p):e.addListener(p)}),[]),s.a.createElement(i.a,{store:f.a},s.a.createElement(o.StrictMode,null,s.a.createElement(v.a,null,s.a.createElement(m.Elements,{stripe:k,locale:"en"},s.a.createElement(E.c,{value:a},s.a.createElement(l.a,{action:u,code:[38,38,40,40,37,39,37,39],timeout:1e3}),s.a.createElement(g.a,null))))))}))}).call(this,a(281)(e))},72:function(e,t,a){"use strict";a.d(t,"i",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return f})),a.d(t,"j",(function(){return g})),a.d(t,"m",(function(){return v})),a.d(t,"k",(function(){return E})),a.d(t,"l",(function(){return y})),a.d(t,"n",(function(){return k}));var n=a(138),r=a(3),o=a.n(r),s=a(9),i=a.n(s),c="desc",l="createdAt",u="customHomepage",m="custom404",p="sharing",d="autorenew",h="verified",b="verifying",f="unverified",g="error",v=function(){return[{label:"Latest",value:"latest",params:{orderBy:l,orderDir:c}},{label:"Name AZ",value:"az",params:{orderBy:"fullName",orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:"fullName",orderDir:c}}]},E=function(e){var t=v(),a=e.accountDomains.params;return t.find((function(e){return e.params.orderBy===a.orderBy&&e.params.orderDir===a.orderDir}))},y=function(e){return Object(n.getSubdomain)(e)?3:2},k=function(e){var t=o()(e,"routing.hostnames",[]);if(i()(t))return!1;var a=t.find((function(t){return t.hostname===e.fullName}));return!!a&&"application"===a.layer}},735:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),s=a(7),i=a(0),c=a.n(i),l=a(1),u=a(35),m=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={hasError:!1,error:null},r}return Object(r.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error("Dashboard error: ",e,t)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement(u.a,{size:"lg",illustration:c.a.createElement(l.SpotIllustration,{size:"lg",name:"ill-spot-rebrandly"}),title:"Something went wrong",button:c.a.createElement(l.Button,{size:"lg",theme:"primary",label:"Go to Rebrandly.com",onClick:function(){return window.location.reload()}})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),a}(i.Component);t.a=m},737:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(34),s=a(71),i=a(3),c=a.n(i),l=a(29),u=a.n(l),m=a(11),p=a(32),d=a.n(p),h=a(55),b=a(8),f=m.a.intercomAppId,g={isLoaded:!!window.Intercom,init:function(){var e=Object(h.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoaded){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=7;break}return e.next=5,Object(b.Vc)(t.id);case 5:n=e.sent,window.Intercom("boot",{app_id:f,email:t.email,name:t.fullName,user_id:t.id,user_hash:n.intercomHash});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(e){this.isLoaded&&window.Intercom("update",{name:e.fullName})},shutdown:function(){this.isLoaded&&window.Intercom("shutdown")}},v=a(1),E=a(4),y=a(5),k=a(6),O=a(7),w=a(14),j=a(23),C=a.n(j),N=a(41),S=a(155),x=a.n(S),L=a(9),T=a.n(L),_=a(374),D=a(178),A=a(66),I=(a(1291),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){new x.a(".copy")}},{key:"render",value:function(){var e=c()(this.props.link,"shortUrl"),t=c()(this.props.link,"title"),a=c()(this.props.link,"destination"),o="https"===c()(this.props.link.domain,"sharing.protocol.default","https"),s=Object(A.a)(e,o);return!T()(this.props.link)&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row m-b-8"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(D.a,{destination:c()(this.props.link,"destination")}),r.a.createElement(v.Text,{size:"large",singleLine:!0,className:"Text-Title m-l-8"},e)))),t&&r.a.createElement("div",{className:"row m-b-4"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"ShareLink__title Text--Detail"},t))),a&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail",singleLine:!0},a))),r.a.createElement("div",{className:"row m-t-24"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"row middle-xs"},e&&o&&r.a.createElement("div",{className:"m-r-16"},r.a.createElement(v.Tooltip,{placement:"top",trigger:["click"],overlay:"Copied!"},r.a.createElement(v.Button,{"data-clipboard-text":s,className:"copy",label:"Copy link"}))),r.a.createElement(_.a,{link:this.props.link})))))}}]),a}(n.PureComponent)),M=a(43),R=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.loadLink()}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement(v.Loading,{size:"lg",label:"Loading",withMargin:!0}):r.a.createElement(I,{link:this.props.link})}}]),a}(n.PureComponent),P=Object(w.b)((function(e,t){return{link:c()(e.links.items,"[".concat(t.id,"]"),{}),isLoading:e.links.isLoading}}),(function(e,t){return{loadLink:function(){return e(Object(M.s)(t.id))}}}))(R),z=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(P,{id:t.params.id}))},F=a(2),U=a(17),B=a(257),W=a(18),G=a(85),H=a(22),q=a(12),V=Object.values(H.c).filter((function(e){return"owner"!==e.value})),Y=V.find((function(e){return"user"===e.value})),K=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onUpdateTeammates=function(e){n.shallowTeammates=n.state.asyncTeammates.filter((function(t){return t.value!==e.value})),n.setState({teammates:[].concat(Object(U.a)(n.state.teammates),[e.value]),emailsJoined:[].concat(Object(U.a)(n.state.emailsJoined),[e.label]),forceRedrawing:!n.state.forceRedrawing})},n.onUpdateEmails=function(e){var t=n.state.asyncTeammates.filter((function(t){return e.includes(t.label)}));n.shallowTeammates=n.state.asyncTeammates.filter((function(t){return!e.includes(t.label)}));var a=t.map((function(e){return e.label})),r=e.filter((function(e){return!a.includes(e)})),o=t.map((function(e){return e.value}));n.setState({emails:r,emailsJoined:e,teammates:o,forceRedrawing:!n.state.forceRedrawing})},n.onChangeEmailField=function(e){return n.setState({emailField:e})},n.onChangeRoleField=function(e){return n.setState({roleField:e})},n.onChangeMessageField=function(e){return n.setState({messageField:e})},n.renderOption=function(e){return r.a.createElement(B.a,{item:e,isSelected:n.state.roleField.value===e.value})},n.onInvite=function(){var e={role:n.state.roleField.value,message:n.state.messageField};n.state.teammates.length&&(e=Object(F.a)(Object(F.a)({},e),{},{teammates:n.state.teammates})),n.state.emails.length&&(e=Object(F.a)(Object(F.a)({},e),{},{emails:n.state.emails})),n.setState({pendingInvites:!0}),n.props.sendInvites(e).then((function(){return n.props.history.push("/workspaces/".concat(n.props.id,"/invites"))})).catch((function(){return n.props.history.push("/workspaces")}))},n.state={emailField:"",emails:[],emailsJoined:[],forceRedrawing:!1,teammates:[],asyncTeammates:[],pendingInvites:!1,roleField:Y,messageField:"Hey! Join me on Rebrandly and let's start creating branded links for ".concat(e.workspace.name||e.workspace.fullName,"!\nBest regards,\n").concat(e.accountUsername)},n.shallowTeammates=[],n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(b.yc)().then((function(t){e.setState({asyncTeammates:t.map((function(e){return{value:e.id,label:e.email}}))},(function(){e.shallowTeammates=Object(U.a)(e.state.asyncTeammates)}))}))}},{key:"renderTeammatesSelector",value:function(){var e=this;if(this.props.role===H.a)return null;var t=this.shallowTeammates.filter((function(t){return t.label.includes(e.state.emailField)})),a=this.state.emailField&&t.length;return a?r.a.createElement(v.Selector,{className:"TeammatesSelector",name:"role",options:t,renderTrigger:function(){return null},isOpen:a,isLoading:this.state.isLoading,onChange:this.onUpdateTeammates,closeOnSelect:!0,showSearch:!1}):null}},{key:"render",value:function(){var e=this,t=(!T()(this.state.emails)||!T()(this.state.teammates))&&!T()(this.state.roleField);return r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"large",className:"Text-Title"},"Invite teammates",r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"A max. of 5 teammates can be added ",r.a.createElement("br",null)," at a time- save changes to add more"),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4 m-t-4",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Text,{singleLine:!0,className:"Text--SubDetail",size:"small"},this.props.workspace.name||this.props.workspace.fullName),r.a.createElement(v.Tag,{className:"WorkspaceHeader__tag m-t-0 m-l-8",color:"#eaf6ff",label:c()(H.c,"[".concat(this.props.role,"].label")),size:"sm"})),r.a.createElement("div",{className:"m-t-36 m-b-36"},r.a.createElement(v.Label,{value:"Email address"},r.a.createElement("div",{className:"m-t-4"},this.renderTeammatesSelector(),this.state.forceRedrawing?r.a.createElement(v.EmailPicker,{placeholder:"Your teammate's emails",onUpdate:this.onUpdateEmails,onChange:this.onChangeEmailField,emails:this.state.emailsJoined,value:"",submit:r.a.createElement(v.Button,{label:"Add",theme:"primary"}),autoFocus:!0}):r.a.createElement(n.Fragment,null,r.a.createElement(v.EmailPicker,{placeholder:"Your teammate's emails",onUpdate:this.onUpdateEmails,onChange:this.onChangeEmailField,emails:this.state.emailsJoined,value:"",submit:r.a.createElement(v.Button,{label:"Add",theme:"primary"}),autoFocus:!0})))),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Label,{value:"Assigned role"},r.a.createElement(v.Selector,{className:"RoleSelector",name:"role",options:V,renderOption:this.renderOption,value:this.state.roleField,onChange:this.onChangeRoleField,footer:r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394",size:"lg",target:"_blank"},"Learn more about roles"),closeOnSelect:!0}))),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Label,{value:"Welcome message"},r.a.createElement(v.Textarea,{name:"message",value:this.state.messageField,onChange:this.onChangeMessageField,rows:4})))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"m-r-12"},r.a.createElement(v.Button,{onClick:function(){return e.props.history.push("/workspaces")},label:"Cancel"})),r.a.createElement("div",null,r.a.createElement(v.Button,{"rb-test-id":"invite-teammates-button",theme:"primary",onClick:function(){return t&&e.onInvite()},label:"Invite teammates",isLoading:this.state.pendingInvite,disabled:!t||this.state.pendingInvites}))))}}]),a}(n.PureComponent),J=Object(s.g)(Object(w.b)((function(e,t){var a=e.workspaces,n=e.account;return{role:Object(H.e)(n.id,t.id,e),workspace:a.items[t.id],accountUsername:n.fullName||n.username}}),(function(e,t){return{sendInvites:function(a){return e(Object(G.j)(t.id,a)).then((function(){return e(Object(W.a)(q.a,"Invite sent"))}))}}}))(K)),Q=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"sm",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(J,{id:this.props.match.params.id})))}}]),a}(n.PureComponent),X=a(24),Z=a.n(X),$=a(67),ee=(a(1292),Object.values(H.c).filter((function(e){return"owner"!==e.value}))),te=ee.find((function(e){return"user"===e.value})),ae=function(e){return!!e&&e.checked},ne=function(e){return Object(F.a)(Object(F.a)({},e),{},{label:e.name,value:e.id})},re=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.workspaces.filter(ae);(t.find((function(t){return t.id===e.id}))&&5===t.length||t.length<5)&&(n.toggleWorkspace(e),n.props.onWorkspaceToggled&&n.props.onWorkspaceToggled(e))},n.toggleWorkspace=function(e){var t=!ae(e);n.setState({workspaces:n.state.workspaces.map((function(a){return a.id===e.id?Object(F.a)(Object(F.a)({},e),{},{checked:t}):a}))})},n.onUpdateTeammates=function(e){n.shallowTeammates=n.state.asyncTeammates.filter((function(t){return t.value!==e.value})),n.setState({teammates:[].concat(Object(U.a)(n.state.teammates),[e.value]),emailsJoined:[].concat(Object(U.a)(n.state.emailsJoined),[e.label]),forceRedrawing:!n.state.forceRedrawing})},n.onUpdateEmails=function(e){var t=n.state.asyncTeammates.filter((function(t){return e.includes(t.label)}));n.shallowTeammates=n.state.asyncTeammates.filter((function(t){return!e.includes(t.label)}));var a=t.map((function(e){return e.label})),r=e.filter((function(e){return!a.includes(e)})),o=t.map((function(e){return e.value}));n.setState({emails:r,emailsJoined:e,teammates:o,forceRedrawing:!n.state.forceRedrawing})},n.onChangeEmailField=function(e){return n.setState({emailField:e})},n.onChangeRoleField=function(e){return n.setState({roleField:e})},n.renderOption=function(e){return r.a.createElement(B.a,{item:e,isSelected:n.state.roleField.value===e.value})},n.onInvite=function(){var e={role:n.state.roleField.value,workspaces:n.parseCheckedWorkspaces()};n.state.teammates.length&&(e=Object(F.a)(Object(F.a)({},e),{},{teammates:n.state.teammates})),n.state.emails.length&&(e=Object(F.a)(Object(F.a)({},e),{},{emails:n.state.emails})),n.setState({pendingInvite:!0}),n.props.sendWorkspacesInvites(e,n.state.teammate).then((function(){n.props.history.push(n.state.teammate?"/teammates/".concat(n.state.teammate.id):"/teammates/invites"),n.state.teammate&&n.props.loadTeammateWorkspaces(n.props.id)})).catch((function(){return n.props.history.push(n.state.teammate?"/teammates/".concat(n.state.teammate.id):"/teammates")}))},n.state={emailField:"",emails:[],emailsJoined:[],teammates:[],teammate:null,workspaces:[],asyncTeammates:[],pendingInvite:!1,forceRedrawing:!1,roleField:te,term:""},n.shallowTeammates=[],n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.id?Object(b.wc)(this.props.id).then((function(t){e.setState({teammate:t,teammates:[t.id]})})):Object(b.yc)().then((function(t){e.setState({asyncTeammates:t.map((function(e){return{value:e.id,label:e.email}}))},(function(){e.shallowTeammates=Object(U.a)(e.state.asyncTeammates)}))})),Object(b.Kc)({owner:!0}).then((function(t){e.setState({workspaces:t})}))}},{key:"parseCheckedWorkspaces",value:function(){return this.state.workspaces.filter((function(e){return e.checked})).map((function(e){return e.id}))}},{key:"renderTeammatesSelector",value:function(){var e=this,t=this.shallowTeammates.filter((function(t){return t.label.includes(e.state.emailField)})),a=this.state.emailField&&t.length;return a?r.a.createElement(v.Selector,{className:"TeammatesSelector",name:"role",options:t,renderTrigger:function(){return null},isOpen:a,isLoading:this.state.isLoading,onChange:this.onUpdateTeammates,closeOnSelect:!0,showSearch:!1}):null}},{key:"render",value:function(){var e=this,t=this.state.workspaces.filter(ae).length,a=(this.state.teammate||!T()(this.state.emails)||!T()(this.state.teammates))&&!T()(this.state.roleField)&&t;return r.a.createElement(n.Fragment,null,this.state.teammate?r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"large",className:"Text-Title"},"Select new workspaces"),r.a.createElement(v.Text,{className:"Text--SubDetail",size:"small"},"For ",this.state.teammate.fullName)):r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"large",className:"Text-Title"},"Invite teammates",r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"A max. of 5 teammates can be added ",r.a.createElement("br",null)," at a time- save changes to add more"),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4 m-t-4",name:"ic-help",size:"tiny",color:"#c7c9cb"})))),r.a.createElement("div",{className:"m-t-36 m-b-24"},!this.state.teammate&&r.a.createElement(v.Label,{value:"Email address"},r.a.createElement("div",{className:"m-t-4"},this.renderTeammatesSelector(),this.state.forceRedrawing?r.a.createElement(v.EmailPicker,{placeholder:"Your teammate's emails",onUpdate:this.onUpdateEmails,onChange:this.onChangeEmailField,emails:this.state.emailsJoined,value:"",submit:r.a.createElement(v.Button,{label:"Add",theme:"primary"}),autoFocus:!0}):r.a.createElement(n.Fragment,null,r.a.createElement(v.EmailPicker,{placeholder:"Your teammate's emails",onUpdate:this.onUpdateEmails,onChange:this.onChangeEmailField,emails:this.state.emailsJoined,value:"",submit:r.a.createElement(v.Button,{label:"Add",theme:"primary"}),autoFocus:!0})))),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Label,{value:"Assigned role"},r.a.createElement(v.Selector,{className:"RoleSelector",name:"role",options:ee,renderOption:this.renderOption,value:this.state.roleField,isLoading:this.state.isLoading,onChange:this.onChangeRoleField,footer:r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394",size:"lg",target:"_blank"},"Learn more about roles"),closeOnSelect:!0}))),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.A,null,r.a.createElement(v.Selector,{options:this.state.workspaces.map(ne),term:this.state.term,onSearch:this.search,isLoading:!this.state.workspaces,renderTrigger:function(){return r.a.createElement(v.Button,{className:"m-t-12",theme:"select",label:0===t?"0 new workspaces assigned":"".concat(t," new ").concat(Z()("workspace",t)," assigned")})},renderOption:function(t){var a=!!ae(e.state.workspaces.find((function(e){return e.id===t.id})));return r.a.createElement("div",{className:C()("WorkspacesOptions flex middle-xs",{"WorkspacesOptions--selected":a})},r.a.createElement(v.Checkbox,{checked:a}),r.a.createElement("div",{className:"WorkspacesOptions__avatar"},r.a.createElement(v.Avatar,{img:t.avatarUrl})),r.a.createElement(v.Text,{size:"small",singleLine:!0,className:"m-l-8"},t.name))},onChange:this.handleChange,showSearch:this.state.workspaces.length>1,width:"500px"})))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"m-r-12"},r.a.createElement(v.Button,{onClick:function(){return e.props.history.push("/teammates")},label:"Cancel"})),r.a.createElement("div",null,r.a.createElement(v.Button,{"rb-test-id":"invite-teammates-button",theme:"primary",onClick:this.onInvite,label:this.state.teammate?"Assign":"Invite teammates",isLoading:this.state.pendingInvite,disabled:!a||this.state.pendingInvite}))))}}]),a}(n.PureComponent),oe=Object(s.g)(Object(w.b)((function(e,t){var a=e.account;return{accountUsername:a.fullName||a.username}}),(function(e,t){return{loadTeammateWorkspaces:function(a){return e(Object($.k)(t.id))},sendWorkspacesInvites:function(t,a){return e(Object(G.k)(t)).then((function(){return e(Object(W.a)(q.a,a?"Workspace(s) assigned":"Invites sent"))}))}}}))(re)),se=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(oe,{id:t.params.id}))},ie=a(46),ce=a.n(ie),le=a(96),ue=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1},e.openModal=function(){return e.setState({showModal:!0})},e.closeModal=function(){e.props.onClose&&e.props.onClose(),e.setState({showModal:!1})},e.handleDone=function(){e.props.onDone&&e.props.onDone(),e.setState({showModal:!1})},e}return Object(y.a)(a,[{key:"renderModal",value:function(){return r.a.createElement(v.Modal,{size:"sm",isOpen:this.state.showModal,showClose:!0,onClose:this.closeModal},r.a.createElement(v.ModalHeader,null,r.a.createElement(v.Text,{className:"Text-Title",size:"large"},"Share results via e-mail"),r.a.createElement(v.Text,{className:"Text--SubDetail m-t-8",size:"small"},"Recipients will be notified when new reports are ready.")),r.a.createElement(v.ModalContent,null,r.a.createElement(v.Label,{value:"Email address"},r.a.createElement(v.EmailPicker,{placeholder:"Email address",emails:this.props.subscriptions,onUpdate:this.props.onUpdate,submit:r.a.createElement(v.Button,{label:"Add",theme:"primary"}),autoFocus:!0})),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Label,{value:"Message (optional)"},r.a.createElement(v.Textarea,{rows:3,maxRows:4,onChange:this.props.onMessageChange,placeholder:"Your message",value:c()(this.props,"message","")})))),r.a.createElement(v.ModalFooter,null,r.a.createElement(v.Button,{label:"Done",onClick:this.handleDone,disabled:this.props.disabled})))}},{key:"render",value:function(){var e=c()(this.props.subscriptions,"length",0);return r.a.createElement(n.Fragment,null,r.a.createElement(v.Button,{theme:"select",label:e>0?"".concat(e," email ").concat(Z()("recipient",e)):"Add email recipients",onClick:this.openModal}),this.renderModal())}}]),a}(n.PureComponent);ue.defaultProps={disabled:!1};var me=ue,pe=a(168),de=a(35),he=a(48),be=a(33),fe=a.n(be),ge=a(100),ve=a(198),Ee=[{label:"Just once",value:null},{label:"Every day",value:{unit:"day",units:1}},{label:"Every week",value:{unit:"week",units:1}},{label:"Every month",value:{unit:"month",units:1}}],ye=[{label:"Branded link",value:"route",id:"route"},{label:"Tag",value:"route.tags",id:"route.tags"},{label:"Teammate",value:"route.creator",id:"route.creator"},{label:"OS",value:"client.agent.os.name",id:"client.agent.os.name"},{label:"Destination URL",value:"route.destination.raw",id:"route.destination.raw"},{label:"Domain name",value:"route.domain",id:"route.domain"},{label:"Country",value:"client.location.country",id:"client.location.country"},{label:"Language",value:"client.language",id:"client.language"},{label:"Month",value:"group_by_month",id:"group_by_month"},{label:"Week",value:"group_by_week",id:"group_by_week"},{label:"Day",value:"group_by_day",id:"group_by_day"},{label:"Hour",value:"group_by_hour",id:"group_by_hour"},{label:"UTM Source",value:"route.destination.params.query.utm_source",id:"route.destination.params.query.utm_source"},{label:"UTM Medium",value:"route.destination.params.query.utm_medium",id:"route.destination.params.query.utm_medium"},{label:"UTM Campaign",value:"route.destination.params.query.utm_campaign",id:"route.destination.params.query.utm_campaign"},{label:"UTM Content",value:"route.destination.params.query.utm_content",id:"route.destination.params.query.utm_content"},{label:"UTM Term",value:"route.destination.params.query.utm_term",id:"route.destination.params.query.utm_term"}],ke=[{label:"Last day",value:{unit:"day",units:1}},{label:"Last 7 days",value:{unit:"day",units:7}},{label:"Last 30 days",value:{unit:"day",units:30}},{label:"Last 90 days",value:{unit:"day",units:90}},{label:"Last 180 days",value:{unit:"day",units:180}},{label:"Last 365 days",value:{unit:"day",units:365}}],Oe=[{color:"#505050",label:"Paused"},{color:"yellow",label:"Scheduled"}],we=function(e){return Oe[Number(e)]},je=a(39),Ce=a(376),Ne=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDateRangeChanged=function(t){var a=t.startDate,n=t.endDate;a=fe()(a||new Date).endOf("day"),n=fe()(n||new Date).endOf("day");var r=fe()(n).diff(a,"days")+1;e.props.onTimeframeChange({nextExecutionTimestamp:fe()(n).format("YYYY-MM-DD"),timespan:{unit:"day",units:r}})},e.handleRecurrenceChange=function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c()(e.props.schedule,"recurrence.period",!1)){t.next=8;break}return 30,"day",29,n={startDate:fe()().subtract(29,"day").toDate(),endDate:new Date},t.next=8,e.handleDateRangeChanged(n);case 8:return t.abrupt("return",e.props.onRecurrenceChange(a));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.schedule!==e.schedule}},{key:"render",value:function(){var e=this.props,t=e.schedule,a=void 0===t?{}:t,o=e.onTimezoneChange,s=e.canEditCustomReports,i=a.recurrence,l=(i=void 0===i?{}:i).period,u=a.timespan,m=a.timezone,p=fe.a.utc(a.nextExecutionTimestamp).format("YYYY-MM-DD"),d=fe()(p).endOf("day"),h=c()(Ee.find((function(e){return ce()(e.value,l||null)})),"label",""),b=u?fe()(p).subtract(u.units,u.unit).add(1,"day").startOf("day").toDate():null,f=Ee.find((function(e){return ce()(e.value,l||void 0)})),g=f&&f.value!==Ee[0].value;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-restore",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Frequency"),r.a.createElement(v.Tooltip,{overlay:"Choose how often this report will run. \nNote, if you exceed your monthly limit for reports run, \nadditional reports will be billed separately"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),s?r.a.createElement(ve.a,{placeholder:"Only once",options:Ee,onChange:this.handleRecurrenceChange,value:f}):h&&r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle font-semibold"},h)))),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-calendar",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Timeframe"),r.a.createElement(v.Tooltip,{overlay:"Select the date range of the data set"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),s?r.a.createElement(Ce.a,{label:g?"Last ".concat(a.timespan.units>1?a.timespan.units:""," ").concat(Z()(a.timespan.unit,a.timespan.units)):null,onDateRangeChanged:this.handleDateRangeChanged,startDate:b,endDate:fe()(d).toDate(),showCalendar:!g}):r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle font-semibold"},"From: to : ".concat(Object(je.a)(d))))),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-clock",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Timezone"),r.a.createElement(v.Tooltip,{overlay:"Determine in which time zone the data will be presented"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),s?r.a.createElement(ve.a,{options:ge.tz.names().map((function(e){return{label:e,value:e}})),onChange:o,value:{label:m,value:m}}):r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle font-semibold"},m))))}}]),a}(n.Component),Se=a(21),xe=a(36),Le=(a(1301),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"renderDeleteAction",value:function(){return r.a.createElement(xe.c,{iconName:"ic-trash-bin",tooltip:{overlay:"Delete",placement:"top"},confirmableProps:{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete custom report?",message:r.a.createElement("span",null,"This is a permanent action and cannot be undone, it will ",r.a.createElement("strong",null,"permanently delete all past reports"),"."),primaryButtonProps:{label:"Delete",theme:"delete"}},onDelete:this.props.onDelete})}},{key:"renderDownloadAction",value:function(){var e=c()(this.props.execution,"formats",[]),t=e.find((function(e){return"ready"===e.status}));return r.a.createElement(xe.d,{tooltip:{overlay:t?"Download":"Report not ready yet",placement:"top"},disabled:!t},r.a.createElement(v.Menu,null,e.map((function(e){return r.a.createElement("li",{key:e.type},r.a.createElement(v.A,{className:"text-uppercase",target:"_blank",href:e.uri,disabled:"ready"!==e.status},".".concat(e.type)))}))))}},{key:"renderEditAction",value:function(){return r.a.createElement(xe.e,{tooltip:{overlay:"Edit",placement:"top"},onEdit:this.props.onEdit})}},{key:"renderCopyAction",value:function(){var e=c()(this.props.execution,"id"),t=c()(this.props.execution,"status"),a=e&&"ready"===t;return r.a.createElement(xe.b,{tooltip:{overlay:a?"Copy download URL":"Report currently not ready",placement:"top"},disabled:!a,toCopy:"".concat(m.a.appUrl,"/reports/custom/").concat(this.props.accountId,"/").concat(e,"/download")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"CustomReportsTemplateActions flex middle-xs"},this.props.showDownloadAction&&this.renderDownloadAction(),this.props.showCopyAction&&this.renderCopyAction(),this.props.showEditAction&&this.renderEditAction(),this.props.showDeleteAction&&this.renderDeleteAction())}}]),a}(n.PureComponent));Le.defaultProps={showEditAction:!0,showDownloadAction:!0,showDeleteAction:!0,showCopyAction:!0,onDelete:function(){},onEdit:function(){}};var Te=Object(s.g)(Object(w.b)((function(e){return{accountId:e.account.id}}))(Le)),_e=function(e){var t=e.executions;return r.a.createElement(Se.a,null,r.a.createElement(Se.f,null,t.map((function(e){return r.a.createElement(Se.e,{key:e.id,className:"Container--narrow",containerClassName:"ListRow--full"},r.a.createElement(Se.c,{className:"row col-xs-8 col-sm-6"},r.a.createElement("div",{className:"col-xs-12 col-sm-8"},r.a.createElement(v.Text,{className:"Text--SubDetail",size:"small"},Object(je.a)(e.createdAt,"MMMM, DD YYYY"))),r.a.createElement("div",{className:"col-xs col-sm-4"},r.a.createElement(v.Tag,Object.assign({size:"sm"},function(e){switch(e){case"scheduled":case"creating":case"converting":return{label:"In progress",color:"blue"};case"error":return{label:"Failed",color:"red"};case"ready":return{label:"Ready",color:"green"};default:return{label:"Unknown"}}}(e.status))))),r.a.createElement(Se.c,{className:"col-xs flex end-xs"},r.a.createElement(Te,{execution:e,showDeleteAction:!1,showEditAction:!1})))}))))},De=a(49),Ae=a(13),Ie=(a(1302),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1},e}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this,a=c()(this.props.template,"name"),n=c()(this.props.template,"schedule.active",!1),o=!!c()(this.props.template,"schedule"),s={tooltip:o?null:{overlay:r.a.createElement("span",null,"You can\u2019t resume this report. Change",r.a.createElement("br",null),"the timeframe to run it again."),placement:"right"}};return n?(e=this.props.pauseReport,s=Object(F.a)(Object(F.a)({},s),{},{title:"Pause report?",message:"Your report will stop running until you resume it again.",primaryButtonProps:{label:"Pause"}})):(e=this.props.resumeReport,s=Object(F.a)(Object(F.a)({},s),{},{title:"Resume report?",message:"Your report will run within the scheduled timeframe.",primaryButtonProps:{label:"Resume"}})),r.a.createElement("div",{className:"Container--narrow row middle-xs"},r.a.createElement("div",{className:"col-xs-9"},this.props.canEditCustomReports?r.a.createElement(v.InlineInput,{className:"CustomReportsTemplateHeader__name font-light",value:a,label:"Report title",onSubmit:function(e){return t.props.updateTemplateName(e)},onStatusChanged:function(e){var a=e.isEditing;return t.setState({isEditing:a})},showButtons:!0,singleLine:!0}):r.a.createElement(v.Text,{className:"Text-SemiHero"},a),!this.state.isEditing&&r.a.createElement("div",{className:"flex middle-xs m-t-8"},r.a.createElement(v.Tag,Object.assign({size:"sm"},we(n))),r.a.createElement(v.Tooltip,{overlay:"You can\u2019t resume this report. Change\nthe timeframe to run it again.",display:!o},r.a.createElement("span",{className:"p-r-4"},r.a.createElement(De.a,s,r.a.createElement(Ae.a,{className:"m-l-4",disabled:!o,onClick:e},n?"Pause":"Resume")))))),r.a.createElement("div",{className:"col-xs-3 flex end-xs"},r.a.createElement(Te,{showDownloadAction:!1,showEditAction:!1,showCopyAction:!1,showDeleteAction:this.props.canDeleteCustomReports,onDelete:this.props.onDelete})))}}]),a}(n.PureComponent)),Me=a(97),Re=a(373),Pe=a(44),ze=[{id:0,name:"Reports",route:"reports"},{id:1,name:"Settings",route:"settings"}],Fe=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,showWarningModal:!1,schedule:{},message:c()(e.props.template,"subscriptions[0].message",""),subscribers:c()(e.props.template,"subscriptions[0].subscribers",[]),showFiltersModal:!1},e.handleDelete=function(){return e.props.onDelete().then((function(){return e.props.history.push("/reports/custom")}))},e.changeTab=function(t){return e.props.history.replace({pathname:"/reports/custom/".concat(e.props.id,"/").concat(c()(ze.find((function(e){return e.id===t})),"route")),state:e.props.location.state})},e.submitScheduleRequest=function(){return e.props.attachSchedule(Object(F.a)(Object(F.a)({},e.state.schedule),{},{active:!1}))},e.updateSchedule=function(t){return e.setState({schedule:Object(F.a)(Object(F.a)({},e.props.template.schedule),t)},(function(){e.props.template.schedule.active?e.setState({showWarningModal:!0}):e.submitScheduleRequest()}))},e.hideScheduleWarning=function(){return e.setState({showWarningModal:!1})},e.handleMessageChange=function(t){return e.setState({message:t})},e.handleDoneSubscriptions=function(){var t={type:"email",subscribers:e.state.subscribers};return e.state.message.length>3&&(t=Object(F.a)(Object(F.a)({},t),{},{message:e.state.message})),e.props.updateSubscriptions([t])},e.handleClose=function(){return e.setState({message:c()(e.props.template,"subscriptions[0].message",""),subscribers:c()(e.props.template,"subscriptions[0].subscribers",[])})},e.handleUpdateSubscriptions=function(t){return e.setState({subscribers:t})},e.disableSubmit=function(){var t=c()(e.props.template,"subscriptions[0].subscribers"),a=c()(e.props.template,"subscriptions[0].message");return ce()(e.state.subscribers,t)&&e.state.message===a},e}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(e){var t=c()(e.template,"subscriptions[0]"),a=c()(this.props.template,"subscriptions[0]"),n=c()(t,"message",""),r=c()(a,"message",""),o=c()(t,"subscribers"),s=c()(a,"subscribers");n!==r&&this.setState({message:r||""}),ce()(o,s)||this.setState({subscribers:s})}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),Promise.all([this.props.loadExecutions(),this.props.loadTemplate()]).then((function(){})).catch((function(){return e.props.history.push("/reports/custom")})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"renderScheduleWarning",value:function(){var e=this;return r.a.createElement(he.a,{isOpen:this.state.showWarningModal,onClose:this.hideScheduleWarning,icon:{name:"ic-information",color:"#2281c2",size:"md"},title:"Updating this report\u2019s settings will momentarily pause it",message:r.a.createElement("span",null,"You ",r.a.createElement("strong",null,"must resume this report")," for it to run as scheduled."),secondaryButtonProps:{label:"Cancel",onClick:this.hideScheduleWarning},primaryButtonProps:{label:"Continue",theme:"primary",onClick:function(){return e.submitScheduleRequest().then(e.hideScheduleWarning)}},closeOnClickOutside:!0})}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return r.a.createElement(v.Loading,null);var t=c()(ze.find((function(t){return t.route===e.props.currentTabRoute})),"id",ze[0].id),a=!this.state.isLoading&&0===this.props.count.results,o=c()(this.props.template,"query.groupings",[]).map((function(e){return c()(ye.find((function(t){return t.value===e})),"label")})),s=c()(this.props.template,"query.conditions"),i=s?Object.values(s)[0].length:0;return r.a.createElement(n.Fragment,null,r.a.createElement(Ie,{template:this.props.template,updateTemplateName:function(t){return e.props.updateTemplateName(t)},onDelete:this.handleDelete,resumeReport:this.props.resumeReport,pauseReport:this.props.pauseReport,canEditCustomReports:this.props.canEditCustomReports,canDeleteCustomReports:this.props.canDeleteCustomReports}),r.a.createElement("div",{className:"m-t-36"},r.a.createElement(le.d,{defaultIndex:t,onSelect:this.changeTab},r.a.createElement(le.b,{className:"react-tabs-primary__tab-list Container--narrow m-b-0"},ze.map((function(e){var t=e.id,a=e.name;return r.a.createElement(le.a,{key:t,className:"react-tabs-primary__tab",selectedClassName:"react-tabs-primary__tab--selected"},a)}))),r.a.createElement(le.c,null,a?r.a.createElement(de.a,{size:"sm",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-empty-list-reports",color:"var(--color-white)"}),title:"Your report history is empty!",message:"No reports yet, your results will appear here"}):r.a.createElement(_e,{executions:Object.values(this.props.executions)})),r.a.createElement(le.c,null,r.a.createElement("div",{className:"m-t-36 Container--narrow"},!T()(o)&&r.a.createElement("div",{className:"GridRow m-t-16"},r.a.createElement(v.Icon,{name:"ic-eye",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Data set"),r.a.createElement(v.Tooltip,{overlay:"Determine which metrics should be included in this report.\nThese can\u2019t be changed at a later date"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail font-semibold"},o.join(", ")))),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-filter",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Data filters"),r.a.createElement(v.Tooltip,{overlay:"Refine the data set based on specific filters"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),i>0?r.a.createElement(v.Button,{theme:"select",label:"".concat(i," ").concat(Z()("filter",i)),onClick:function(){return e.setState({showFiltersModal:!0})}}):r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail font-semibold"},"No filters"))),r.a.createElement(Ne,{schedule:c()(this.props.template,"schedule"),onTimeframeChange:function(t){var a=t.nextExecutionTimestamp,n=t.timespan;return e.updateSchedule({nextExecutionTimestamp:a,timespan:n})},onTimezoneChange:function(t){return e.updateSchedule({timezone:t})},onRecurrenceChange:function(t){var a=null;t&&(a={period:t}),e.updateSchedule({recurrence:a})},canEditCustomReports:this.props.canEditCustomReports}),this.props.canEditCustomReports&&r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-mail",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Share with"),r.a.createElement(v.Tooltip,{overlay:"Send a public link for this report to up to 50 different emails"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(me,{onUpdate:this.handleUpdateSubscriptions,onDone:this.handleDoneSubscriptions,onClose:this.handleClose,subscriptions:this.state.subscribers,onMessageChange:this.handleMessageChange,message:c()(this.state,"message",""),disabled:this.disableSubmit()}))))))),this.renderScheduleWarning(),r.a.createElement(v.Modal,{size:"md",isOpen:this.state.showFiltersModal,onClose:function(){return e.setState({showFiltersModal:!1})},showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"m-t-16"},r.a.createElement(pe.a,{canEdit:!1,condition:Object(Pe.c)(s),showMoreAfter:0}))),r.a.createElement(v.ModalFooter,null,r.a.createElement("div",{className:"Button__list"},r.a.createElement(v.Button,{label:"Done",theme:"primary",onClick:function(){return e.setState({showFiltersModal:!1})}})))))}}]),a}(n.PureComponent),Ue=Object(s.g)(Object(w.b)((function(e,t){var a=e.reportExecutions,n=a.list,r=a.items,o=a.count;return{template:c()(e.reportTemplates.items,"[".concat(t.id,"]"),{}),executions:n.map((function(e){return r[e]})),count:o,canEditCustomReports:Object(H.d)(e,e.session.currentWorkspaceId,"edit","workspaces.custom-reports"),canDeleteCustomReports:Object(H.d)(e,e.session.currentWorkspaceId,"delete","workspaces.custom-reports")}}),(function(e,t){return{loadTemplate:function(){return e(Object(Me.e)(t.id))},loadExecutions:function(){return e(Object(Re.b)(t.id))},updateTemplateName:function(a){return e(Object(Me.k)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"Report name updated"))}))},attachSchedule:function(a){return e(Object(Me.a)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"Schedule updated"))})).catch((function(){return e(Object(W.a)(q.b,"Error while updating the schedule"))}))},updateSubscriptions:function(a){return e(Object(Me.l)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"Email sharing updated"))}))},resumeReport:function(){return e(Object(Me.i)(t.id)).then((function(){return e(Object(W.a)(q.h,"Report resumed")),e(Object(Me.e)(t.id))}))},pauseReport:function(){return e(Object(Me.g)(t.id)).then((function(){return e(Object(W.a)(q.h,"Report paused")),e(Object(Me.e)(t.id))}))},onDelete:function(){return e(Object(Me.d)(t.id)).then(e(Object(W.a)(q.f,"Template deleted"))).catch((function(t){throw e(Object(W.a)(q.b,"Error while deleting template")),t}))}}}))(Fe)),Be=function(e){var t=e.match,a=c()(t,"params.id"),n=c()(t,"params.route");return r.a.createElement("div",{className:"Page"},r.a.createElement(Ue,{id:a,currentTabRoute:n}))},We=function(e){var t=e.fill,a=e.onClick,n=e.href,o=e.to,s={className:"v-middle"};return s=a?Object(F.a)(Object(F.a)({},s),{},{onClick:a}):Object(F.a)(Object(F.a)({},s),{},{href:n,to:o}),r.a.createElement(Ae.a,s,r.a.createElement(v.Logo,{fill:t}))};We.defaultProps={href:m.a.websiteUrl};var Ge=We,He=a(38),qe=a(30),Ve=a(26),Ye=function(e,t){return!(!e||!t)&&("string"===typeof t?Object(s.f)(e,{path:t}):!!t.find((function(t){return Object(s.f)(e,{path:t})})))},Ke=function(e){var t=e.account.subscription&&e.account.subscription.features;return[{id:"links",name:"Links",icon:"ic-link",link:{to:"/links"},disabled:e.account.isGuest,visible:!0,activeIfRouteIs:"/links"},{id:"reports",name:"Reports",icon:"",link:{to:"/reports","rb-test-id":"reports-menu"},disabled:!1,visible:Object(qe.hasFeature)("metrics.advanced",t)||Object(qe.hasFeature)("reports.custom",t)||e.session.administratedWorkspaces>0,activeIfRouteIs:"/reports"},{id:"workspaces",name:"Workspaces",icon:"",link:{to:"/workspaces"},disabled:!1,visible:!0,activeIfRouteIs:"/workspaces"},{id:"domains",name:"Domains",icon:"ic-domain",link:{to:"/domains"},disabled:!1,visible:Object(He.c)("workspaces",e.account)>0||!e.session.isGuest,activeIfRouteIs:"/domains"}]},Je=function(e){return[].concat(Object(U.a)(Ke(e)),[{id:"apps",name:"Apps",icon:"",link:{to:"/apps"},disabled:!1,visible:!0,activeIfRouteIs:"/apps"}])},Qe=function(e){var t;(Ve.b||Ve.f)&&(t=Ve.b?"https://play.google.com/store/apps/details?id=com.rebrandlynative&hl=en":"https://itunes.apple.com/us/app/rebrandly/id1103787320?mt=8");var a=Ve.h?{}:{id:"pricing",name:"Pricing",icon:"",link:{to:"/pricing"},disabled:!1,visible:!0,activeIfRouteIs:"/pricing"};return[].concat(Object(U.a)(Ke(e)),[{id:"linkgallery",name:"LinkGallery",icon:"",link:{to:"/linkgallery"},disabled:!1,visible:!0,activeIfRouteIs:"/linkgallery"},{id:"account-settings",name:"Account settings",icon:"",link:{to:"/account"},disabled:!1,visible:!0,activeIfRouteIs:"/account"}],[a],[{id:"support",name:"Support",icon:"",link:{href:"https://rebrandly.support/contact",target:"_blank"},disabled:!1,visible:!0,activeIfRouteIs:!1},{id:"rate-app",name:"Rate this app",icon:"",link:{href:t,target:"_blank"},disabled:!t,visible:!0,activeIfRouteIs:!1},{id:"setup-extension",name:"Setup extension",icon:"",link:{to:"/setup"},disabled:!1,visible:!0,activeIfRouteIs:"/setup"}])},Xe=(a(1303),function(e){var t=e.link,a=e.onClick;return r.a.createElement(Ae.a,Object.assign({size:"lg",className:"Navbar__link",onClick:a,disabled:t.disabled},t.link),t.name)}),Ze=function(e){var t=e.navbarItems,a=e.onClick,n=e.pathname;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"Navbar"},t.filter((function(e){return e.visible})).map((function(e){var t=c()(e,"children",[]).filter((function(e){return e.visible}));return r.a.createElement("li",{key:e.id,className:C()({"Navbar--active":Ye(n,e.activeIfRouteIs)})},T()(t)?r.a.createElement(Xe,{link:e,onClick:a}):r.a.createElement(v.Dropdown,null,r.a.createElement(v.Trigger,null,r.a.createElement(Ae.a,{size:"lg",className:"Navbar__link",disabled:e.disabled},e.name)),r.a.createElement(v.Menu,null,t.map((function(e){return r.a.createElement("li",{key:e.id,className:C()({"Navbar--active":Ye(n,e.activeIfRouteIs)}),"data-toggle":!0},r.a.createElement(Xe,{onClick:a,link:e}))})))))}))))},$e=a(61),et=(a(672),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getItems=function(){return[{id:0,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account",state:{modal:!0}},"rb-test-id":"account-settings-item"},"Account settings"),display:!0},{id:1,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/subscription",state:{modal:!0}},"rb-test-id":"account-subscription-item"},"Subscription"),display:!e.props.isGuest},{id:2,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/payment-method",state:{modal:!0}},"rb-test-id":"account-payment-method-item"},"Payment method"),display:!e.props.isGuest},{id:3,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/billing-data",state:{modal:!0}},"rb-test-id":"account-billing-data-item"},"Billing and contact data"),display:!e.props.isGuest},{id:4,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/billing-history",state:{modal:!0}},"rb-test-id":"account-billing-history-item"},"Billing history"),display:!e.props.isGuest},{id:5,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/api-keys",state:{modal:!0}},"rb-test-id":"account-api-keys-item"},"API keys"),display:!0},{id:6,label:r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:{pathname:"/account/subscription",state:{modal:!0}},"rb-test-id":"create-personal-workspace-item"},"Unlock your own account"),display:!1}].filter((function(e){return e.display}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=Object($e.g)(this.props.user.subscription);return r.a.createElement("div",{className:"AccountPanel"},r.a.createElement("div",{className:"AccountPanel__header"},r.a.createElement(v.Text,{className:"Text--Detail",size:"small",singleLine:!0},this.props.user.fullName),r.a.createElement(v.Text,{size:"x-small",singleLine:!0},this.props.user.email)),r.a.createElement("ul",{className:"AccountPanel__list"},this.props.shouldShowSetup&&this.props.setupNavigationTitle&&r.a.createElement("li",null,r.a.createElement(Ae.a,{"data-toggle":!0,size:"lg",to:"/setup"},this.props.setupNavigationTitle)),this.getItems().map((function(e){return r.a.createElement("li",{key:e.id},e.label)})),!this.props.isGuest&&r.a.createElement("li",null,r.a.createElement(v.Tooltip,{display:e,overlay:r.a.createElement("span",null,"Direct customer support is only ",r.a.createElement("br",null)," available with premium plans. ",r.a.createElement("br",null),r.a.createElement(Ae.a,{to:"/pricing"},"Upgrade your plan")),placement:"left"},r.a.createElement("span",null,r.a.createElement(Ae.a,{href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer","data-toggle":!0,size:"lg",disabled:e},"Request support")))),r.a.createElement("li",null,r.a.createElement(Ae.a,{"rb-test-id":"account-sign-out-item",size:"lg","data-toggle":!0,onClick:this.props.onSignOut},"Sign out"))))}}]),a}(n.PureComponent)),tt=function(e){var t=e.isOpen,a=e.onClose,n=e.children;return r.a.createElement(v.Modal,{isOpen:t,size:"lg",showClose:!0,onClose:a},r.a.createElement(v.ModalContent,null,n))};tt.defaultProps={onClose:function(){}};var at=tt,nt=a(62),rt=(a(1304),[{label:"What's new",link:{href:"https://support.rebrandly.com/hc/en-us/articles/360003155233-What-s-new",target:"_blank",rel:"noopener noreferrer"}},{label:"Pricing",link:{to:"/pricing"}},{label:"Blog",link:{href:"https://blog.rebrandly.com",target:"_blank",rel:"noopener noreferrer"}},{label:"Rebrandly status",link:{href:"https://status.rebrandly.com",target:"_blank",rel:"noopener noreferrer"}},{label:"Knowledge base",link:{href:"https://support.rebrandly.com",target:"_blank",rel:"noopener noreferrer"}},{label:"LinkGallery",link:{to:"/linkgallery"}},{label:"Developers hub",link:{href:"https://developers.rebrandly.com",target:"_blank",rel:"noopener noreferrer"}}]),ot=[{icon:"ic-social-twitter",link:{href:"https://twitter.com/RebrandlyBuzz",target:"_blank",rel:"noopener noreferrer"}},{icon:"ic-social-facebook",link:{href:"https://www.facebook.com/Brandedlinks/",target:"_blank",rel:"noopener noreferrer"}},{icon:"ic-social-instagram",link:{href:"https://www.instagram.com/rebrandlybuzz/",target:"_blank",rel:"noopener noreferrer"}},{icon:"ic-social-youtube",link:{href:"https://www.youtube.com/channel/UCHK4HD0ltu1-I212icLPt3g",target:"_blank",rel:"noopener noreferrer"}}],st=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"InfoAccountPanel"},r.a.createElement("ul",null,rt.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(Ae.a,Object.assign({"data-toggle":!0,size:"lg"},t.link,{onClick:e.props.onCloseSideMenu}),t.label))}))),r.a.createElement("div",{className:"InfoAccountPanel__footer"},ot.map((function(t,a){return r.a.createElement(Ae.a,Object.assign({key:a,"data-toggle":!0},t.link,{onClick:e.props.onCloseSideMenu}),e.context.theme===nt.a&&r.a.createElement(v.Icon,{name:"".concat(t.icon,"-nofill"),size:"xsmall",color:"#fff"}),e.context.theme!==nt.a&&r.a.createElement(v.Icon,{name:t.icon,size:"xsmall"}))}))))}}]),a}(n.PureComponent);st.contextType=nt.d;var it=st,ct=a(19),lt=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=Object(A.b)(this.props.item),a=t.label,o=t.price;return r.a.createElement("li",null,r.a.createElement("div",{className:"row middle-xs"},r.a.createElement("div",{className:"col-xs-7"},r.a.createElement(v.Text,{className:"Text--Detail",size:"small",singleLine:!0},a)),r.a.createElement("div",{className:"col-xs-5"},r.a.createElement("div",{className:"row end-xs middle-xs"},this.state.isLoading?r.a.createElement(v.Loading,{size:"md"}):r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"small",className:"Text--Detail m-r-8"},"$",Object(ct.formatNumber)(o,2)),r.a.createElement(v.A,{onClick:function(t){t.preventDefault(),e.setState({isLoading:!0},(function(){return e.props.onDelete().catch((function(){})).finally((function(){return e.setState({isLoading:!1})}))}))}},r.a.createElement(v.Icon,{size:"sm",name:"ic-trash-bin",color:"#909398"})))))))}}]),a}(n.PureComponent),ut=a(112),mt=(a(1305),a(47)),pt=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){return mt.a.track("checkout-button-clicked"),e.props.history.push("/checkout/domains?cartID=".concat(e.props.cart.id,"&coupon=").concat(c()(e.props.cart,"promo.code","")))},e}return Object(y.a)(a,[{key:"renderTotal",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(v.Divider,{type:"subsection"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Text,{className:"Text--Detail",size:"small"},"Total")),r.a.createElement("div",{className:"col-xs-6 end-xs"},r.a.createElement(v.Text,{className:"Text--Detail",size:"small"},"$",Object(ct.formatNumber)(this.props.total.net,2)))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.cart.items,n=t.total,o=Object.values(a),s=0===o.length,i=s?"Your cart is empty":"Your cart";return r.a.createElement("div",{className:"CartPanel"},r.a.createElement("div",{className:"CartPanel__header p-16"},r.a.createElement(v.Text,{className:"Text-Title",size:"small"},i)),!s&&r.a.createElement("div",{className:"p-16"},r.a.createElement("ul",{className:"CartPanel__list"},o.map((function(t,a){return r.a.createElement(lt,{key:a,item:t,onDelete:function(){return e.props.onDelete(t.type,t)}})}))),n&&o.length>1&&this.renderTotal(),r.a.createElement(v.Button,{className:"m-t-16",theme:"checkout",size:"md",label:"Checkout",onClick:this.handleClick,block:!0,"data-toggle":!0})))}}]),a}(n.PureComponent),dt=Object(s.g)(Object(w.b)((function(e){return{total:e.cart.price}}),(function(e){return{onDelete:function(t,a){return e(Object(ut.f)(t,a))}}}))(pt)),ht=a(156),bt=a(128),ft="BOT",gt={to:{pathname:"/account/billing-history",state:{modal:!0}}},vt={to:{pathname:"/account/subscription",state:{modal:!0}}},Et={to:{pathname:"/domains/%domain.id",state:{modal:!1}}},yt={to:{pathname:"/domains",state:{modal:!1}}},kt={to:{pathname:"/teammates/%user.id",state:{modal:!1}}},Ot={to:{pathname:"/workspaces/%workspace.id",state:{modal:!0}}},wt={to:{pathname:"/teammates/%member.id",state:{modal:!1}}},jt={"new-account":{img:ft,type:"success",message:"Welcome to Rebrandly! You\u2019ll find all the important notifications in this feed.\n[[Any questions?]]",routerLinks:[Object(F.a)(Object(F.a)({},{href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"}),{},{className:"linker"})]},"account-overflowing":{img:ft,type:"warning",message:"Your account is close to reaching the monthly click quota limit.\n[[Check usage]]",routerLinks:[Object(F.a)(Object(F.a)({},vt),{},{className:"linker"})]},"workspace-member-attached":{img:ft,type:"info",message:"[[%member.fullName]] joined the [[%workspace.name]] as an %role",options:{role:{optional:" as an %role"},group:{img:ft,type:"info",message:"%activityCount teammates joined the [[%workspace.name]]",routerLinks:[Ot]}},routerLinks:[wt,Ot]},"workspace-member-detached":{img:ft,type:"info",message:"[[%member.fullName]] left the [[%workspace.name]] workspace",options:{group:{img:ft,type:"info",message:"%activityCount left the [[%workspace.name]] workspace",routerLinks:[Ot]}},routerLinks:[wt,Ot]},"subscription-change":{img:ft,type:"success",message:"Your [[%category subscription]] plan has just been updated!",options:{category:{optional:"%category "}},routerLinks:[vt]},"import-done":{img:ft,type:"success",message:"The links that [[%user.fullName]] requested were successfully imported into the [[%workspace.name]] workspace",routerLinks:[kt,Ot]},"export-done":{img:ft,type:"success",message:"The links that [[%user.fullName]] requested were successfully exported from the [[%workspace.name]] workspace",routerLinks:[kt,Ot]},"new-invoice":{img:ft,type:"info",message:"A new invoice is available. [[View billing history]]",routerLinks:[Object(F.a)(Object(F.a)({},gt),{},{className:"linker"})]},"invite-accepted-invitee":{img:ft,type:"success",message:"You have been added to %invitor.fullName's teammates!",options:{"invitor.fullName":{alternative:{remove:"%invitor.fullName",replaceWith:"someone"}}}},"invite-accepted-invitor":{img:ft,type:"success",message:"[[%invitee.fullName]] has just been added as your teammate!",options:{"invitee.fullName":{alternative:{remove:"[[%invitee.fullName]]",replaceWith:"Someone"}},group:{message:"%activityCount users have just been added as your teammates!"}},routerLinks:[{to:{pathname:"/teammates/%invitee.id",state:{modal:!1}}}]},"teammate-left":{img:ft,type:"info",message:"[[%teammate.fullName]] is no longer a teammate",options:{"teammate.fullName":{alternative:{remove:"[[%teammate.fullName]] is no longer a teammate",replaceWith:"Someone has been removed as a teammate"}},group:{message:"%activityCount users are no longer your teammates"}},routerLinks:[{to:{pathname:"/teammates/%teammate.id",state:{modal:!1}}}],deletionEvent:{deletedResource:"teammate"}},"make-refunded-transaction":{img:ft,message:"A refund has been issued on the payment method on file [[View billing history]]",routerLinks:[Object(F.a)(Object(F.a)({},gt),{},{className:"linker"})]},"new-domain":{img:ft,type:"info",message:"The [[%domain.fullName]] domain has just been added to your account!\n[[Check verification status]]",options:{group:{img:ft,type:"info",message:"%activityCount domains have been added.\n[[Manage your domains]]",routerLinks:[Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]}},routerLinks:[Et,Object(F.a)(Object(F.a)({},Et),{},{className:"linker"})]},"domain-ready":{img:ft,type:"success",message:"Congratulations! Your [[%domain.fullName]] domain is now verified and ready to be used.\n[[Manage your domains]]",options:{group:{img:ft,type:"success",message:"Congratulations! %activityCount domains are now verified and ready to be used.\n[[Manage your domains]]",routerLinks:[Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]}},routerLinks:[Et,Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]},"domain-dns-misconfigured":{img:ft,type:"error",message:"Your [[%domain.fullName]] domain does not seem to be pointing at Rebrandly.\n[[Manage your domains]]",options:{group:{img:ft,type:"error",message:"%activityCount domains do not seem to be pointing at Rebrandly.\n[[Manage your domains]]",routerLinks:[Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]}},routerLinks:[Et,Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]},"domain-no-longer-responsive":{img:ft,type:"error",message:"Your [[%domain.fullName]] domain does not seem to be pointing at Rebrandly.\n[[Manage your domains]]",options:{group:{img:ft,type:"error",message:"%activityCount domains do not seem to be pointing at Rebrandly.\n[[Manage your domains]]",routerLinks:[Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]}},routerLinks:[Et,Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]},"domain-unverified":{img:ft,type:"error",message:"Your [[%domain.fullName]] domain does not seem to be pointing at Rebrandly.\n[[Manage your domains]]",options:{group:{img:ft,type:"error",message:"%activityCount domains do not seem to be pointing at Rebrandly.\n[[Manage your domains]]",routerLinks:[Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]}},routerLinks:[Et,Object(F.a)(Object(F.a)({},yt),{},{className:"linker"})]},"domain-name-renewed":{img:ft,type:"success",message:"[[%domain.fullName]] domain has been renewed",options:{group:{img:ft,type:"success",message:"%activityCount domains have been renewed",routerLinks:[Object(F.a)(Object(F.a)({},Et),{},{className:"linker"})]}}},"domain-delete":{img:ft,type:"info",message:"You just removed [[%domain.fullName]] domain from your account",options:{group:{img:ft,type:"info",message:"%activityCount domains have been removed",deletionEvent:{deletedResource:"domain"}}},routerLinks:[Et],deletionEvent:{deletedResource:"domain"}}},Ct=a(361),Nt=a.n(Ct),St=a(221),xt=a.n(St),Lt=/(%[\w]+(?:\.\w+)*)/g,Tt=/(\[\[.*?\]\])/g,_t=function(e,t){return Object(U.a)(xt()(e,t)).map((function(e){return e[1]}))},Dt=function(e,t,a){if(!e)return[];var n=_t(e,t),r=e.split(t);return n.forEach((function(e,t){var n=r.findIndex((function(t){return t===e}));r[n]=a(e,t)})),r};function At(e,t,a){var n=function(e,t){var a=e.message;return a?(_t(a,Lt).forEach((function(n){var r=n.replace("%",""),o=c()(e,"options['".concat(r,"']"),{});!c()(t,r)&&o.optional?a=a.replace(o.optional,""):!c()(t,r)&&o.alternative&&(a=a.replace(o.alternative.remove,o.alternative.replaceWith))})),a):""}(e,t),o=Dt(n,Lt,(function(e){var a=e.replace("%","");return c()(t,a)}));return n=o.join(""),{message:o=Dt(n,Tt,(function(n,o){return function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg",o=c()(a,"to.pathname")?"to.pathname":"href",s=c()(a,o,""),i=[];return s=Dt(s,Lt,(function(e){var a=e.replace("%",""),n=c()(t,a);return n||i.push(a),n})).join(""),i.length&&(a=Object(F.a)(Object(F.a)({},a),{},{disabled:!0})),a=Nt()(o,s,a),r.a.createElement(Ae.a,Object.assign({key:Math.random(),size:n},a),e)}(n.replace(/\[\[(.*?)\]\]/,"$1"),t,c()(e,"routerLinks[".concat(o,"]"),{}),a)})),avatarUrl:"BOT"===e.img?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAABGdBTUEAALGPC/xhBQAABIBJREFUSA2VV01sG0UUfvO869ohtklJ6qbhwKESHHqgBJQWoQISSFBx4MIJiQtIcCkIihAiFwspSCABEgIEVyROvXDhR6JSKSDaACEckLhwgyakaRtsR7Hj3Z1hvtk8M7teDB1pPe//zbx5782YaG/Mt85NA1T4Odr69hBmDBZOW5lfUpL9hcRtr34zPyQsLF1sAlHgdJW6q2bMD4HVWWkYcmJ861T3lg7p95wYfnw3wDEO7u9cZTE2YDWnA1b4Oqw//vNa/SZeXjy2AUlDccyxNvgskoDmVg9goXWxHofBDTRNV1aevjMaMot8rrbuWXPrhhRGW+lLDcNzgMthP2EAHaVfxkJqpeBmzKANokrJMQ3RqW4S/4HFdHW8CgsQcExW6n0x19B8O+BKnbcysRafHGqzsnhifbgVmDn62tczNOAQcNFoUHT5q9b9MXip1QKFtqLzRPqwLMU35EKAoA0onvQZAsvyBPdndpHeo8jORaDIm/AYxyPI9cyMM8WmoSQeJFOwAoHFKKLq9igEmReWzjavROUPjKJHhSbnc+GFu3tCyxwHiPMf/hjSerdBYS0MKNYUUW+5dawjCjIPFe9rnQvaFB4Qxshc1tHqKyc2he5S5+F3Pts3VgnSNjH8tHaKKBWxJDMCkyaBUNLZZZcFbd2ddUWcZacYk3pxhL6Xkow6GGHuEdAIinjINrdUYaLC5dykyICjC6D4RI5CqmYU65ofl07gz2VtLqEwRTG2kRoqSp6irbVZ/yxCQgeO9uXoURIFIiDp1jDqCNm0kSF04JaXtsbZWptR6iJk9/GRwP68y0kTbUJoyG9G/iFxQawbfkKC4yf4Pl3aqGm1BBkpCLdH9BBRRlB2dXIQQttx/C5wwBhouJnWkZKJjr/1XbXf0VN+QJShT6bDwTPLiw+4Hiyy/0RBKN4MQ7q3Ux+XJJ542nGrEx2//Hw+4BGHKJTL3cn9Oko7c17h/+II2YHa9rXPnz256+sMHaKMu2Fp5r8cbSt9PFHpwZSMWZw0fME3mIfhuBYlm5mzkDPICxfh9pzOW/rhPd5vNh/vLZLL05CeCLVCR9Pr/Zm8wDhcksNP/nHywuPZymbg2qet5vwYEAV9Nqdtjj5mb/bClmRL8/eMnqINe0ZnKlq9WSZyN2GGb1t1gF5NUT9DB9Lj5PtQlx6ZIHp9hDmaa6mIXd0O0SHolnXpjhE964vdxeBx2kxP2ZX/avtG0zpbA6tD5rk2Jz91SvSkJ+rAPM/pWF3YyMvDF+MW8o0waduY8XlDKUWGq0qbhkdNwX/l6ZIyetgEnbD15coC10a+uG1irJaVOlnVan3EyRhCj83sgPSnjVxI8QxD1xnWYf5J1A9UGMX6Jc3GJo0aufwKfSpzlbU6Ewb8RiU27pXo5LyreOgQDHSZops1b/x6ygIN2O82GYdi2D0eyqUp/xHoQmXoS/sUnhK5dFZbZUUPZkJvd9QYJFvSXXz5Qoe+AGA0h782dp63rfchY2jOZpD7i2BIrdl0so9d88WNzYm35bGd1/fxvwGptCYbtSsYEgAAAABJRU5ErkJggg==":c()(t,e.img),type:e.type}}a(1306);var It=function(e){var t=e.img,a=e.children,o=e.type;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"avatar-wrapper m-l-16"},r.a.createElement(v.Avatar,{img:t}),r.a.createElement(v.Icon,Object.assign({className:"type-icon",size:"tiny"},Object(bt.b)(o)))),r.a.createElement(v.Text,{size:"small",className:"inner-p m-l-16"},a,r.a.createElement("span",{className:"spacer"})))},Mt=["workspace","domain","teammate"],Rt=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.loadNotifications()}},{key:"componentDidUpdate",value:function(){var e=this.props.notifications.unseen,t=document.title,a=t.indexOf(") ");t=t.substring(-1!==a?a+1:0,t.length),document.title=e>0?"(".concat(e,") ").concat(t):t}},{key:"render",value:function(){var e=this,t=this.props.notifications.unseen,a=function(e){var t={};return function(a){var n=c()(a,"activities")?c()(a,"activities[0]"):a,o=n.verb,s=c()(n,"payload.invitor",{}),i=c()(n,"payload.invitee",{});"invite-accepted"===o&&(e.id===i.id?o="invite-accepted-invitee":"invite-accepted"===o&&e.id===s.id&&(o="invite-accepted-invitor"));var l=a.activity_count>1?c()(jt[o],"options.group",jt[o]):jt[o];if(!l)return null;var u=c()(n,"payload.user",{}),m={account:e,activityCount:a.activity_count,workspace:c()(n,"payload.workspace",{}),appName:c()(n,"payload.appName"),domain:c()(n,"payload.domain",{}),member:c()(n,"payload.member",{}),teammate:c()(n,"payload.teammate",{}),invitor:s,invitee:i,user:Object(F.a)(Object(F.a)({},u),{},{avatarUrl:e.avatarUrl,fullName:u.id===e.id?"you":u.fullName}),job:c()(n,"payload.job",{}),category:Object(ct.capitalize)(c()(n,"payload.category",""))};if(l.deletionEvent){var p=l.deletionEvent.deletedResource;a.activity_count>1&&c()(a,"activities",[]).forEach((function(e){t[p]=[].concat(Object(U.a)(c()(t,p,[])),[c()(e,"payload.".concat(p,".id"))])})),t[p]=[].concat(Object(U.a)(c()(t,p,[])),[m[p].id])}else Mt.forEach((function(e){c()(t,e,[]).find((function(t){return t===c()(m,"".concat(e,".id"))}))&&delete m[e].id}));var d=At(l,m,"md");return r.a.createElement(It,{img:d.avatarUrl,type:l.type},d.message)}}(this.props.account);return r.a.createElement(v.Dropdown,{className:"NotificationFeed__dropdown",position:"right",onOpen:function(){0!==t&&e.props.loadNotifications({mark_seen:!0}).then((function(){e.props.setNotificationsAsSeen()}))}},r.a.createElement(v.Trigger,null,r.a.createElement(v.IconButton,{className:"p-0",icon:{name:"ic-bell",color:"var(--color-grey-400)"},theme:"ghost"}),t>0&&r.a.createElement("div",{className:"Notification__badge"},r.a.createElement(v.Text,{size:"x-small",className:"clean"},t))),r.a.createElement(v.Content,{position:"right"},0===this.props.notifications.activitiesGroups.length?r.a.createElement("div",{className:"p-12 text-left NotificationFeed__Empty"},r.a.createElement(v.Text,{size:"x-small",className:"Text--note"},"You don't have any notification yet!")):r.a.createElement(Se.a,null,r.a.createElement(Se.f,null,this.props.notifications.activitiesGroups.map((function(e){var t=a(e);return t?r.a.createElement(Se.e,{"data-toggle":!0,key:e.id,containerClassName:C()("NotificationFeed__Notification ListRow--full",{"NotificationFeed__Notification--unseen":!e.is_seen})},r.a.createElement(Se.c,{className:"col-xs-12"},r.a.createElement("div",{className:"Text--Detail flex middle-xs m-t-8 m-b-8"},t),r.a.createElement(v.Text,{size:"x-small",className:"NotificationFeed__Notification__date text-right m-r-8"},function(e){var t=(e.time||e.updated_at)+"Z";return r.a.createElement(v.Tooltip,{overlay:Object(je.a)(t,"MMMM DD, YYYY HH:mm:ss")},r.a.createElement("span",null,Object(je.a)(t,"past",!1)))}(e)))):null})))),r.a.createElement("div",{className:"p-t-8 p-b-8 p-r-8 p-l-8 text-center NotificationFeed__TimelineLink"},r.a.createElement(Ae.a,{size:"sm",to:"/timeline","data-toggle":!0},"View all"))))}}]),a}(n.PureComponent),Pt=Object(w.b)((function(e){return{account:e.account,notifications:e.feed.notifications,loading:e.feed.notifications.loading}}),(function(e){return{loadNotifications:function(t,a){return bt.c?e(Object(ht.c)(t,a)):Promise.resolve()},setNotificationsAsSeen:function(){return e(Object(ht.e)())}}}))(Rt),zt=a(45),Ft=a(95),Ut=(a(1307),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSideMenu:!1,showInfoPanel:!1},e.handleLogout=function(){return e.props.history.push("/sign-out")},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.cart.items).length,a={navbarItems:this.props.navbarItems,pathname:this.props.location.pathname,onClick:function(){return e.setState({showSideMenu:!1})}};return r.a.createElement("header",{className:C()("MainHeader",this.props.className)},r.a.createElement("div",{className:"Container--wide"},r.a.createElement("div",{className:"flex middle-xs between-xs"},r.a.createElement("div",{className:"MainHeader__primary"},r.a.createElement(Ge,{href:this.props.isLogged?null:m.a.websiteUrl,to:this.props.isLogged?"/":null,fill:this.context.theme===nt.a?"var(--color-grey-600)":"var(--color-blue-600)"}),r.a.createElement("div",{className:"MainHeader__navbar m-l-24"},this.props.isLogged&&r.a.createElement(Ze,a))),r.a.createElement("div",{className:"flex end-xs"},r.a.createElement("ul",{className:"MainHeader__secondary"},r.a.createElement(n.Fragment,null,this.props.isLogged&&r.a.createElement("li",{className:"MainHeader__info"},r.a.createElement(v.Dropdown,{position:"right",isOpen:this.state.showInfoPanel,onOpen:function(){return e.setState({showInfoPanel:!0})},onClose:function(){return e.setState({showInfoPanel:!1})}},r.a.createElement(v.Trigger,null,r.a.createElement(v.IconButton,{className:"InfoAccountPanel__trigger",theme:"ghost",icon:{name:"ic-other",color:this.state.showInfoPanel?"var(--color-blue-400)":"var(--color-grey-400)"},size:"sm"})),r.a.createElement(v.Content,null,r.a.createElement(it,null)))),t>0&&r.a.createElement("li",null,r.a.createElement(v.Dropdown,{position:"right"},r.a.createElement(v.Trigger,null,r.a.createElement(v.IconButton,{className:"p-0",theme:"ghost",icon:{name:"ic-cart",color:"var(--color-grey-400)"}}),r.a.createElement("div",{className:"MainHeaderCart__badge"},r.a.createElement(v.Text,{size:"x-small",className:"clean"},t))),r.a.createElement(v.Content,{className:"AvatarMenuOptions",position:"right"},r.a.createElement(dt,{cart:this.props.cart})))),this.props.isLogged&&r.a.createElement("li",null,r.a.createElement(Pt,null)),this.props.isLogged&&r.a.createElement("li",null,r.a.createElement(v.Dropdown,{position:"right"},r.a.createElement(v.Trigger,null,r.a.createElement(v.Avatar,{"rb-test-id":"avatar-header",img:this.props.account.avatarUrl})),r.a.createElement(v.Content,{position:"right"},r.a.createElement(et,{user:this.props.account,shouldShowSetup:this.props.shouldShowSetup,setupNavigationTitle:"Setup ".concat(this.props.steps,"/").concat(Object(Ft.b)()),onSignOut:this.handleLogout,isGuest:this.props.isGuest})))),!this.props.isLogged&&r.a.createElement("li",{className:"MainHeader__otherInformations"},r.a.createElement(Ae.a,{size:"lg",href:"https://rebrandly.rocks/LearnMore",target:"_blank"},r.a.createElement("span",{className:"display-none display-xs-block"},"Learn more about Rebrandly"),r.a.createElement("span",{className:"display-xs-none"},"Learn more")))),!this.props.isLogged&&r.a.createElement(n.Fragment,null,r.a.createElement(v.Button,{className:"MainHeader__loginButton",theme:"secondary",label:"Login",onClick:zt.b.redirectToLogin}),r.a.createElement(v.Button,{className:"MainHeader__loginButton m-l-16",theme:"primary",label:"Signup",onClick:zt.b.redirectToSignUp}))),this.props.isLogged&&r.a.createElement(v.IconButton,{className:"MainHeader__menu",icon:{name:"ic-menu"},theme:"ghost",onClick:function(){return e.setState({showSideMenu:!0})}})))),r.a.createElement(at,{isOpen:this.state.showSideMenu,onClose:function(){return e.setState({showSideMenu:!1})}},r.a.createElement(Ze,a),r.a.createElement("div",{className:"m-t-48"},r.a.createElement(it,{onCloseSideMenu:function(){return e.setState({showSideMenu:!1})}}))))}}]),a}(n.PureComponent));Ut.contextType=nt.d;var Bt=Object(s.g)(Object(w.b)((function(e){return{cart:e.cart,navbarItems:Je(e),isLogged:e.session.isLogged,isGuest:e.session.isGuest,account:e.account,shouldShowSetup:Object(Ft.k)(e),steps:Object(Ft.a)(e)}}),null)(Ut)),Wt=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-suspended",color:"var(--color-white)"}),title:"Account suspended",message:r.a.createElement("span",null,"Your Rebrandly account has been suspended for administrative or ",r.a.createElement("br",null)," technical reasons. "," ",r.a.createElement(Ae.a,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/115002467527-Rebrandly-Suspended-account",target:"_blank"},"Learn more"))})},Gt=a(40),Ht=a(42),qt=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={invite:null,valid:!0,isLoading:!1,wrongEmailToAccept:!1,noPermissionToAccept:!1},e.switchToContext=function(t){return e.props.setContext(t.id).then((function(){return e.props.history.push("/links")}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),Object(b.a)(this.props.id).then((function(t){e.setState({invite:t}),e.props.loadWorkspaces(),e.props.loadUser()})).catch((function(t){var a=!1,n=!1;t.response.data.errors&&(a=t.response.data.errors.some((function(e){return"WrongEmailToAccept"===c()(e,"code")})),n=t.response.data.errors.some((function(e){return"NotPermissionToAccept"===c()(e,"code")}))),a?e.setState({wrongEmailToAccept:!0}):n?e.setState({noPermissionToAccept:!0}):e.setState({valid:!1})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"renderNoValidate",value:function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-broken-link",color:"var(--color-white)"}),title:"This invite is no longer available",message:"Contact your workspace administrator for a new invitation",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Go to links"}))})}},{key:"renderNoPermissionToAccept",value:function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-broken-link",color:"var(--color-white)"}),title:"This invite is not meant for this account",message:"You cannot accept an invite to collaborate in workspaces you actually own",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Go to links"}))})}},{key:"renderWrongEmailToAccept",value:function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-broken-link",color:"var(--color-white)"}),title:"Wrong email to accept the invite",message:"You can only accept this invite using an account created with the intended email to be invited",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Go to links"}))})}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return r.a.createElement(v.Loading,{size:"lg",label:"Loading..."});if(this.state.wrongEmailToAccept)return this.renderWrongEmailToAccept();if(this.state.noPermissionToAccept)return this.renderNoPermissionToAccept();if(!this.state.valid)return this.renderNoValidate();var t,a,n=c()(this.state.invite,"workspaceInfo"),o=c()(n,"name");return o?(t=function(){return e.switchToContext(n)},a=r.a.createElement("span",null,"You just joined ",r.a.createElement("br",null)," ",o)):(t=function(){return e.props.history.push("/workspaces")},a=r.a.createElement("span",null,"Invitation accepted")),r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:a,button:r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"View workspace(s)",onClick:t})})}}]),a}(n.PureComponent),Vt=Object(s.g)(Object(w.b)(null,(function(e){return{setContext:function(t){return e(Object(N.g)(t))},loadWorkspaces:function(){return e(Object(Gt.q)())},loadUser:function(){return e(Object(Ht.l)())}}}))(qt)),Yt=function(e){var t=e.match,a=e.history.location,n=a.pathname,o=a.search,s=new u.a(n+o,!0);return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(Vt,{id:c()(t.params,"id"),firstLogin:s.query.firstLogin}))},Kt=a(69),Jt=a(194),Qt=(a(1310),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"renderList",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"CheckoutList line-bottom m-0 p-0 p-b-24"},this.props.items.map((function(e){var t=e.label,a=e.price,n=e.priceDescription;return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Text,{className:"Text--Detail CheckoutList__item"},t)),r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 end-xs"},r.a.createElement(v.Text,{className:"Text--Detail CheckoutList__item"},"$",Object(ct.formatNumber)(a,2)))),n&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 end-xs"},r.a.createElement(v.Text,{size:"x-small",className:"CheckoutList__item CheckoutList__item--grey"},n))))))}))),this.props.coupon&&r.a.createElement("div",{className:"row p-t-24 p-b-24 line-bottom"},this.props.coupon.active?this.renderCoupon():r.a.createElement("div",{className:"col-xs-12 flex end-xs p-b-8"},this.props.coupon.isSuccess?r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"x-small",className:"CheckoutCoupon__successfully m-r-8"},"Coupon successfully applied!"),r.a.createElement(v.A,{onClick:this.props.enableCoupon},"Change coupon")):r.a.createElement(v.A,{onClick:this.props.enableCoupon,"rb-test-id":"checkout-coupon-cta"},"I have a coupon"))))}},{key:"renderCoupon",value:function(){var e=c()(this.props.coupon,"value"),t={placeholder:"123456789",onChange:this.props.onChangeCoupon,value:e,"rb-test-id":"checkout-coupon-input"};return!1===c()(this.props.coupon,"isSuccess")&&(t=Object(F.a)(Object(F.a)({},t),{},{theme:"error",message:"Invalid coupon"})),r.a.createElement("form",{className:"CheckoutCoupon col-xs-12 p-b-24",onSubmit:this.props.onApplyCoupon},r.a.createElement("div",{className:"row top-xs"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Coupon code"},r.a.createElement(v.Input,t))),r.a.createElement("div",{className:"CheckoutCoupon__engageButtons Button__list col-xs-12 col-sm-6"},r.a.createElement(v.Button,{"rb-test-id":"checkout-apply-coupon-button",label:"Apply coupon",theme:"primary",onClick:this.props.onApplyCoupon,disabled:T()(e),isLoading:c()(this.props.coupon,"isProcessing"),block:!0}),r.a.createElement(v.Button,{onClick:this.props.disableCoupon,label:"Cancel",block:!0}))))}},{key:"renderVAT",value:function(){var e=c()(this.props.vat,"percentage"),t=c()(this.props.vat,"value");return e&&t?r.a.createElement("div",{className:"row p-t-24 p-b-24 line-bottom"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Text,{className:"CheckoutBody__secondary"},"VAT ",e,"%")),r.a.createElement("div",{className:"col-xs-6 end-xs"},r.a.createElement(v.Text,{className:"CheckoutBody__secondary"},"$",Object(ct.formatNumber)(t,2)))):null}},{key:"renderTotal",value:function(){return this.props.total?r.a.createElement("div",{className:"row p-t-24 p-b-24 line-bottom"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Text,{className:"CheckoutBody__secondary"},"Total")),r.a.createElement("div",{className:"col-xs-6 end-xs"},r.a.createElement(v.Text,{className:"CheckoutBody__secondary"},"$",Object(ct.formatNumber)(this.props.total,2)))):null}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"x-large",className:"Text-Title m-b-36"},"Checkout"),this.renderList(),this.renderVAT(),this.renderTotal())}}]),a}(n.PureComponent)),Xt=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"getItemsList",value:function(){var e=this;return this.props.items.map((function(t){var a=Object(A.b)(t),n=a.label,r=a.price,o=a.annualPrice,s={label:n,price:r};return(o||e.props.isRenew)&&(s=Object(F.a)(Object(F.a)({},s),{},{priceDescription:e.props.isRenew?"One year domain renewal":"First year, then ".concat(Object(ct.formatNumber)(o,2)," renewal")})),s}))}},{key:"render",value:function(){var e=this.props.items.find((function(e){return"domain"===e.type})),t=this.props,a=t.enableCoupon,n=t.disableCoupon,o=t.coupon,s=t.onChangeCoupon,i=t.onApplyCoupon,l={items:this.getItemsList(),vat:this.props.vat};return e&&(l=Object(F.a)(Object(F.a)({},l),{},{coupon:o,enableCoupon:a,disableCoupon:n,onChangeCoupon:s,onApplyCoupon:i})),!T()(this.props.price)&&(this.props.items.length>1||c()(this.props.vat,"value"))&&(l=Object(F.a)(Object(F.a)({},l),{},{total:this.props.price.full})),r.a.createElement(Qt,l)}}]),a}(n.PureComponent);Xt.defaultProps={price:{}};var Zt=Xt,$t=a(15),ea=a(37),ta=a(98),aa=a.n(ta),na=a(305),ra=a(193),oa=a(60),sa=a(83),ia=a(192),ca=a(179),la=(a(1313),["Please provide accurate information. These data is required by the domain registration authority to assign you the ownership of the domain(s) you register through Rebrandly. All fields are mandatory.","Domains registered with us can only be used for Rebrandly branded links.","VAT under the reverse charge procedure according to the local vat rules in your country. VAT code need to be a VIES valid VAT and will be double checked after your purchase."]),ua=function(e){if(!e)return null;var t=Object(ia.a)(e);return{label:c()(t,"country",e),value:e}},ma=function(e){if(!e)return null;var t=c()(ca.a,"[".concat(e,"]"));return{label:t?"".concat(t.name," (").concat(t.nativeName,")"):e,value:e}},pa=function(e){var t=e.error,a=e.placeholder,n=[],o=function(e){n=[].concat(Object(U.a)(n),Object(U.a)(t[e].map((function(t){return"[."+e+"] "+t}))))};for(var s in t)o(s);if(0===n.length)return null;if(1===n.length)return n[0];if(n.length>1){var i=r.a.createElement("ul",{className:"WhoisDataForm__Tooltip-error"},n.map((function(e,t){return r.a.createElement("li",{key:t},e)})),a&&r.a.createElement("li",null,"Example: ",a));return r.a.createElement(v.Tooltip,{overlay:i},r.a.createElement("span",null,"Multiple errors ",r.a.createElement(v.Icon,{size:"xsmall",color:"#d34547",name:"ic-information"})))}},da=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).mapFieldToLabel=function(e){switch(e){case"state":return"State / Region";case"lang":return"Language";case"country":return"Country";case"email":return"Email";case"registrantType":return"Account type";case"orgName":return"Company name";case"firstName":return"First name";case"lastName":return"Last name";case"entity_type":return"Entity type";case"nationality_code":return"Nationality code";case"city":return"City";case"address":return"Street address";case"postalCode":return"Postal code";case"fax":return"Fax";case"regCode":return"VAT code";case"tld":return"TLD";default:return null}},n.clearErrorMessage=function(e){n.setState({form:n.validator.clearErrorFromField(e)})},n.handleSubmitWhoisData=function(e){var t=n.props.tlds;return n.props.validateWhoisForm({data:e,tlds:t}).then((function(){var t=c()(n.props.billing,"data",{});if(T()(t)){var a=e.firstName,r=e.lastName,o=Object(ea.a)(e,["firstName","lastName"]);o.customerName=e.orgName||a+" "+r,n.props.submitBillingData(o)}return n.props.submitWhoisData(e).then(n.props.onValidatedData)})).catch((function(e){return e.data&&n.setState({form:n.validator.setErrors(e.data.tlds)})}))},n.generateRestrictionText=function(e){if(!c()(n.state.form,"".concat(e,".restrictedBy")))return null;var t=c()(n.state.form,"".concat(e,".restrictedBy.field"));return r.a.createElement(v.Text,{size:"x-small"},"Restricted by: ",n.mapFieldToLabel(t),"tld"===t&&" ."+c()(n.state.form,"".concat(e,".restrictedBy.value")))},n.setMobileSize=function(){return n.setState({mobile:document.body.clientWidth<oa.d.medium})},n.handleChange=function(e,t){if(e){var a=Object($t.a)({},e,t);if("email"!==e||n.state.warningRead){"phone"===e&&(a.phone=Object(na.buildPhoneWithValue)(t,n.state.form.phoneCountry.value)),"phoneCountry"===e&&(a.phone=Object(na.buildPhoneWithPrefix)(t,c()(n.state.form,"phone.value"))),"country"===e&&(a.state=null,a.city=null,a.regCode=null);var r=Object(F.a)(Object(F.a)({},n.getFormValues()),a);n.setState({form:n.validator.setData(r)},(function(){return n.setState({isValid:n.formElement.checkValidity()})}))}else n.setState({showEmailWarning:!0})}},n.getFormValues=function(){return Object.keys(n.state.form).reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object($t.a)({},t,n.state.form[t].value))}),{})},n.handleSubmit=function(e){e.preventDefault(),n.setState({isProcessing:!0},(function(){n.handleSubmitWhoisData(n.getFormValues()).finally((function(){return n.setState({isProcessing:!1})}))}))},n.formElement=null,n.setFormElementRef=function(e){e&&(n.formElement=e,n.setState({isValid:e.checkValidity()}))},n.state={isValid:!1,mobile:!1,errors:null,form:{},isLoadingFormData:!1,isProcessing:!1,showEmailWarning:!1,warningRead:!1},n.validator=new ra.a,n}return Object(y.a)(a,[{key:"getFormData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingFormData:!0}),e.prev=1,e.next=4,Object(b.Qc)().then((function(e){r.validator.setFields(e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Error while downloading Domains data");case 9:return e.prev=9,this.props.getBillingData(),e.next=13,Object(b.bd)();case 13:t=e.sent,e.next=21;break;case 16:return e.prev=16,e.t1=e.catch(9),e.next=20,Object(b.cd)();case 20:t=e.sent;case 21:t.tld=this.props.tlds,t.phoneCountry||(a=c()(window,"rebrandly.routing.viewer.country","").toLowerCase(),n=ra.e.find((function(e){return e.value===a})),t.phoneCountry=c()(n,"value",null)),this.setState({form:this.validator.setData(t),isLoadingFormData:!1});case 24:case"end":return e.stop()}}),e,this,[[1,6],[9,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){mt.a.track("whois-form-loaded",{location:window.location.href}),this.setMobileSize(),window.addEventListener("resize",this.setMobileSize),this.getFormData()}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setMobileSize)}},{key:"getStateOptions",value:function(){return aa()(this.validator.getStateOptions(),"label")}},{key:"renderForm",value:function(){var e=this,t=this.state,a=t.form,o=t.isValid,s=aa()(ra.e,"label").map((function(e){return Object(F.a)(Object(F.a)({},e),{},{label:r.a.createElement("span",null,r.a.createElement("i",{className:"m-r-8 flag flag--tiny flag-"+e.value})," ",e.label),tooltip:{overlay:e.name},searchString:e.label+" "+e.name})}));return r.a.createElement("form",{noValidate:!0,onChange:function(t){return e.handleChange(t.target.name,t.target.value)},onSubmit:this.handleSubmit,ref:this.setFormElementRef},Object.keys(a).includes("email")&&r.a.createElement("div",{className:"Form__group"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("email")+" *",size:"lg"},r.a.createElement(v.Input,{name:"email",type:"email",value:a.email.value||"",placeholder:"example: yourname@yourdomain.com",required:!0,onChange:function(){return e.clearErrorMessage("email")},message:pa(a.email),theme:a.email.error?"error":null}))),(Object.keys(a).includes("registrantType")||Object.keys(a).includes("orgName"))&&r.a.createElement("div",{className:"row Form__group"},Object.keys(a).includes("registrantType")&&r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("registrantType")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,"rb-test-id":"whois-data-account-type",triggerSize:!this.state.mobile&&"large",placeholder:"Select type",options:ra.b,value:ra.b.find((function(e){return e.value===a.registrantType.value})),onChange:function(t){return e.handleChange("registrantType",t.value)},closeOnSelect:!0,className:c()(a,"registrantType.error")?"WithError":null})),a.registrantType.error?r.a.createElement(v.Text,{size:"small",className:"WithError"},pa(a.registrantType)):this.generateRestrictionText("registrantType")),Object.keys(a).includes("orgName")&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-block display-sm-none col-xs-12 m-t-24"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("orgName")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"orgName.disabled",!1),name:"orgName",value:a.orgName.value||"",placeholder:"example: ACME ltd",required:!0,onChange:function(){return e.clearErrorMessage("orgName")},message:pa(a.orgName),theme:a.orgName.error?"error":null}))),r.a.createElement("div",{className:"display-none display-sm-block col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("orgName")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"orgName.disabled",!1),name:"orgName",value:a.orgName.value||"",placeholder:"example: ACME ltd",required:!0,onChange:function(){return e.clearErrorMessage("orgName")},message:pa(a.orgName),theme:a.orgName.error?"error":null}))))),r.a.createElement("div",{className:"row Form__group"},Object.keys(a).includes("firstName")&&r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("firstName")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"firstName.disabled",!1),"rb-test-id":"whois-data-first-name",name:"firstName",value:a.firstName.value||"",placeholder:"example: john",required:!0,onChange:function(){return e.clearErrorMessage("firstName")},message:pa(a.firstName),theme:a.firstName.error?"error":null}))),Object.keys(a).includes("lastName")&&r.a.createElement("div",{className:"WhoisDataForm__lastName col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("lastName")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"lastName.disabled",!1),"rb-test-id":"whois-data-last-name",name:"lastName",value:a.lastName.value||"",placeholder:"example: Doe",required:!0,onChange:function(){return e.clearErrorMessage("lastName")},message:pa(a.lastName),theme:a.lastName.error?"error":null})))),Object.keys(a).includes("country")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("country")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,disabled:c()(a,"country.disabled",!1),triggerSize:!this.state.mobile&&"large",options:a.country.options.map((function(e){return ua(e.value)})),value:ua(a.country.value),onChange:function(t){return e.handleChange("country",t.value)},closeOnSelect:!0,className:c()(a,"country.error")?"WithError":null})),a.country.error?r.a.createElement(v.Text,{size:"small",className:"WithError"},pa(a.country)):this.generateRestrictionText("country")),Object.keys(a).includes("lang")&&r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("lang")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,placeholder:"example: english",disabled:c()(a,"lang.disabled",!1),triggerSize:!this.state.mobile&&"large",options:a.lang.options.map((function(e){return ma(e.value)})),value:ma(a.lang.value),onChange:function(t){return e.handleChange("lang",t.value)},closeOnSelect:!0,className:c()(a,"lang.error")?"WithError":null})),a.lang.error?r.a.createElement(v.Text,{size:"small",className:"WithError"},pa(a.lang)):this.generateRestrictionText("lang"))),Object.keys(a).includes("state")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("state")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,disabled:c()(a,"state.disabled",!1),triggerSize:!this.state.mobile&&"large",options:a.state.options,value:a.state.options.find((function(e){return e.value===a.state.value})),onChange:function(t){return e.handleChange("state",t.value)},closeOnSelect:!0,className:c()(a,"state.error")?"WithError":null})),a.state.error?r.a.createElement(v.Text,{size:"small",className:"WithError"},pa(a.state)):this.generateRestrictionText("state"))),Object.keys(a).includes("entity_type")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("entity_type")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,disabled:c()(a,"entity_type.disabled",!1),triggerSize:!this.state.mobile&&"large",value:a.entity_type.options.find((function(e){return e.value===a.entity_type.value})),options:a.entity_type.options,onChange:function(t){return e.handleChange("entity_type",t.value)},closeOnSelect:!0,className:c()(a,"entity_type.error")?"WithError":null})),this.generateRestrictionText("entity_type"))),Object.keys(a).includes("nationality_code")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("nationality_code")+" *",size:"lg"},r.a.createElement(v.Selector,{required:!0,disabled:c()(a,"nationality_code.disabled",!1),triggerSize:!this.state.mobile&&"large",value:a.nationality_code.options.find((function(e){return e.value===a.nationality_code.value})),options:a.nationality_code.options,onChange:function(t){return e.handleChange("nationality_code",t.value)},closeOnSelect:!0,className:c()(a,"nationality_code.error")?"WithError":null})),this.generateRestrictionText("nationality_code"))),Object.keys(a).includes("city")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("city")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"city.disabled",!1),"rb-test-id":"whois-data-city",name:"city",value:a.city.value||"",placeholder:"example: Springfield",required:!0,onChange:function(){return e.clearErrorMessage("city")},message:pa(a.city),theme:a.city.error?"error":null})))),Object.keys(a).includes("address")&&r.a.createElement("div",{className:"Form__group"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("address")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"address.disabled",!1),"rb-test-id":"whois-data-address",name:"address",value:a.address.value||"",placeholder:"example: 7th Avenue, 45",required:!0,onChange:function(){return e.clearErrorMessage("address")},message:pa(a.address),theme:a.address.error?"error":null}))),Object.keys(a).includes("postalCode")&&r.a.createElement("div",{className:"Form__group"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("postalCode")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"postalCode.disabled",!1),"rb-test-id":"whois-data-postal-code",name:"postalCode",value:a.postalCode.value||"",required:!0,onChange:function(){return e.clearErrorMessage("postalCode")},placeholder:c()(a,"['postalCode'].placeholder",""),message:pa(a.postalCode),theme:a.postalCode.error?"error":null}))),Object.keys(a).includes("phone")&&r.a.createElement("div",{className:"WhoisDataForm__phone Text--SubTitle Form__group row"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Label,{value:"Phone country code\xa0*",size:"lg"},r.a.createElement(v.Selector,{required:!0,disabled:c()(a,"phone.disabled",!1),"rb-test-id":"whois-data-phone-prefix",triggerSize:!this.state.mobile&&"large",options:s,value:s.find((function(e){return e.value===a.phoneCountry.value})),onChange:function(t){return e.handleChange("phoneCountry",t.value)},onSearch:this.handleSearchPhonePrefix,closeOnSelect:!0,showSearch:!0}))),r.a.createElement("div",{className:"col-xs"},r.a.createElement(v.Label,{value:"Phone number *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"phone.disabled",!1),"rb-test-id":"whois-data-phone",name:"phone",value:a.phone.value?a.phone.value.split(".")[1]:"",placeholder:"example: 2908712472",required:!0,onChange:function(){return e.clearErrorMessage("phone")},message:pa(a.phone),theme:a.phone.error?"error":null,pattern:"[0-9]*",type:"tel"}))),Object.keys(a).includes("fax")&&r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("fax")+" *",size:"lg"},r.a.createElement(v.Input,{disabled:c()(a,"fax.disabled",!1),"rb-test-id":"whois-data-fax",name:"fax",value:a.fax.value,placeholder:"example: 2908712472",required:!0,onChange:function(){return e.clearErrorMessage("fax")},message:pa(a.fax),theme:a.fax.error?"error":null})))),Object.keys(a).includes("regCode")&&r.a.createElement("div",{className:"row Form__group"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Label,{value:this.mapFieldToLabel("regCode")+" *",size:"lg"},r.a.createElement(v.Input,{name:"regCode",value:a.regCode.value||"",placeholder:c()(a,"['regCode'].placeholder","VAT code"),required:!0,onChange:function(){return e.clearErrorMessage("regCode")},message:pa(a.regCode),theme:a.regCode.error?"error":null})))),r.a.createElement("aside",{className:"WhoisDataForm__notes"},r.a.createElement(v.Text,{size:"small"},"Important notes:"),r.a.createElement("ul",null,la.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"m-t-64 row end-xs"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Button,{"rb-test-id":"whois-data-next-button",type:"submit",label:"Next",theme:"checkout",size:"lg",disabled:!o||this.state.isProcessing,isLoading:this.state.isProcessing,block:!0}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Page"},r.a.createElement("header",{className:"m-b-48"},r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{"rb-test-id":"domain-registration-information-title",className:"Text-Title",suze:"large"},"Domain Registration Information"),r.a.createElement(v.Text,{className:"Text--SubDetail m-t-8",size:"small"},"* All fields are mandatory"))),this.state.isLoadingFormData?r.a.createElement(v.Loading,{size:"md",withMargin:!0}):this.renderForm(),r.a.createElement(he.a,{isOpen:this.state.showEmailWarning,icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Changing your email?",message:r.a.createElement("span",null,"This email is used to verify the domain owner\u2019s identity. If you change it please, be sure that the new email is ",r.a.createElement("strong",null,"valid and regularly checked"),". After the domain is registered you will receive a verification link.",r.a.createElement("br",null),"Domain WHOIS data is NOT public and your data will not be exposed."),secondaryButtonProps:{label:"Ok, got it",onClick:function(){return e.setState({showEmailWarning:!1,warningRead:!0})}}}))}}]),a}(n.PureComponent),ha=Object(w.b)((function(e){return{billing:e.account.billing}}),(function(e){return{validateWhoisForm:function(t){return e(Object(sa.q)(t))},submitWhoisData:function(t){return e(Object(sa.j)(t))},submitBillingData:function(t){return e(Object(Ht.f)(t))},getBillingData:function(){return e(Object(Ht.i)())}}}))(da),ba=a(673),fa=(a(674),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"performBlur",value:function(){this.props.isOpen&&document.body.classList.add("card-data-blurred")}},{key:"componentDidUpdate",value:function(){this.performBlur()}},{key:"componentDidMount",value:function(){this.performBlur()}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("card-data-blurred")}},{key:"render",value:function(){var e,t,a=this.props,n=a.isOpen,o=a.onClose,s=a.error,i=s.message,c=s.ctas,l=c.contact,u=c.tryLater;return l&&(t={label:"Contact us",theme:"secondary",onClick:function(){return window.open("https://rebrandly.support/contact","_blank")}}),c.tryAgain&&(e={label:"Try again",theme:"primary",onClick:o}),r.a.createElement(he.a,{showClose:u,isOpen:!!n,onClose:o,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Payment issue",message:i,primaryButtonProps:e,secondaryButtonProps:t})}}]),a}(n.Component)),ga=fa,va=function(e){var t=e.error,a=Object(ea.a)(e,["error"]);return t?"stripe"===t.emitter?r.a.createElement(ga,Object.assign({error:t},a)):r.a.createElement(ba.a,Object.assign({error:t},a)):null},Ea=a(258),ya=a(58),ka=a(311),Oa=function(e){var t=e.code,a=e.decline_code,n=a?ka.stripe2rebrandly[t]&&ka.stripe2rebrandly[t].more&&ka.stripe2rebrandly[t].more[a]:ka.stripe2rebrandly[t],r={emitter:"stripe",ctas:{tryAgain:!0,tryLater:!0,contact:!1}};return n.message?(r.message=n.message,n.actionables.tryLater&&!n.actionables.contact.issuer?(r.ctas.tryLater=!0,r.nextSteps="Please try again later."):n.actionables.tryLater&&n.actionables.contact.issuer?(r.ctas.tryLater=!0,r.nextSteps="Please try again later or reach out your bank\xa0for further assistance with this."):!n.actionables.tryLater&&n.actionables.contact.issuer&&(r.nextSteps="Please reach out your bank for further assistance with this, or provide another payment method."),n.actionables.contact.merchant&&(r.ctas.contact=!0)):r.message="Unexpected error occurred.",r},wa=a(105),ja=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,hasValidData:!1,error:null,coupon:{active:!1,value:"",isProcessing:!1,isSuccess:null},showResourcesLimitExceeded:!1,isProcessing:!1},e.openInvalidCartModal=function(){return e.setState({showResourcesLimitExceeded:!0})},e.closeInvalidCartModal=function(){return e.setState({showResourcesLimitExceeded:!1})},e.enableCoupon=function(t){t.preventDefault(),e.setState({coupon:Object(F.a)(Object(F.a)({},e.state.coupon),{},{active:!0})})},e.disableCoupon=function(t){t.preventDefault(),e.setState({coupon:Object(F.a)(Object(F.a)({},e.state.coupon),{},{active:!1})})},e.onChangeCoupon=function(t){var a=Object(F.a)(Object(F.a)({},e.state.coupon),{},{value:t});T()(t)&&(a=Object(F.a)(Object(F.a)({},a),{},{isSuccess:null})),e.setState({coupon:a})},e.handleCoupon=function(t){t.preventDefault();var a=e.state.coupon,n=c()(a,"value");if(T()(n))return!1;e.setState({coupon:Object(F.a)(Object(F.a)({},a),{},{isProcessing:!0})}),e.props.applyCoupon(e.props.cart.id,n).then((function(){return e.setState({coupon:Object(F.a)(Object(F.a)({},a),{},{value:"",isProcessing:!1,isSuccess:!0,active:!1})})})).catch((function(){return e.setState({coupon:Object(F.a)(Object(F.a)({},a),{},{isProcessing:!1,isSuccess:!1})})}))},e.handleCheckout=function(t){var a=e.props,n=a.cart,r=a.flushCart,o=a.history,s=a.type,i=a.couponCode,l=a.isCartValid,u=e.state.coupon.isSuccess;if(!l(n))return e.openInvalidCartModal();var p,f=c()(n,"price.full",0);t=f>0?t:null;var g=i&&i.toUpperCase();return 0===f?p=!0!==u||T()(g)?Object(b.o)(n.id):Object(b.p)(n.id,void 0,g):"braintree"===m.a.payments.provider?p=!0!==u||T()(g)?Object(b.o)(n.id,t):Object(b.p)(n.id,t,g):"stripe"===m.a.payments.provider&&(p=(!0!==u||T()(g)?Object(b.Xc)(n.id):Object(b.Yc)(n.id,g)).then(function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.clientSecret,r=e.props.elements.getElement(wa.CardElement),t.abrupt("return",e.props.stripe.confirmCardPayment(n,{save_payment_method:!0,payment_method:{card:r,billing_details:{email:e.props.account.email}}}).then((function(e){var t=e.paymentIntent,a=e.error;return a?Promise.reject(Oa(a)):t})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){return e.setState({isProcessing:!1})}))),e.setState({isProcessing:!0}),p.then((function(t){window&&window.dataLayer&&window.dataLayer.push({event:"DomainSubscriptionCheckoutSuccess",TransactionValue:e.props.cart.price.net,TransactionID:e.props.cart.id,AccountID:e.props.account.id}),r(),o.push({pathname:"/success/".concat(s)})})).catch((function(t){e.setState({error:"stripe"===t.emitter?t:c()(t,"message","error")})}))},e.closeRenderPaymentErrorModal=function(){return e.setState({error:null})},e.validateCardData=function(t){e.setState({isCardComplete:c()(t,"complete")})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,n,r,o,s,i,l,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.cart,n=t.location,r=t.history,o=t.isCartValid,s=new u.a(n.pathname+n.search,!0),i=s.query.cartID,l=s.query.coupon,i||!T()(a.items)){e.next=6;break}return e.abrupt("return",r.push("/links"));case 6:if(a.id&&!o(a)&&this.openInvalidCartModal(),!i){e.next=23;break}return this.setState({isLoading:!0}),m=l?this.props.downloadCartWithCoupon:this.props.downloadCart,e.prev=10,e.t0=c.a,e.next=14,m(i,l);case 14:e.t1=e.sent,p=(0,e.t0)(e.t1,"value"),T()(p.items)?r.push("/links"):(this.setState({isLoading:!1,coupon:Object(F.a)(Object(F.a)({},this.state.coupon),{},{isSuccess:!!l||null})}),r.replace({search:""}),o(p)||this.openInvalidCartModal()),e.next=22;break;case 19:e.prev=19,e.t2=e.catch(10),r.push("/links");case 22:mt.a.track("checkout-started");case 23:case"end":return e.stop()}}),e,this,[[10,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.couponCode!==this.props.couponCode&&this.setState({coupon:Object(F.a)(Object(F.a)({},this.state.coupon),{},{isSuccess:!!this.props.couponCode})})}},{key:"renderPayment",value:function(){var e=Object.values(this.props.items),t=c()(this.props.cart,"price"),a=c()(this.props.cart,"vat"),o=c()(t,"full",0),s=0===o||this.state.isCardComplete;if(T()(e))return r.a.createElement(Kt.c,null);var i={size:"lg",label:0===o?"Checkout":"Pay $".concat(Object(ct.formatNumber)(o,2)),theme:"checkout",block:!0,"rb-test-id":"pay-button",disabled:!s},l={items:e,coupon:this.state.coupon,enableCoupon:this.enableCoupon,disableCoupon:this.disableCoupon,onChangeCoupon:this.onChangeCoupon,onApplyCoupon:this.handleCoupon};if(t){var u={value:c()(t,"vat")};a&&(u=Object(F.a)(Object(F.a)({},u),{},{percentage:a})),l=Object(F.a)(Object(F.a)({},l),{},{price:t,vat:u})}return this.state.isProcessing&&(i=Object(F.a)(Object(F.a)({},i),{},{label:"Processing..",icon:{name:"ic-search",size:"md"},disabled:!0})),r.a.createElement(n.Fragment,null,r.a.createElement(Zt,l),r.a.createElement(va,{error:this.state.error,isOpen:!!this.state.error,onClose:this.closeRenderPaymentErrorModal}),o>0?r.a.createElement("div",{className:"m-t-36"},r.a.createElement(Jt.a,{handleCardChange:this.validateCardData,amount:o,handleSubmit:this.handleCheckout,renderSubmitButton:function(e){return r.a.createElement(v.Button,Object.assign({},e,i))}})):r.a.createElement(v.Button,Object.assign({onClick:this.handleCheckout},i)))}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement(v.Loading,{label:"Loading, please wait..."}):r.a.createElement(n.Fragment,null,this.state.hasValidData?this.renderPayment():r.a.createElement(ha,{tlds:Object.values(this.props.items).filter((function(e){return!!e.tld})).map((function(e){return e.tld})),fields:this.state.fields,onValidatedData:function(){return e.setState({hasValidData:!0})}}),r.a.createElement(Ea.a,{type:"domain",onClose:this.closeInvalidCartModal,primaryButton:{label:"Upgrade now",onClick:function(){return e.props.history.push("/pricing")}},isOpen:this.state.showResourcesLimitExceeded}))}}]),a}(n.PureComponent),Ca=Object(s.g)(Object(w.b)((function(e){var t=e.cart,a=e.account,n=e.session;return{account:a,cart:t,items:Object(F.a)(Object(F.a)({},t.items),t.features),isCartValid:function(e){return Object(ya.g)(e,a,n)},couponCode:c()(t,"promo.code")}}),(function(e){return{downloadCart:function(t){return e(Object(ut.d)(t))},downloadCartWithCoupon:function(t,a){return e(Object(ut.e)(t,a))},flushCart:function(){return e(Object(ut.c)())},validateWhoisForm:function(t){return e(Object(sa.q)(t))},submitWhoisData:function(t){return e(Object(sa.j)(t))},applyCoupon:function(t,a){return e(Object(ut.e)(t,a))}}}))((function(e){return r.a.createElement(wa.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(ja,Object.assign({},e,{stripe:a,elements:n}))}))}))),Na=a(675),Sa=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={cart:null,isLoading:!1,data:null,errors:null,hasValidData:!1,isLoadingFormData:!1,error:null,showErrorModal:!1,isProcessing:!1},e.openErrorModal=function(){return e.setState({showErrorModal:!0})},e.closeErrorModal=function(){return e.setState({showErrorModal:!1})},e.handleCheckout=function(t){var a=e.props,n=a.history,r=a.loadUser;if(!(0,a.isCartValid)(e.state.cart))return e.openErrorModal();var o,s=c()(e.state.cart,"price.full",0);return t=s>0?t:null,e.setState({isProcessing:!0}),0===s?o=function(){return Object(b.o)(e.state.cart.id)}:"braintree"===m.a.payments.provider?o=function(){return Object(b.o)(e.state.cart.id,t)}:"stripe"===m.a.payments.provider&&(o=function(){return Object(b.Xc)(e.state.cart.id).then(function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.clientSecret,r=e.props.elements.getElement(wa.CardElement),t.abrupt("return",e.props.stripe.confirmCardPayment(n,{save_payment_method:!0,payment_method:{card:r,billing_details:{email:e.props.account.email}}}).then((function(e){var t=e.paymentIntent,a=e.error;return a?Promise.reject(Oa(a)):t})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){return e.setState({isProcessing:!1})}))}),o().then((function(t){window&&window.dataLayer&&window.dataLayer.push({event:"PlanSubscriptionCheckoutSuccess",TransactionValue:e.state.cart.price.net,TransactionID:e.state.cart.id,AccountID:e.props.account.id}),setTimeout((function(){return r()}),2e3),n.push({pathname:"/success/plan"})})).catch((function(t){e.setState({error:"stripe"===t.emitter?t:c()(t,"message","error")})}))},e.handleSubmitBillingData=function(t){e.setState({isLoading:!0},(function(){e.props.submitBillingData(t).then((function(){return e.createQuickCart()})).catch((function(t){return e.setState({errors:t.data.errors})}))}))},e.handleResetError=function(t){var a=e.state.errors;a&&e.setState({errors:a.filter((function(e){return e.property!==t}))})},e.closeRenderPaymentErrorModal=function(){return e.setState({error:null})},e.validateCardData=function(t){e.setState({isCardComplete:c()(t,"complete")})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.id||this.props.history.push({pathname:"/links"}),this.setState({isLoading:!0}),this.getBillingData().then((function(){return e.setState({isLoading:!1})}))}},{key:"createQuickCart",value:function(){var e=this;return this.setState({isLoading:!0}),Object(b.K)().then((function(t){e.setState({cart:t}),Object(b.b)(t.id,{type:"plan",payload:{deal:e.props.id}}).then((function(t){e.setState({cart:t,isLoading:!1,hasValidData:!0,isLoadingFormData:!1})})).catch((function(){return e.props.history.push("/links")}))}))}},{key:"getBillingData",value:function(){var e=this;return this.setState({isLoadingFormData:!0,isLoading:!0}),this.props.loadBillingData().then((function(){var t=c()(e.props.account,"billing.data");T()(t)?Object(b.Nc)().then((function(t){return e.setState({data:t,isLoadingFormData:!1,isLoading:!1})})):e.setState({data:t},e.createQuickCart)}))}},{key:"renderPayment",value:function(){var e=c()(this.state.cart,"items",[]),t=c()(this.state.cart,"price"),a=c()(this.state.cart,"vat"),o=c()(t,"full",0),s=0===o||this.state.isCardComplete,i={size:"lg",label:0===o?"Checkout":"Pay $".concat(Object(ct.formatNumber)(o,2)),theme:"checkout",block:!0,"rb-test-id":0===o?"pay-free-button":"pay-button",disabled:!s},l={items:e};if(t){var u={value:c()(t,"vat")};a&&(u=Object(F.a)(Object(F.a)({},u),{},{percentage:a})),l=Object(F.a)(Object(F.a)({},l),{},{price:t,vat:u})}return this.state.isProcessing&&(i=Object(F.a)(Object(F.a)({},i),{},{label:"Processing..",icon:{name:"ic-search",size:"md"},disabled:!0})),r.a.createElement(n.Fragment,null,r.a.createElement(Zt,l),r.a.createElement(va,{error:this.state.error,isOpen:!!this.state.error,onClose:this.closeRenderPaymentErrorModal}),o>0?r.a.createElement("div",{className:"m-t-36"},r.a.createElement(Jt.a,{handleCardChange:this.validateCardData,amount:o,handleSubmit:this.handleCheckout,renderSubmitButton:function(e){return r.a.createElement(v.Button,Object.assign({},e,i))}})):r.a.createElement(v.Button,Object.assign({onClick:this.handleCheckout},i)))}},{key:"renderForm",value:function(){return r.a.createElement("div",{className:"Page"},r.a.createElement("header",{className:"m-b-48"},r.a.createElement(v.Text,{className:"Text-Title",size:"large"},"Billing data for invoicing"),r.a.createElement(v.Text,{className:"Text--SubDetail m-t-8",size:"small"},"* mandatory fields")),this.state.isLoadingFormData?r.a.createElement(v.Loading,{size:"md",withMargin:!0}):r.a.createElement(Na.a,{data:this.state.data,errors:this.state.errors,submitLabel:"Next",fullPage:!0,onSubmit:this.handleSubmitBillingData,onResetError:this.handleResetError}))}},{key:"render",value:function(){return this.state.isLoading||this.state.isLoadingFormData?r.a.createElement(v.Loading,{label:"Loading, please wait..."}):r.a.createElement(n.Fragment,null,this.state.hasValidData?this.renderPayment():this.renderForm(),r.a.createElement(Ea.a,{type:"plan",onClose:this.closeErrorModal,isOpen:this.state.showErrorModal}))}}]),a}(n.PureComponent),xa=Object(s.g)(Object(w.b)((function(e){return{account:e.account,isCartValid:function(t){return Object(ya.g)(t,e.account,e.session)}}}),(function(e){return{loadBillingData:function(){return e(Object(Ht.i)())},submitBillingData:function(t){return e(Object(Ht.f)(t))},showError:function(t){return e(Object(W.a)(q.b,!1,t))},loadUser:function(){return e(Object(Ht.l)())}}}))((function(e){return r.a.createElement(wa.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(Sa,Object.assign({},e,{stripe:a,elements:n}))}))}))),La=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,error:null,isProcessing:!1},e.handleCheckout=function(t){var a;return e.setState({isProcessing:!0}),"braintree"===m.a.payments.provider?a=function(){return Object(b.wd)(e.props.id,t)}:"stripe"===m.a.payments.provider&&(a=function(){return Object(b.Zc)(e.props.id).then(function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.clientSecret,r=e.props.elements.getElement(wa.CardElement),t.abrupt("return",e.props.stripe.confirmCardPayment(n,{save_payment_method:!0,payment_method:{card:r,billing_details:{email:e.props.account.email}}}).then((function(e){var t=e.paymentIntent,a=e.error;return a?Promise.reject(Oa(a)):t})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){return e.setState({isProcessing:!1})}))}),a().then((function(){return e.props.history.push({pathname:"/success/renew"})})).catch((function(t){e.setState({error:"stripe"===t.emitter?t:c()(t,"message","error")})}))},e.closeRenderPaymentErrorModal=function(){return e.setState({error:null})},e.validateCardData=function(t){e.setState({isCardComplete:c()(t,"complete")})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),this.props.loadDomain(this.props.id).catch((function(){return e.props.history.push("/links")})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){if(this.state.isLoading||!this.props.domain)return r.a.createElement(v.Loading,{label:"Loading, please wait..."});var e=c()(this.props.domain,"pricing.renewal"),t=c()(this.props.domain,"pricing.vat"),a=e+e*t/100,o=0===a||this.state.isCardComplete,s={size:"lg",label:"Pay $".concat(Object(ct.formatNumber)(a,2)),theme:"checkout",block:!0,"rb-test-id":"pay-button",disabled:!o},i={items:[this.props.domain],isRenew:!0};if(t){var l={percentage:t};e&&(l=Object(F.a)(Object(F.a)({},l),{},{value:e*t/100})),i=Object(F.a)(Object(F.a)({},i),{},{vat:l})}return this.state.isProcessing&&(s=Object(F.a)(Object(F.a)({},s),{},{label:"Processing..",icon:{name:"ic-search",size:"md"},disabled:!0})),r.a.createElement(n.Fragment,null,r.a.createElement(Zt,i),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(Jt.a,{handleCardChange:this.validateCardData,amount:a,handleSubmit:this.handleCheckout,renderSubmitButton:function(e){return r.a.createElement(v.Button,Object.assign({},e,s))}})),r.a.createElement(va,{error:this.state.error,isOpen:!!this.state.error,onClose:this.closeRenderPaymentErrorModal}))}}]),a}(n.PureComponent),Ta=Object(s.g)(Object(w.b)((function(e,t){return{account:e.account,domain:c()(e.accountDomains.items,"[".concat(t.id,"]"),{})}}),(function(e){return{loadDomain:function(t){return e(Object(sa.d)(t))}}}))((function(e){return r.a.createElement(wa.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(La,Object.assign({},e,{stripe:a,elements:n}))}))}))),_a=a(379),Da=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,error:null,isProcessing:!1},e.handleCheckout=function(t){var a,n=e.props,r=n.id,o=n.history;return e.setState({isProcessing:!0}),"braintree"===m.a.payments.provider?a=function(){return Object(b.Ad)(r,t)}:"stripe"===m.a.payments.provider&&(a=function(){return Object(b.ad)(r).then(function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.clientSecret,r=e.props.elements.getElement(wa.CardElement),console.log(r),t.abrupt("return",e.props.stripe.confirmCardPayment(n,{save_payment_method:!0,payment_method:{card:r,billing_details:{email:e.props.account.email}}}).then((function(e){var t=e.paymentIntent,a=e.error;return a?Promise.reject(Oa(a)):t})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){return e.setState({isProcessing:!1})}))}),a().then((function(){o.push({pathname:"/success/order"})})).catch((function(t){e.setState({error:"stripe"===t.emitter?t:c()(t,"message","error")})}))},e.closeRenderPaymentErrorModal=function(){return e.setState({error:null})},e.validateCardData=function(t){e.setState({isCardComplete:c()(t,"complete")})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.orders,n=t.loadTransaction,r=t.id,o=t.history;if(c()(a,"items[".concat(r,"]")))return!1;this.setState({isLoading:!0}),n(r).catch((function(){return o.push("/links")})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"getItemsList",value:function(){var e=c()(this.props.orders,"items[".concat(this.props.id,"]"));return e.items.map((function(t){var a=t.grand,n={label:Object(_a.a)(t,e.renew),price:a.net};return e.renew&&(n=Object(F.a)(Object(F.a)({},n),{},{priceDescription:"".concat(Object(_a.h)(t)," ").concat(Object(_a.c)(t)," renewal")})),n}))}},{key:"render",value:function(){var e=c()(this.props.orders,"items[".concat(this.props.id,"]")),t=c()(e,"grand.full"),a=c()(e,"grand.vat",0),o=c()(e,"grand.vatPercent",0),s=0===t||this.state.isCardComplete;if(this.state.isLoading||!e)return r.a.createElement(v.Loading,{label:"Loading, please wait..."});var i={size:"lg",label:t&&"Pay $".concat(Object(ct.formatNumber)(t,2)),theme:"checkout",block:!0,"rb-test-id":"pay-button",disabled:!s};this.state.isProcessing&&(i=Object(F.a)(Object(F.a)({},i),{},{label:"Processing..",icon:{name:"ic-search",size:"md"},disabled:!0}));var l={items:this.getItemsList()};return(e.items.length>1||0!==a)&&(l=Object(F.a)(Object(F.a)({},l),{},{total:t})),0!==o&&0!==a&&(l=Object(F.a)(Object(F.a)({},l),{},{vat:{value:a,percentage:o}})),r.a.createElement(n.Fragment,null,r.a.createElement(Qt,l),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(Jt.a,{handleCardChange:this.validateCardData,amount:t,handleSubmit:this.handleCheckout,renderSubmitButton:function(e){return r.a.createElement(v.Button,Object.assign({},e,i))}})),r.a.createElement(va,{error:this.state.error,isOpen:!!this.state.error,onClose:this.closeRenderPaymentErrorModal}))}}]),a}(n.PureComponent),Aa=Object(s.g)(Object(w.b)((function(e){return{account:e.account,orders:e.account.transactions}}),(function(e){return{loadTransaction:function(t){return e(Object(Ht.j)(t))}}}))((function(e){return r.a.createElement(wa.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(Da,Object.assign({},e,{stripe:a,elements:n}))}))}))),Ia=function(e){var t,a=e.match,n=c()(a.params,"type"),o=c()(a.params,"id");switch(mt.a.track("checkout-page-loaded",{location:window.location.href,page:window.location.pathname}),n){case"domains":t=r.a.createElement(Ca,{type:"domains"});break;case"plan":t=r.a.createElement(xa,{id:o});break;case"renew":t=r.a.createElement(Ta,{id:o});break;case"retry":t=r.a.createElement(Aa,{id:o});break;default:t=r.a.createElement(s.a,{to:"/links"})}return r.a.createElement("div",{className:"Container--narrow Page"},t)},Ma=a(52),Ra=a.n(Ma),Pa=a(73),za=a.n(Pa),Fa=a(252),Ua=a(127),Ba=a(196),Wa=a(265),Ga=a(137),Ha=a(139),qa=a(142),Va=(a(676),function(e){return Object(F.a)(Object(F.a)({},e),{},{label:e.fullName,value:e.id})}),Ya=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={showTags:!1,showScripts:!1,event:null},e.selectDomain=function(t){return e.props.onSelectDomain(t&&t.id)},e.handleNewDomain=function(){if(e.props.onNewDomainClick)return e.props.onNewDomainClick();e.props.history.push("/domains/new")},e.renderManageDomainsFooter=function(){var t={label:0===e.props.countCustomDomains&&e.props.canManageDomains?"Register new domain":"Manage domains",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"},disabled:!e.props.canManageDomains,onClick:function(){return!!e.props.canManageDomains&&(0===e.props.countCustomDomains?e.handleNewDomain():e.props.openManageDomainsModal())}},a=r.a.createElement("span",null,"You are not allowed to add domains",r.a.createElement("br",null),"in this workspace. ",r.a.createElement(Ae.a,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115006434008-How-to-Update-or-Change-a-Workspace"},"Learn more"));return 0===e.props.countCustomDomains&&e.props.canManageDomains?r.a.createElement(Fa.a,null,r.a.createElement(v.Button,t)):r.a.createElement(v.Tooltip,{overlay:a,placement:"top",display:!e.props.canManageDomains},r.a.createElement(v.Button,Object.assign({},t,{"data-toggle":!0})))},e.submit=function(t){t.preventDefault(),e.props.domain&&e.props.file&&!e.props.error&&e.props.onUpload(t)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.domain&&this.props.file&&!this.props.error,a=this.props.domains.filter((function(t){return e.props.term.length<=2||t.fullName.includes(e.props.term)})).filter((function(e){return e.active})).map(Va);a=aa()(a,["fullName","age"],["asc","desc"]);var o=r.a.createElement("span",null,"Drag and drop the file, or ",r.a.createElement("span",{className:"UploadFile__text--engage font-semibold"},"Select from computer")," "),s=r.a.createElement(v.Icon,{name:"ic-file",color:"#c7c9cb",size:"sm"});return this.props.file&&(s=this.props.error?s:r.a.createElement(v.Icon,{name:"ic-success",color:"#02af63",size:"sm"}),o=this.props.error?o:r.a.createElement("span",null,this.props.file.name," ",r.a.createElement("span",{className:"UploadFile__text--engage font-semibold"},"edit")," ")),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"m-b-36"},r.a.createElement("div",{className:"flex middle-xs m-b-8"},r.a.createElement(v.Text,{className:"Text-Title",size:"large"},"Bulk link import"),r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Bulk link import allow you to import and",r.a.createElement("br",null),"rebrand multiple links at once. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011661753",target:"_blank"},"Learn more")),placement:"right"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Avatar,{img:this.props.workspace.avatarUrl}),r.a.createElement(v.Text,{className:"Text--SubDetail m-l-8",size:"small",singleLine:!0},this.props.workspace.name))),r.a.createElement("div",{className:"Form__group row"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Branded domain",size:"sm"},r.a.createElement(v.Selector,{placeholder:T()(a)?"No active domains in this workspace":"Select domain",isLoading:this.props.isLoadingDomains,options:a,value:this.props.domain&&Va(this.props.domain),footer:this.renderManageDomainsFooter(),onChange:this.selectDomain,term:this.props.term,onSearch:function(t){return e.props.searchSharedDomain(t)},onLoadMore:this.props.loadMoreSharedDomains,showLoadMore:this.props.domainsCount>this.props.domains.length,showSearch:this.props.domainsCount>5,closeOnSelect:!0})))),this.state.showTags&&r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Tooltip,{overlay:Ha.d,placement:"top"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-tags",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(Ua.a,{resource:"tag",controller:r.a.createElement(Ba.a,{workspaceId:this.props.workspace.id,canManageOptions:this.props.canManageTags,canAddMore:Object(Ha.a)(this.props.selectedTags)}),workspaceId:this.props.workspace.id,selectedElements:this.props.selectedTags,onChange:this.props.onSelectTags,canEdit:!0})),this.state.showScripts&&r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Tooltip,{overlay:qa.b,placement:"top"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-retarget",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(Ua.a,{resource:"script",controller:r.a.createElement(Wa.a,{workspaceId:this.props.workspace.id,canManageOptions:this.props.canManageScripts,canAddMore:Object(qa.a)(this.props.selectedScripts)}),workspaceId:this.props.workspace.id,selectedElements:this.props.selectedScripts,onChange:this.props.onSelectScripts,canEdit:!0})),r.a.createElement(Ga.a,{items:[{label:"Tags",visible:!this.state.showTags,onClick:function(){return e.setState({showTags:!0})}},{label:"Retargeting scripts",visible:!this.state.showScripts,onClick:function(){return e.setState({showScripts:!0})}}]}),r.a.createElement("form",{onChange:this.props.onChange,onSubmit:this.submit},r.a.createElement("div",{className:C()("m-b-8",{"m-t-24":!this.state.showScripts||!this.state.showTags})},r.a.createElement(v.InputFilesUpload,{name:"Bulk-Import",title:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail font-semibold"},"Destination URLs"),subtitle:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-l-4"},"(Max size 20MB)"),text:o,icon:s,filesType:".csv",onChange:this.props.onChange,cancelLoad:this.props.onCancelLoad,isUploading:this.props.isUploading,error:this.props.error,message:this.props.error&&"Invalid file"})),r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011401694",target:"_blank"},r.a.createElement(v.Button,{size:"sm",label:"Download .CSV template",theme:"link",icon:{name:"ic-download",color:"var(--color-blue-600)",size:"xsmall"}})),r.a.createElement("div",{className:"m-t-36"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},r.a.createElement("span",null,"* If the combination of domain and slash-tag link exists your link won\u2019t be imported",r.a.createElement("br",null),"* If left empty, slash-tag will be automatically assigned",r.a.createElement("br",null),"* If uploaded file is not matching specs, link import will fail. ",r.a.createElement(v.A,{href:"https://rebrandly.support/CSV-import",target:"_blank"},"Learn more")))),r.a.createElement("div",{className:"row end-xs middle-xs m-t-36"},r.a.createElement("div",{className:"col-xs-12 col-sm-6 first-xs last-sm"},r.a.createElement(v.Button,{className:"LinkForm__copy",label:this.props.isProcessing?r.a.createElement(v.Loading,{direction:"horizontal",size:"sm",theme:"blank",label:"Importing links"}):"Import links",theme:"primary",type:"submit",disabled:!t||this.props.isProcessing,block:!0})))))}}]),a}(n.PureComponent),Ka=Object(s.g)(Ya),Ja=a(266),Qa=a(84),Xa=a(99),Za=["csv"],$a=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={domain:null,tagsList:[],scriptsList:[],resourceUrl:"",file:null,isUploadingFile:!1,error:null,term:"",isProcessing:!1},e.handleChange=function(t){t.preventDefault(),e.setState({isUploadingFile:!0});var a=new FileReader,n=t.target.files[0];n?(a.onloadend=function(){var t=n.name.split(".").pop().toLowerCase(),r=!Za.includes(t),o=n.size>2e7,s=r||o;e.setState({isUploadingFile:!1,file:n,resourceUrl:a.result,error:s})},a.readAsDataURL(n)):e.setState({isUploadingFile:!1})},e.handleTagsChange=function(t){Object(Ha.a)(e.state.tagsList)&&e.setState({tagsList:Object(U.a)(t)})},e.handleScriptsChange=function(t){Object(qa.a)(e.state.scriptsList)&&e.setState({scriptsList:Object(U.a)(t)})},e.loadDomains=function(t){return e.props.loadDomains(t).then((function(t){if(0===e.props.domains.filter((function(e){return e.active})).length&&e.props.domains.length<e.props.sharedDomains.count.results){var a=c()(Ra()(e.props.domains),"id");return e.loadDomains(a)}}))},e.debouncedLoadDomains=za()(e.loadDomains,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.sharedDomains.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadDomains())},e.openManageDomainsModal=function(){return e.setState({showManageDomainsModal:!0})},e.closeManageDomainsModal=function(){return e.setState({showManageDomainsModal:!1})},e.handleChangeDomain=function(t){var a=t&&e.props.sharedDomains.items[t];if(a&&a.active)e.setState({domain:a});else{var n=e.props.domains.find((function(e){return e.active}));e.setState({domain:n})}},e.onCancelLoad=function(){e.setState({isUploadingFile:!1,file:null,resourceUrl:""})},e.handleUpload=function(t){t&&t.preventDefault(),e.setState({isProcessing:!0});var a=e.state.tagsList.map((function(e){return e.id})).join(","),n=e.state.scriptsList.map((function(e){return e.id})).join(","),r={domainId:e.state.domain.id,workspaceId:e.props.workspaceId};a&&(r.tags=a),n&&(r.scripts=n),e.props.bulkImport(e.state.file,r).then((function(){e.onPersistDomainPreference(e.state.domain),e.setState({resourceUrl:"",file:null,isOpen:!1,isProcessing:!1}),e.props.setContext(e.props.workspaceId).then((function(){return e.props.history.push({pathname:"/success/import",state:{ws:e.props.workspaceId}})}))})).catch((function(t){var a=c()(t,"response.data.message"),n=c()(q.j.link.import,"[".concat(a,"]"),"An error occured");e.props.createNotification(q.b,n),e.setState({isProcessing:!1})}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.populateDomains()}},{key:"componentDidUpdate",value:function(e){this.props.workspaceId!==e.workspaceId&&this.populateDomains()}},{key:"populateDomains",value:function(){var e=this,t=c()(this.props.preferences.lastUsedDomains,this.props.workspaceId);this.props.setParams({type:"user",detached:!1});var a=[this.loadDomains()];t&&a.push(this.props.loadSharedDomain(t)),Promise.all(a).then((function(){e.handleChangeDomain(t)}))}},{key:"onPersistDomainPreference",value:function(e){var t=this.props,a=t.workspaceId,n=t.preferences;(0,t.rememberPreference)({lastUsedDomains:Object(F.a)(Object(F.a)({},n.lastUsedDomains),{},Object($t.a)({},a,e.id))})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(Ka,{workspace:this.props.workspace,canManageDomains:this.props.canManageDomains,canManageTags:this.props.canManageTags,canManageScripts:this.props.canManageScripts,openManageDomainsModal:this.openManageDomainsModal,searchSharedDomain:this.handleSearchChange,domainsCount:this.props.sharedDomains.count.results,isLoadingDomains:this.props.sharedDomains.isLoading,term:this.state.term,domains:Object.values(this.props.domains),selectedTags:this.state.tagsList,selectedScripts:this.state.scriptsList,countCustomDomains:this.props.countCustomDomains,domain:this.state.domain,onSelectDomain:this.handleChangeDomain,onNewDomainClick:this.props.onNewDomainClick,loadMoreSharedDomains:function(){var t=c()(Ra()(e.props.domains),"id");e.loadDomains(t)},isUploading:this.state.isUploadingFile,isProcessing:this.state.isProcessing,onCancelLoad:this.onCancelLoad,file:this.state.file,error:this.state.error,onChange:this.handleChange,onUpload:this.handleUpload,onSelectTags:this.handleTagsChange,onSelectScripts:this.handleScriptsChange}),r.a.createElement(Ja.a,{workspaceId:this.props.workspaceId,onClose:this.closeManageDomainsModal,onAttachDomain:function(t){return e.loadDomains().then((function(){return e.handleChangeDomain(t)}))},onDetachDomain:function(t){return e.loadDomains().then((function(){return t.id===e.state.domain.id?e.handleChangeDomain():null}))},isOpen:this.state.showManageDomainsModal}))}}]),a}(n.PureComponent),en=Object(s.g)(Object(w.b)((function(e,t){return{workspace:c()(e.workspaces.items,"[".concat(t.workspaceId,"]"),{}),preferences:e.preferences.items,countCustomDomains:Object(He.c)("domains",e.account),sharedDomains:e.domains,domains:e.domains.list.map((function(t){return e.domains.items[t]})),canManageDomains:Object(H.d)(e,e.session.currentWorkspaceId,"edit","workspaces.domains"),canManageTags:Object(H.d)(e,t.workspaceId,"create","workspaces.tags")&&Object(H.d)(e,t.workspaceId,"edit","workspaces.tags")&&Object(H.d)(e,t.workspaceId,"delete","workspaces.tags"),canManageScripts:Object(H.d)(e,t.workspaceId,"create","workspaces.scripts")&&Object(H.d)(e,t.workspaceId,"edit","workspaces.scripts")&&Object(H.d)(e,t.workspaceId,"delete","workspaces.scripts")}}),(function(e,t){return{loadDomains:function(a){return e(Object(Qa.f)(a,t.workspaceId))},setParams:function(t){return e(Object(Qa.h)(t))},loadSharedDomain:function(t){return e(Object(Qa.e)(t))},rememberPreference:function(t){return e(Object(Xa.c)(t))},bulkImport:function(e,t){return Object(b.ge)(e,t)},createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))},deleteNotification:function(t){return t&&e(Object(W.c)(t))},setContext:function(t){return e(Object(N.g)(t))}}}))($a)),tn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e.onLinkCreated=function(t){return e.props.history.replace({pathname:"/links/".concat(t.id),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.history.location,t=new u.a(e.pathname+e.search,!0).query.url;return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(en,{workspaceId:this.props.match.params.id,onAlreadyCreatedLinkClick:this.onLinkCreated,destination:t})))}}]),a}(n.PureComponent),an=a(157),nn=(a(1319),a(138)),rn=a(72),on=(a(1320),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"renderDnsRows",value:function(e){return e.addresses.map((function(t){return r.a.createElement("div",{key:e.id,className:"DnsTableRow row middle-xs"},r.a.createElement("div",{className:"col-xs-3"},r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},e.type)),r.a.createElement("div",{className:"col-xs-4"},e.hostname),r.a.createElement("div",{className:"col-xs-5"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle m-r-8"},t),r.a.createElement(xe.b,{toCopy:t,tooltip:{placement:"top",overlay:"Copy to clipboard"}}))))}))}},{key:"renderDnsSmallRows",value:function(e){return e.addresses.map((function(t){return r.a.createElement("div",{key:"small-".concat(e.id),className:"display-sm-none"},r.a.createElement("div",{className:"DnsTable"},r.a.createElement("div",{className:"DnsTableRow row middle-xs"},r.a.createElement("div",{className:"col-xs-5"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubTitle"},"Record type")),r.a.createElement("div",{className:"col-xs-7"},r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},e.type))),r.a.createElement("div",{className:"DnsTableRow row middle-xs"},r.a.createElement("div",{className:"col-xs-5"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubTitle"},"Hostname (or name)")),r.a.createElement("div",{className:"col-xs-7"},e.hostname)),r.a.createElement("div",{className:"DnsTableRow row middle-xs"},r.a.createElement("div",{className:"col-xs-5"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubTitle"},"Points to (or address)")),r.a.createElement("div",{className:"col-xs-7 flex middle-xs"},r.a.createElement(v.Text,{size:"small",className:"m-r-8"},t),r.a.createElement(xe.b,{toCopy:t,tooltip:{placement:"top",overlay:"Copy to clipboard"}})))))}))}},{key:"render",value:function(){var e=this,t=this.props;return function(e,t){var a=e?Object(nn.getSubdomain)(e.fullName):"<your-subdomain>",n=e?Object(nn.getDomain)(e.fullName):"<your-domain>",o="anycast"===t;return 3===Object(rn.l)(e.fullName)?o?[{id:1,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Mandatory"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"Apply the following DNS configuration to turn any domain into your own link shortener. All you have to do is \u201cpoint\u201d your ",r.a.createElement(v.A,{href:"https://rebrandly.support/DNS-subdomain",target:"_blank",rel:"noopener noreferrer"},"A Records")," to Rebrandly, and make sure that all pre-existing records of type ",r.a.createElement("strong",null,"A"),", ",r.a.createElement("strong",null,"AAAA")," or ",r.a.createElement("strong",null,"CNAME")," for ",r.a.createElement("strong",null,a)," are removed"),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle",singleLine:!0},a),addresses:["13.248.148.104","76.223.20.46"]}]:[{id:1,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Mandatory"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"Apply the following DNS configuration to turn any domain into your own link shortener. All you have to do is \u201cpoint\u201d your ",r.a.createElement("strong",null,"A Records")," to Rebrandly, and make sure that all pre-existing records of type ",r.a.createElement("strong",null,"A"),", ",r.a.createElement("strong",null,"AAAA")," or ",r.a.createElement("strong",null,"CNAME")," for ",r.a.createElement("strong",null,a)," are removed"),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle",singleLine:!0},a),addresses:["52.72.49.79"]}]:o?[{id:1,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Mandatory"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"Apply the following DNS configuration to turn any domain into your own link shortener. All you have to do is \u201cpoint\u201d your ",r.a.createElement("strong",null,"A Records")," to Rebrandly, and make sure that all pre-existing records of type ",r.a.createElement("strong",null,"A"),", ",r.a.createElement("strong",null,"AAAA")," or ",r.a.createElement("strong",null,"CNAME")," for ",r.a.createElement("strong",null,n)," are removed"),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},"Leave empty ",r.a.createElement("span",{className:"Text--note"},"or")," @ ",r.a.createElement("span",{className:"Text--note"},"or")," \u201c\u201d"),addresses:["13.248.148.104","76.223.20.46"]},{id:2,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Optional (Recommended)"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"We recommend the following configuration that enables you to use variations of your branded domain to create links through Rebrandly dashboard. (e.g. www.yourbrand.com) Where possible, its better to configure the asterisk (*)."),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},"www ",r.a.createElement("span",{className:"Text--note"},"or")," *"),addresses:["13.248.148.104","76.223.20.46"]}]:[{id:1,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Mandatory"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"Apply the following DNS configuration to turn any domain into your own link shortener. All you have to do is \u201cpoint\u201d your ",r.a.createElement(v.A,{href:"https://rebrandly.support/DNS",target:"_blank",rel:"noopener noreferrer"},"A Records")," to Rebrandly, and make sure that all pre-existing records of type ",r.a.createElement("strong",null,"A")," or ",r.a.createElement("strong",null,"AAAA")," for ",r.a.createElement("strong",null,n)," are removed"),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},"Leave empty ",r.a.createElement("span",{className:"Text--note"},"or")," @ ",r.a.createElement("span",{className:"Text--note"},"or")," \u201c\u201d"),addresses:["52.72.49.79"]},{id:2,title:r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Optional (Recommended)"),description:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"We recommend the following configuration that enables you to use variations of your branded domain to create links through Rebrandly dashboard. (e.g. www.yourbrand.com) Where possible, its better to configure the asterisk (*)."),type:"A",hostname:r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},"www ",r.a.createElement("span",{className:"Text--note"},"or")," *"),addresses:["52.72.49.79"]}]}(t.domain,t.addressing).map((function(t){return r.a.createElement(n.Fragment,{key:t.id},(t.title||t.description)&&r.a.createElement("div",{className:"DnsTableInformations row m-b-12"},t.title&&r.a.createElement("div",{className:"col-xs-12"},t.title),t.description&&r.a.createElement("div",{className:"col-xs-12 m-t-4"},t.description)),r.a.createElement("div",{className:"display-none display-sm-block"},r.a.createElement("div",{className:"DnsTable"},r.a.createElement("div",{className:"DnsTableHeader row middle-xs p-16"},r.a.createElement("div",{className:"col-xs-3"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail font-semibold"},"Record type")),r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail font-semibold"},"Hostname (or name)")),r.a.createElement("div",{className:"col-xs-5"},r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail font-semibold"},"Points to (or address)"))),e.renderDnsRows(t))),e.renderDnsSmallRows(t))}))}}]),a}(n.Component)),sn=a(28),cn=a(110),ln=a.n(cn),un=(a(1321),[{label:"WordPress CMS",value:"wordpress"},{label:"Apache Web Server/HTACCESS",value:"apache"},{label:"NGINX Web Server",value:"nginx"},{label:"IIS Web Server",value:"iis"},{label:"Javascript Code",value:"js"},{label:"PHP Code",value:"php"},{label:"Node.js Express Code",value:"node"},{label:".Net Core Code",value:"dotnet"},{label:"Flask Code",value:"flask"}]),mn=function(e){var t=e.hostnames,a=e.fullName,o=Object(n.useState)(un[0].value),s=Object(sn.a)(o,2),i=s[0],c=s[1],l=t.filter((function(e){return e.hostname!==a&&!e.optional})),u=l[0]&&function(e,t,a){switch(e){case"js":var n='<html>\n<head>\n  <script type=\u201dtext/javascript\u201d>\n    window.location = "https://'.concat(t,'/" + window.location.pathname;\n  <\/script>\n  ...\n</head>\n...\n</html>');return{description:r.a.createElement("span",null,"A) Add the following code ",r.a.createElement("strong",null,"when you load the 404 page")," to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly",r.a.createElement("br",null),"B) In order to allow the ",r.a.createElement("strong",null,"domain verification by Rebrandly")," you also need to follow ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011811018",size:"lg",target:"_blank"},"these instructions")," to upload the verification file."),toCopy:n,toPrint:n};case"iis":var o='<rewrite>\n <rules>\n  <rule name="Imported Rule 1" stopProcessing="true">\n   <match url="^(.*)$" ignoreCase="false" />\n   <conditions>\n    <add input="{REQUEST_FILENAME}" matchType="IsFile" ignoreCase="false" negate="true" />\n    <add input="{REQUEST_FILENAME}" matchType="IsDirectory" ignoreCase="false" negate="true" />\n   </conditions>\n   <action type="Redirect" redirectType="Found" url="https://'.concat(t,'/{R:1}" />\n  </rule>\n </rules>\n</rewrite>');return{description:r.a.createElement("span",null,"Add the following instructions in the configuration file to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly.",r.a.createElement("br",null),r.a.createElement("br",null),"Please note that the configuration will work only on a file based web page, if you have an application look at code example."),toCopy:o,toPrint:o};case"apache":var s="# make sure rewrite engine is enabled\nRewriteEngine On\n# add these lines at the end of the file\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ https://".concat(t,"/$1 [R,L]");return{toPrint:s,toCopy:s,description:r.a.createElement("span",null,"Add the following instructions on the .htaccess file to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly.",r.a.createElement("br",null),r.a.createElement("br",null),"Please note that the configuration will work only on a file based web page, if you have an application look at code example.")};case"nginx":var i="server {\n  ...\n  location /{\n    # define the error page\n    error_page 404 =  @rebrandly;\n  }\n\n  location @rebrandly {\n    rewrite ^/(.*)$ https://".concat(t,"/$1 redirect;\n  }\n  ...\n}");return{description:r.a.createElement("span",null,"Add the following instructions in the configuration file to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly"),toPrint:i,toCopy:i};case"wordpress":return{description:r.a.createElement("span",null,"In case your website/blog is on WordPress there are many plugins available for traffic redirect.\xa0 You will need to install one of them (for example: ",r.a.createElement(v.A,{size:"lg",href:"https://wordpress.org/plugins/simple-website-redirect"},"https://wordpress.org/plugins/simple-website-redirect"),")\xa0 and be sure to redirect all the 404 (page-not-found) traffic to the ",r.a.createElement("strong",null,"alias")," domain name.",r.a.createElement("br",null),"Important: In order to allow the ",r.a.createElement("strong",null,"domain verification by Rebrandly")," you also need to follow ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011811018",size:"lg",target:"_blank"},"these instructions")," to upload the verification file.",r.a.createElement("br",null),r.a.createElement("br",null),"Your alias domain is: ",t)};case"lighttpd":var c='server.modules  = (\n  "mod_redirect"\n)\n\n$HTTP["host"] =~ "^'.concat(a,'$" {\n  url.redirect = (\n    "^/(.*)$" => "https://').concat(t,'/$1",\n  )\n}');return{description:"Add the following instructions in the configuration file of your web server to redirect your traffic to Rebrandly",toPrint:c,toCopy:c};case"node":var l="app.use(function(req, res, next) {\n  res.redirect(302, \u2018https://".concat(t,"\u2019 + req.originalUrl)\n})");return{description:r.a.createElement("span",null,"Add the following function to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly."),toPrint:l,toCopy:l};case"dotnet":var u='public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n  {\n    ...\n    app.Use(async (context, next) =>\n    {\n      await next();\n      if (context.Response.StatusCode == 404)\n      {\n        // redirection rule\n        context.Response.Redirect($"https://'.concat(t,'{context.Request.Path}{context.Request.QueryString}");\n      }\n    });\n    app.Run(async (context) =>...\n  }\n}\n');return{description:r.a.createElement("span",null,"Add the following instructions in the Startup.cs file to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly"),toPrint:u,toCopy:u};case"flask":var m="@app.route('/<path:path>')\ndef catch_all(path):\n    new_path = 'https://".concat(t,"/' + path\n    return redirect(new_path, 302)");return{description:r.a.createElement("span",null,"Add the following function to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly."),toPrint:m,toCopy:m};case"php":var p='<$\n  Header( "Location : https://'.concat(t,'{$_SERVER["REQUEST_URI"]}" );\n  ...\n$>');return{description:r.a.createElement("span",null,"A) Add the following code in the header of the file ",r.a.createElement("strong",null,"when you load the 404 page")," to ",r.a.createElement("strong",null,"forward your 404 traffic")," to Rebrandly",r.a.createElement("br",null),"B) In order to allow the ",r.a.createElement("strong",null,"domain verification by Rebrandly")," you also need to follow ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011811018",size:"lg",target:"_blank"},"these instructions")," to upload the verification file."),toCopy:p,toPrint:p};case"snippet":return"<script>\n  var alias = ".concat(t,"\n  var aliased = ").concat(a,'\n<\/script>\n<script src="https://scripts.rebrandly.com/etc" />');default:return"No instructions for selected method"}}(i,l[0].hostname,a);return r.a.createElement("div",null,r.a.createElement(v.Label,{value:"Choose one of the following methods in order to connect ".concat(a," to Rebrandly")},r.a.createElement(v.Selector,{options:un,value:un.find((function(e){return e.value===i})),onChange:function(e){var t=e.value;return c(t)},closeOnSelect:!0})),u.description&&r.a.createElement(v.Text,{size:"small",className:"m-t-16 InstructionDescription Text--Detail font-light"},u.description),u.toPrint&&r.a.createElement("div",{className:"CodeBlock flex between-xs m-t-16"},r.a.createElement("div",{className:"CodeBlock__code"},r.a.createElement(v.Text,{size:"x-small",className:"font-light"},ln()(u)?u:u.toPrint)),r.a.createElement(xe.b,{toCopy:ln()(u)?u:u.toCopy})))},pn=(a(1322),function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:r.a.createElement("span",null,"Your request has been received."),message:r.a.createElement("span",null,"Please allow us a few business days to process your request.",r.a.createElement("br",null),"If you sent this request by mistake please ",r.a.createElement(Ae.a,{size:"lg",href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"contact support")," ASAP")})}),dn=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:"Domain renewed successfully!",message:"You've renewed this domain name for one more year",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",label:"Go to dashboard"}))})},hn=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:"Transaction complete!",message:"Thank you for your payment.",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",label:"Go to dashboard"}))})},bn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).state={progress:"",percenteage:0},e.maxAttempt=2,e.attempt=0,e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.ws&&(this.interval=setInterval((function(){Object(b.i)(e.props.ws).then((function(t){var a=parseInt(100*c()(t[0],"progress",0));if(a||e.attempt++,e.attempt>=e.maxAttempt)return clearInterval(e.interval),e.setState({progress:r.a.createElement("span",null,"All links exported"),percenteage:100});a<100?e.setState({progress:"Exporting links (".concat(a,"% completed)"),percenteage:a}):(100===a||a<e.state.percenteage)&&(clearInterval(e.interval),e.setState({progress:r.a.createElement("span",null,"All links exported"),percenteage:a}))}))}),5e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderMessage",value:function(){return this.props.ws?r.a.createElement("span",null,r.a.createElement("div",{className:"m-b-16"},r.a.createElement("span",{className:"font-semibold"},this.state.progress||"Exporting links (queued)"),r.a.createElement(v.ProgressBar,{animated:!0,type:"success",size:"md",max:"100",value:this.state.percenteage})),"You will get an email with the report once it\u2019s complete"):r.a.createElement("span",null,"You will get an email with the report once it\u2019s complete")}},{key:"render",value:function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-hourglass"}),title:"Link export in progress",message:this.renderMessage(),button:r.a.createElement(Ae.a,{to:"/"},r.a.createElement(v.Button,{size:"lg",label:"Go to dashboard"}))})}}]),a}(n.PureComponent),fn=function(){return r.a.createElement(de.a,{"rb-test-id":"almost-done-success-page",size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-hourglass"}),title:"Almost done!",message:r.a.createElement("span",null,"Thank you for registering your domain with Rebrandly. IMPORTANT: Your domain will not be available immediately, it usually takes up to ",r.a.createElement("strong",null,"30 minutes")," for the DNS to ",r.a.createElement(Ae.a,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/224439647-I-Just-Bought-a-Domain-But-It-Isn-t-Working-Yet",target:"_blank",rel:"noopener noreferrer"},"propagate"),". We\u2019ll email you when the setup is complete."),button:r.a.createElement(Ae.a,{to:"/domains"},r.a.createElement(v.Button,{size:"lg",label:"View My Domains"}))})},gn=function(e){var t=e.domain,a=e.addressing,n=Object(rn.n)(t),o=n?"https://support.rebrandly.com/hc/en-us/articles/360011044397":t&&3===t.level?"https://rebrandly.support/DNS-subdomain":"https://rebrandly.support/DNS";return document.body.scrollTop=0,document.documentElement.scrollTop=0,r.a.createElement(de.a,{"rb-test-id":"almost-done",size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-hourglass"}),title:"Your action is required",message:n?r.a.createElement("span",null,"In order to make ",r.a.createElement("strong",null,t.fullName)," work simultaneously with your website and branded links",r.a.createElement("br",null),"you will need to follow the procedure below."):a?r.a.createElement("span",null,r.a.createElement("strong",null,"IMPORTANT: you need to update your DNS configuration in order to ","anycast"===a?"enable":"disable"," faster redirect feature."),r.a.createElement("br",null),"It can take up to ",r.a.createElement("strong",null,"24 hours")," for the domain to propagate."):r.a.createElement("span",null,r.a.createElement("strong",null,"IMPORTANT: Configure your existing domain DNS records."),r.a.createElement("br",null),"Your domain will not be available immediately, it can take up to ",r.a.createElement("strong",null,"24 hours")," for the ",r.a.createElement("br",null)," DNS to ",r.a.createElement(Ae.a,{size:"lg",target:"_blank",href:o,rel:"noopener noreferrer"},"propagate"),". We\u2019ll email you when the setup is complete."),button:r.a.createElement("div",{className:"text-left m-t-12"},r.a.createElement(v.Divider,{type:"subsection"}),n?r.a.createElement("div",null,r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Warning"),r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-b-24"},"This procedure requires expertise in DNS setup. Proceed only if you are comfortable with the instructions or if you have someone from your technical team present to assist. If you have any doubts do not hesitate to ask for help from our ",r.a.createElement(v.A,{rel:"noopener noreferrer",size:"sm",href:"https://rebrandly.support/contact",target:"_blank"},"Support team")),r.a.createElement(mn,{fullName:t.fullName,hostnames:c()(t,"routing.hostnames",[])})):r.a.createElement(on,{domain:t,addressing:a}),"anycast"!==a&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail m-t-16"},"Not sure how to do this? ",r.a.createElement(v.A,{rel:"noopener noreferrer",size:"lg",target:"_blank",href:o},"Learn more")),r.a.createElement(v.Divider,{type:"subsection",className:"m-t-36 m-b-36"}),r.a.createElement("div",{className:"row col-xs center-xs"},r.a.createElement(Ae.a,{to:"/domains"},r.a.createElement(v.Button,{size:"lg",label:"View My Domains"}))))})},vn=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-hourglass"}),title:"Your domain will be available shortely!",button:r.a.createElement(Ae.a,{to:"/domains"},r.a.createElement(v.Button,{size:"lg",label:"View My Domains"}))})},En=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).state={progress:"",percenteage:0},e.maxAttempt=2,e.attempt=0,e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.ws&&(this.interval=setInterval((function(){Object(b.j)(e.props.ws).then((function(t){var a=parseInt(100*c()(t[0],"progress",0));if(a||e.attempt++,e.attempt>=e.maxAttempt)return clearInterval(e.interval),e.setState({progress:r.a.createElement("span",null,"All links imported"),percenteage:100});a<100?e.setState({progress:"Importing links (".concat(a,"% completed)"),percenteage:a}):(100===a||a<e.state.percenteage)&&(clearInterval(e.interval),e.setState({progress:r.a.createElement("span",null,"All links imported"),percenteage:a}))}))}),5e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderMessage",value:function(){return this.props.ws?r.a.createElement("span",null,r.a.createElement("div",{className:"m-b-16"},r.a.createElement("span",{className:"font-semibold"},this.state.progress||"Importing links (queued)"),r.a.createElement(v.ProgressBar,{animated:!0,type:"success",size:"md",max:"100",value:this.state.percenteage})),"Please allow some time for the process to complete, this will vary (from a few minutes up to a few hours) depending on the number of links to be imported and the amount of requests in the queue.",r.a.createElement("br",null),r.a.createElement("span",{className:"font-semibold"},"We will email you when the import is complete and your links are ready to use.")):r.a.createElement("span",null,"Please allow some time for the process to complete, this will vary (from a few minutes up to a few hours) depending on the number of links to be imported and the amount of requests in the queue.",r.a.createElement("br",null),r.a.createElement("span",{className:"font-semibold"},"We will email you when the import is complete and your links are ready to use."))}},{key:"render",value:function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-hourglass"}),title:"Link import added to the queue",message:this.renderMessage(),button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",label:"Close"}))})}}]),a}(n.PureComponent),yn=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:"Subscription updated!",message:"Check out all the new features available to you now!",button:r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",label:"Go to dashboard",theme:"primary"}))})},kn=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-success"}),title:"Our team will be in touch soon",button:r.a.createElement(v.A,{href:"https://rebrandly.com/link-management",target:"_blank"},r.a.createElement(v.Button,{size:"lg",label:"Download link management e-book",theme:"secondary"}))})},On=Object(s.g)((function(e){var t=e.location,a={path:c()(t,"state.next.path"),search:c()(t,"state.next.search")};return r.a.createElement("div",{className:"p-t-64 p-b-48"},r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-success"}),title:"Our team will be in touch soon",button:r.a.createElement("div",{className:"Button__list Button__list--centered m-t-48"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Get started for free",onClick:function(){return zt.b.redirectToSignUp(a)}}),r.a.createElement(v.A,{href:"https://rebrandly.com/link-management",target:"_blank"},r.a.createElement(v.Button,{size:"lg",label:"Download link management e-book",theme:"secondary"})))}))})),wn=(n.PureComponent,[{label:"I don't know how to use Rebrandly",value:"I don't know how to use Rebrandly"},{label:"Rebrandly is too expensive",value:"Rebrandly is too expensive"},{label:"I don't find Rebrandly useful",value:"I don't find Rebrandly useful"},{label:"I'd rather not say",value:"I'd rather not say"}]),jn=function(e){return e===wn[3].value},Cn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSuccessState:!1,feedback:"",reason:"",isLoading:!1},e.checkValidity=function(){return!!jn(e.state.reason)||!!e.state.reason.length&&e.state.feedback.length>=10},e.submitRequest=function(){return e.setState({isLoading:!0}),Object(b.Z)({reason:e.state.reason,feedback:e.state.feedback}).then((function(t){e.setState({showSuccessState:!0})})).catch((function(t){e.props.showError(null,"Unable to complete your request")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=500-this.state.feedback.length,a=this.props.account.subscription.limits,o=c()(a.cycle,"clicks.used",0),s=c()(a,"domains.used",0),i=c()(a,"domains.used",0),l=c()(a,"links.used",0),u=c()(a,"teammates.used",0),m=o+s+i+l+u>0,p="Please use the box below to add some feedback";return jn(this.state.reason)||(p+=" *"),this.state.showSuccessState?r.a.createElement(pn,null):r.a.createElement(n.Fragment,null,m&&r.a.createElement("div",{className:"m-b-36"},r.a.createElement("div",null,r.a.createElement(v.Text,{className:"Text-Title"},"Here's what will happen"),r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"Access to all of the associated data will be lost- including: "),r.a.createElement("div",{className:"row m-t-24"},!!o&&r.a.createElement("div",{className:"col-md-4 DeleteUSerForm__FeatureBox"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},r.a.createElement(v.Icon,{name:"ic-trash-bin",size:"xsmall",color:"var(--color-red-400)",className:"m-r-8"}),Object(ct.formatNumber)(o)," Clicks tracked")),!!s&&r.a.createElement("div",{className:"col-md-4 DeleteUSerForm__FeatureBox"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},r.a.createElement(v.Icon,{name:"ic-trash-bin",size:"xsmall",color:"var(--color-red-400)",className:"m-r-8"}),Object(ct.formatNumber)(s)," Custom domains")),!!i&&r.a.createElement("div",{className:"col-md-4 DeleteUSerForm__FeatureBox"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},r.a.createElement(v.Icon,{name:"ic-trash-bin",size:"xsmall",color:"var(--color-red-400)",className:"m-r-8"}),Object(ct.formatNumber)(i)," Custom reports")),!!l&&r.a.createElement("div",{className:"col-md-4 DeleteUSerForm__FeatureBox"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},r.a.createElement(v.Icon,{name:"ic-trash-bin",size:"xsmall",color:"var(--color-red-400)",className:"m-r-8"}),Object(ct.formatNumber)(l)," Branded links")),!!u&&r.a.createElement("div",{className:"col-md-4 DeleteUSerForm__FeatureBox"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},r.a.createElement(v.Icon,{name:"ic-trash-bin",size:"xsmall",color:"var(--color-red-400)",className:"m-r-8"}),Object(ct.formatNumber)(u)," Teammates and all their data")))),r.a.createElement(v.Divider,{type:"subsection"})),r.a.createElement("div",null,r.a.createElement(v.Text,{className:"Text-Title"},"Still want to suspend your account?"),r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},"* Mandatory fields"),r.a.createElement(v.Text,{size:"small",className:"Text--Detail m-t-24"},"We're sorry to see you go ",r.a.createElement("span",{role:"img","aria-label":":sad:"},"\ud83d\ude29"),"\xa0Can you spare a few moments to let us know why you're leaving?",r.a.createElement("br",null),"This will help our team to improve the Rebrandly user experience."),r.a.createElement("form",null,r.a.createElement("div",{className:"m-t-24 row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(v.Label,{value:"Reason for suspending *"},r.a.createElement(v.Selector,{closeOnSelect:!0,placeholder:"Select one...",options:wn,value:wn.find((function(t){return t.value===e.state.reason})),onChange:function(t){return e.setState({reason:t.value})}})))),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Label,{value:p,className:"m-t-36"},r.a.createElement(v.Textarea,{onChange:function(t){return e.setState({feedback:t})},placeholder:"I want to suspend my account because\u2026",rows:7,maxLength:500,message:t<10&&"".concat(t," chars left")}))),r.a.createElement("div",{className:"Footer_buttons m-t-48 row end-xs"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Button,{block:!0,theme:"secondary",label:"Cancel",onClick:function(t){t.stopPropagation(),e.props.history.goBack()}})),r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(De.a,{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Do you wish to proceed?",message:"Suspending your account is a permanent action and cannot be undone. It will result in you losing access to all of the branded links and click stats. You will not be able to recover this information later. ",primaryButtonProps:{label:"Suspend account",theme:"delete"},disabled:!this.checkValidity()},r.a.createElement(v.Button,{block:!0,theme:"primary",label:"I want to suspend my account",onClick:this.submitRequest,isLoading:this.state.isLoading}))))),r.a.createElement(v.Text,{size:"x-small",className:"Text--note m-t-36"},"Note it may take a few business days for us to process your request. If you don't want to suspend your account, just hit cancel.")))}}]),a}(n.PureComponent),Nn=Object(s.g)(Object(w.b)((function(e){return{account:e.account}}),(function(e){return{showError:function(t,a){return e(Object(W.a)(q.b,t,a))}}}))(Cn)),Sn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,onClose:this.back,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(Nn,null)))}}]),a}(n.PureComponent),xn=a(677),Ln=a(154),Tn=(a(1328),[{illustration:r.a.createElement(v.Illustration,{name:"ill-cursor"}),title:"Documentation",label:r.a.createElement("span",null,"Extended workspace API",r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-arrow-forward",size:"tiny",color:"#2281c2"})),link:{href:"https://rebrandly.download/ExtendedAPI",target:"_blank"}},{illustration:r.a.createElement(v.Illustration,{name:"ill-message"}),title:"Need help?",label:r.a.createElement("span",null,"Request engineer support",r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-arrow-forward",size:"tiny",color:"#2281c2"})),link:{href:"https://rebrandly.support/contact",target:"_blank"}}]),_n=function(e){var t=e.linksCount,a=e.resetsAt,o=e.onWorkspaceChanged,s=e.loadWorkspace,i=e.id,c=e.workspaces,l=e.canViewReports;return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"Container--wide p-t-24 p-b-24"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"flex col-xs-12"},r.a.createElement(Ln.a,{onWorkspaceChanged:o})))),r.a.createElement("div",{className:"LinksExtendedHeaderBar__banner"},r.a.createElement("div",{className:"Container--wide p-t-24 p-b-24"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"LinksExtendedHeaderBar__banner--text"},"This is an extended workspace, it is designed for programmatic access only."," ",r.a.createElement(Ae.a,{className:"Text--UnderlineDash",href:"https://support.rebrandly.com/hc/en-us/articles/360004050274-Extended-Workspaces",target:"_blank",size:"lg"},"Learn more"))))))),r.a.createElement("div",{className:"Container--wide m-t-36 m-b-36"},r.a.createElement("div",{className:"LinksExtendedBody row middle-xs"},r.a.createElement("div",{className:"col-xs-12 col-sm-4"},r.a.createElement(v.Alert,{borderColor:"var(--color-grey-100)",bgColor:"var(--color-grey-25)"},r.a.createElement(v.Text,{size:"x-small",className:"Text--Label m-r-4"},"Links created in "," ",r.a.createElement(v.Tooltip,{overlay:"Ends ".concat(Object(je.a)(a)),placement:"top"},r.a.createElement("span",{className:"Text--UnderlineDash"},"current billing cycle"))),r.a.createElement(v.Text,{className:"LinksExtendedCount Text--SubDetail Text--HighlightDkBlue m-t-8"},Object(ct.formatNumber)(t)))),!T()(Tn)&&Tn.map((function(e){return r.a.createElement("div",{key:e.title,className:"col-xs-12 col-sm-4"},r.a.createElement(v.Alert,{bgColor:"var(--color-blue-50)",noBorder:!0,image:e.illustration},r.a.createElement("div",null,r.a.createElement(v.Text,{className:"Text--SubDetail"},e.title),r.a.createElement(Ae.a,Object.assign({className:"m-t-4",size:"lg"},e.link),e.label))))}))),l&&r.a.createElement(xn.a,{refreshResource:function(){return s(i)},workspace:c.find((function(e){return e.id===i})),canViewReports:!0,whiteLabel:!0})))},Dn=a(81),An=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).redirectToLinksPage=function(){e.props.loadLinks(),e.props.countTags(),e.props.history.push("/links")},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(_n,{canViewReports:this.props.canViewReports,id:this.props.id,linksCount:this.props.linksCount,loadWorkspace:this.props.loadWorkspace,resetsAt:this.props.resetsAt,onWorkspaceChanged:this.redirectToLinksPage,workspaces:this.props.workspaces})}}]),a}(n.PureComponent),In=Object(s.g)(Object(w.b)((function(e){var t=e.workspaces.items[e.session.currentWorkspaceId];return{canViewReports:Object(qe.hasFeature)("metrics.advanced",c()(e.account,"subscription.features",[])),workspaces:e.workspaces.list.map((function(t){return e.workspaces.items[t]})),linksCount:c()(t,"links"),resetsAt:c()(e.account.subscription.billing,"cycle.resetsAt")}}),(function(e){return{loadLinks:function(){return e(Object(M.t)())},countTags:function(){return e(Object(Dn.c)())},loadWorkspace:function(t){return e(Object(Gt.o)(t))}}}))(An)),Mn=function(){for(var e=[],t=0;t<10;t++)e.push(r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"box-placeholder"},r.a.createElement("div",{className:"Container--wide box-wrapper"},r.a.createElement("div",{className:"image"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"})),r.a.createElement("div",{className:"excerpt para-4"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"text"}),r.a.createElement("div",{className:"flex middle-block"},r.a.createElement("div",{className:"text display-none display-md-block"}),r.a.createElement("div",{className:"text display-none display-md-block"}))),r.a.createElement("div",{className:"text line"}),r.a.createElement("div",{className:"text"})))),r.a.createElement("div",{className:"box-placeholder greyed"},r.a.createElement("div",{className:"Container--wide box-wrapper"},r.a.createElement("div",{className:"image"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"})),r.a.createElement("div",{className:"excerpt para-4"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"text"}),r.a.createElement("div",{className:"flex middle-block"},r.a.createElement("div",{className:"text display-none display-md-block"}),r.a.createElement("div",{className:"text display-none display-md-block"}))),r.a.createElement("div",{className:"text line"}),r.a.createElement("div",{className:"text"}))))));return r.a.createElement(n.Fragment,null,e)},Rn=a(254),Pn=Object(w.b)((function(e,t){var a=e.workspaces.items[e.session.currentWorkspaceId];return{canCreate:!c()(a,"subscription.limits.links")||Object(He.b)("links",a)>=1||Object(He.f)("links",e.account),overQuota:Object(He.e)("links",e.account),featureLimits:Object(qe.getFeatureLimits)("links",a),availableLinks:Object(He.b)("links",a)}}))((function(e){var t=e.canCreate,a=e.teammate,n=e.overQuota,o=e.featureLimits,s=e.availableLinks,i=e.children;if(!a&&!t){var l=r.a.createElement("span",null,"Whoops, you've reached your plan's links limit ",r.a.createElement("br",null),"(",Object(ct.formatNumber)(o.included),"). You'll need to upgrade your plan to ",r.a.createElement("br",null),"create more. ",r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options"));return r.a.createElement(v.Tooltip,{overlay:l},r.a.cloneElement(i,{disabled:!0}))}if(m.a.showLinksOverquotaWorningModal&&0===s&&n){var u=c()(n,"block.units",0),p=c()(n,"block.price.net",0);return r.a.createElement(De.a,{icon:{name:"ic-information",color:"#2281c2",size:"md"},title:"Hang on!",message:r.a.createElement("span",null,"You've reached the maximum number of links in your current plan. For every ",r.a.createElement("strong",null,"additional ",Object(ct.formatNumber)(u)," ",Z()("link",u))," you will be billed ",r.a.createElement("strong",null,"$",Object(ct.formatNumber)(p),"/month extra"),"."),primaryButtonProps:{label:"I agree",theme:"checkout"},secondaryButtonProps:{label:"Learn more",onClick:function(){return window.open("https://support.rebrandly.com/hc/en-us/articles/115001565594-How-Rebrandly-Pricing-Works")}}},i)}return r.a.createElement(v.Tooltip,{display:!Ve.h,placement:"top",overlay:r.a.createElement("span",null,'Or press "R"')},i)})),zn=a(115),Fn=a(136),Un=a(54),Bn=a(31),Wn=(a(1349),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSearchOnMobile:!1,isSearching:!1},e}return Object(y.a)(a,[{key:"renderBulkActionsButtons",value:function(){var e=this.props,t=e.params,a=e.openAddOptions,o=(e.openEditDestination,c()(this.props.selectedLinkIds,"length",0)),s={icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete ".concat(o," ").concat(Z()("link",o),"?"),message:"This is a permanent action and cannot be undone.",primaryButtonProps:{label:"Delete",theme:"delete"},secondaryButtonProps:{label:"Cancel"}};return r.a.createElement(n.Fragment,null,"trashed"===t.status?r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Button,{label:"Restore",onClick:this.props.onBulkRestore}),r.a.createElement(De.a,s,r.a.createElement(v.Button,{className:"m-l-12",label:"Delete permanently",onClick:this.props.onBulkDelete}))):r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Dropdown,null,r.a.createElement(v.Trigger,null,r.a.createElement(v.Button,{label:"Edit"})),r.a.createElement(v.Menu,null,!1,r.a.createElement("li",null,r.a.createElement(v.A,{size:"lg",onClick:a},"Add options")),r.a.createElement("li",null,r.a.createElement(De.a,s,r.a.createElement(v.A,{size:"lg",onClick:this.props.onBulkDelete},"Delete")))))))}},{key:"renderFilterButtons",value:function(){var e=this,t=c()(this.props.params,"term",""),a=!!t,o={active:this.props.isFiltering,disabled:a,onClick:this.props.onOpenSidebar,icon:this.props.isFiltering?{name:"ic-cross",position:"right",size:"tiny",color:"#2281c2",onClick:this.props.onParamsChange}:null};return r.a.createElement("div",{className:"LinksToolbar__filters flex middle-xs"},r.a.createElement("div",null,r.a.createElement(Fn.a,{"rb-test-id":"links-filter-on-header",value:this.props.currentFilter,options:this.props.filters,onChange:function(t){return e.props.onParamsChange(t.params)},closeOnSelect:!0,disabled:a,iconName:"ic-sort"})),this.props.showAdvancedFilters&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement(v.IconButton,Object.assign({},o,{icon:{name:"ic-filter"},theme:"ghost"}))),r.a.createElement("div",{className:"display-none display-sm-block m-l-12"},r.a.createElement(v.Button,Object.assign({},o,{label:this.props.isFiltering?"Filters on":"Filters",theme:"filter"})))),(this.props.resultsCount>15||!!t||this.state.isSearching)&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-none display-sm-block m-l-12"},r.a.createElement(zn.a,{placeholder:"Search links...",search:t,onSearch:function(t){e.props.onSearchChange(t),e.setState({isSearching:!0})},onClose:function(){return e.setState({isSearching:!1})}})),r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.setState({showSearchOnMobile:!0})},icon:{name:"ic-search"}}))))}},{key:"render",value:function(){var e=this,t=this.props.resultsCount,a=c()(this.props.selectedLinkIds,"length",0),n=t>0,o=c()(this.props.params,"status"),s=c()(this.props.params,"term"),i=o===Bn.e||o===Bn.b||!!s,l=c()(this.props.params,"term")||"";return(this.props.workspacesCount>1||this.props.linksTotalCount>0)&&r.a.createElement(Un.b,null,this.props.workspacesCount>1&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Ln.a,{onWorkspaceChanged:this.props.onWorkspaceChange})),this.props.workspacesCount<1&&this.props.isLoading&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Ln.a,{onWorkspaceChanged:this.props.onWorkspaceChange})),r.a.createElement(Un.a,{maxWidth:!0},this.props.linksTotalCount>0&&r.a.createElement("div",{className:"ToolbarSubSection--filters flex middle-xs m-r-16"},e.props.isLoading?r.a.createElement(v.Loading,{size:"sm"}):!e.props.showCount||e.props.isLoading?null:e.props.canSelectLinks?a>0?r.a.createElement(v.Label,{className:"LinksToolbar__counter",value:"".concat(Object(ct.formatNumber)(a)," ").concat(Z()("Link",a)," selected")},r.a.createElement(v.Checkbox,{onChange:function(t){return e.props.onSelectAll(t.target.checked)},checked:!!a,filled:!0})):r.a.createElement("span",{className:"LinksToolbar__counter"},"".concat(Object(ct.formatNumber)(t)," ").concat(Z()("Link",t))):r.a.createElement("span",{className:"LinksToolbar__counter"},Object(ct.formatNumber)(t)," ",Z()("Link",t)),0===a?this.renderFilterButtons():this.renderBulkActionsButtons()),r.a.createElement("div",{className:"ToolbarSubSection--newLink flex middle-xs"},t>0&&r.a.createElement("div",{className:"display-none display-md-block m-r-16"},r.a.createElement(v.ButtonGroup,{disabled:i},r.a.createElement(v.IconButton,{icon:{name:"ic-list"},onClick:function(){return e.props.onToggleViewMode(oa.a)},active:this.props.viewMode===oa.a}),r.a.createElement(v.IconButton,{icon:{name:"ic-side-view"},onClick:function(){return e.props.onToggleViewMode(oa.b)},active:this.props.viewMode===oa.b}))),!Ve.h&&n&&r.a.createElement(Pn,{teammate:this.props.teammate},r.a.createElement(v.Button,{"rb-test-id":"new-link-button",theme:"primary",label:"New link",onClick:this.props.onNewLink})))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{size:"md",icon:"ic-search",type:"search",value:l,placeholder:"Search links...",onChange:function(t){return e.props.onSearchChange(t)},onClose:function(){e.setState({showSearchOnMobile:!1}),e.props.onSearchChange()},showClose:!0,autoFocus:!0})))}}]),a}(n.PureComponent)),Gn=a(270),Hn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onEdit=function(){return e.props.history.push({pathname:"/links/".concat(e.props.link.id),state:{modal:!0}})},e.toggleFavouriteClick=function(){return e.props.onToggleFavouriteClick(e.props.link)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=c()(this.props.link,"creator.fullName"),a=c()(this.props.link,"creator.avatarUrl"),o=c()(this.props.link,"status"),s=Object(je.a)(c()(this.props.link,"createdAt"),"past",!1),i=o===Bn.e,l=o===Bn.b;return r.a.createElement("div",{className:"row middle-xs"},i||l?r.a.createElement("div",{className:"col-xs-9 end-xs"},this.props.showAvatar&&r.a.createElement(v.Tooltip,{overlay:t,placement:"top"},r.a.createElement(v.Avatar,{img:a}))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-xs-3"},this.props.showAvatar&&r.a.createElement(v.Tooltip,{overlay:t,placement:"top"},r.a.createElement(v.Avatar,{img:a}))),r.a.createElement("div",{className:"col-xs-3 text-center"},r.a.createElement(v.Tooltip,{overlay:"Total human clicks",placement:"top"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},Object(ct.formatNumber)(this.props.link.clicks)," ",Z()("click",parseInt(this.props.link.clicks,10)))))),!i&&!l&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-xs-1 end-xs"},r.a.createElement(xe.f,{disabled:!this.props.haFullPermission,tooltip:{overlay:this.props.haFullPermission?"Star":r.a.createElement("span",null,"You are not allowed",r.a.createElement("br",null),"to love this link."),placement:"top"},favourite:this.props.link.favourite,onToggleFavouriteClick:this.toggleFavouriteClick})),r.a.createElement("div",{className:"LinkRow__created col-xs-5 text-right"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},s))),r.a.createElement("div",{className:C()("LinkRowExtraActions",{TrashedLinkActions:i})},r.a.createElement(Gn.a,{link:this.props.link,onDelete:function(){return e.props.onDelete(e.props.link.id)},onRestore:function(){return e.props.onRestore(e.props.link)},onEdit:this.onEdit,onTrash:function(){return e.props.onTrash(e.props.link.id)},showRestoreAction:!0,showDeleteAction:!0,showTrashAction:!0,showVisitAction:!0,showCopyAction:!0,showShareAction:!0,showUnblockAction:!0,showEditAction:!0})))}}]),a}(n.PureComponent),qn=Object(s.g)(Hn),Vn=(a(1350),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLoveClick=function(t,a){t.stopPropagation(),e.props.onToggleFavourite(a)},e.handleSelect=function(t,a){t.stopPropagation(),e.props.onSelectLink(a,t)},e.handleRowClick=function(t){if(e.props.uiConfig.full)return null;e.props.onLinkClick(t)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.shouldLoadMore&&this.props.onLoadMore()}},{key:"renderDetails",value:function(e,t){var a=this,n=e.id,o=e.shortUrl,s=e.status,i=s===Bn.e,c=s===Bn.b,l=!this.props.canSelectMore&&!t||c,u=r.a.createElement("span",null,"You are not allowed",r.a.createElement("br",null),"to select this link.");return r.a.createElement("div",{className:C()("flex middle-xs",{"LinkRow__details--selectable":this.props.uiConfig.canSelectLinks})},r.a.createElement("div",{className:"LinkRow__icon m-r-12"},i&&r.a.createElement(v.Icon,{name:"ic-trash-bin",color:"#c7c9cb",size:"xsmall"}),c&&r.a.createElement(v.Icon,{name:"ic-blocked",color:"#d34547",size:"xsmall"}),!i&&!c&&r.a.createElement(v.Tooltip,{overlay:u,display:!this.props.uiConfig.hasFullPermissions,placement:"top"},r.a.createElement(D.a,{destination:e.destination,width:"16"}))),r.a.createElement("div",{className:"LinkRow__checkbox m-r-12",onClick:function(e){return e.stopPropagation()}},r.a.createElement(v.Label,{onClick:function(e){return a.handleSelect(e,n)}},r.a.createElement(v.Checkbox,{disabled:l,checked:t}))),r.a.createElement(v.A,{className:C()("LinkRow__destination ellipsis",{"LinkRow__destination--trashed":i,"LinkRow__destination--blocked":c}),size:"x-lg",onClick:function(){if(i||c)return null;a.props.onLinkClick(n)}},o))}},{key:"renderHalfRowToolbar",value:function(e,t){var a=this,n=e.creator,o=e.status,s=e.clicks,i=e.createdAt,c=o===Bn.e,l=o===Bn.b;return r.a.createElement("div",{className:"flex between-xs middle-xs"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},Object(ct.formatNumber)(s)," ",Z()("click",parseInt(s,10))),!c&&!l&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},Object(je.a)(i,"past",!1)),r.a.createElement("div",{className:"flex middle-xs"},!c&&!l&&t&&r.a.createElement(xe.f,{tooltip:{overlay:"Star",placement:"top"},favourite:e.favourite,onToggleFavouriteClick:function(t){return a.handleLoveClick(t,e.id)}}),this.props.showAvatars&&r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Tooltip,{overlay:n.fullName,placement:"top"},r.a.createElement(v.Avatar,{img:n.avatarUrl})))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.link,o=t.uiConfig,s=t.showAvatars,i=t.onToggleFavourite,c=t.onTrashLink,l=t.onDeleteLink,u=t.onRestoreLink,m=t.clientWidth,p=a.status===Bn.e,d=a.status===Bn.b;return r.a.createElement(Se.e,{className:C()("LinkRow",{"LinkRow--selected":o.isSelected,"Container--wide":o.full}),containerClassName:C()({"ListRow--selected":o.isSelected,"ListRow--full":o.full,"ListRow--half":o.half,"ListRow--current":o.current,"ListRow--no-border":o.noBorder}),onClick:function(){return e.handleRowClick(a.id)}},!T()(a.tags)&&r.a.createElement(Se.c,{className:"LinkRow__tags"},r.a.createElement(n.Fragment,null,a.tags.map((function(t){return r.a.createElement(v.Tag,{key:t.id,label:t.name,collapsed:!e.props.uiConfig.showExpandedTags,color:t.color,size:"sm",collapseBreakpoint:"sm",tooltip:t.name,onClick:e.props.onTagClick})})))),r.a.createElement(Se.c,{className:C()("LinkRow__details col-xs-12",{"LinkRow__details--trashed":p,"LinkRow__details--blocked":d,"col-md-6 col-lg-7":o.full,"col-md-12":o.half})},r.a.createElement(v.Dropdown,{disabled:!p||m>=oa.d.medium.max},r.a.createElement(v.Trigger,null,this.renderDetails(a,o.isSelected)),r.a.createElement(v.Content,{className:"LinkRow__actions--dropdown"},r.a.createElement(Gn.a,{link:a,onDelete:function(){return l(a.id)},onRestore:function(){return u(a)},showInDropdown:!0})))),o.full&&r.a.createElement(Se.c,{className:"LinkRow__toolbar display-none display-md-flex middle-xs col-md-6 col-lg-5"},r.a.createElement(qn,{link:a,showAvatar:s,onTrash:function(e){return c(e)},onDelete:function(e){return l(e)},onRestore:function(e){return u(e)},onToggleFavouriteClick:function(e){return i(e.id)},haFullPermission:o.hasFullPermissions})),r.a.createElement(Se.c,{className:C()("col-xs-12",{"col-md-7":o.full,"col-md-12":o.half})},r.a.createElement(v.Text,{size:"small",singleLine:!0,className:"LinkRow__title"},a.title)),r.a.createElement(Se.c,{className:"LinkRow__infos col-xs-12"},o.half?this.renderHalfRowToolbar(a,o.hasFullPermissions):r.a.createElement("div",{className:"display-block display-md-none"},this.renderHalfRowToolbar(a,o.hasFullPermissions))))}}]),a}(n.PureComponent)),Yn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleTagClick=function(t){t.stopPropagation(),e.props.onTagClick()},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.links,n=t.currentLinkId,o=t.selectedLinkIds,s=t.canEdit,i=t.viewMode,c=Object(ea.a)(t,["links","currentLinkId","selectedLinkIds","canEdit","viewMode"]),l=a.findIndex((function(e){return e.id===n})),u=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],m={};return Ve.h&&u&&(m={paddingTop:u.getBoundingClientRect().height}),r.a.createElement(Se.a,null,r.a.createElement(Se.f,{style:m,className:"LinksCollection"},a.map((function(t,n){return r.a.createElement(Vn,Object.assign({key:t.id,link:t,uiConfig:{full:i===oa.a,half:i===oa.b,current:l===n,noBorder:l+1===n,hasFullPermissions:s(t),isSelected:o.includes(t.id),showExpandedTags:e.props.showExpandedTags,canSelectLinks:e.props.canSelectLinks},shouldLoadMore:!e.props.firstLoad&&e.props.isLoading&&n+3===a.length,onTagClick:e.handleTagClick,onLoadMore:e.props.onLoadMore},c))}))))}}]),a}(n.PureComponent),Kn=a(725),Jn=a.n(Kn),Qn=function(e){var t=e.searchValue,a=e.showClearAll,n=e.showSearch,o=e.onSearchChange,s=e.onClearFilters;return r.a.createElement("header",{className:"LinksSidebar__header"},r.a.createElement("div",{className:"flex middle-xs m-b-12"},r.a.createElement(v.Text,{className:"Text-Title"},"Filters"),a&&r.a.createElement(v.Button,{className:"LinksSidebarHeader__clearButton",theme:"link",onClick:function(){return s()},label:"Clear all"})),n&&r.a.createElement(v.Input,{name:"search",type:"search",value:t,size:"md",placeholder:"Search filters...",icon:"ic-search",onChange:o}))},Xn=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showMore:!1},e.itemsLimit=5,e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.list,o=t.showLoadMore,s=t.loading,i=t.onLoadMore,c=t.renderValue,l=this.state.showMore?this.props.list:this.props.list.slice(0,this.itemsLimit);return r.a.createElement("div",null,(!T()(n)||s)&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail font-semibold m-b-16"},a),r.a.createElement("ul",{className:"LinksSidebarBody__list"},l.map((function(e){return r.a.createElement("li",{key:e.id},c(e))}))),s&&r.a.createElement("div",{className:"inline m-t-4"},r.a.createElement(v.Loading,{size:"sm",label:"Loading ".concat(a,"...")})),this.props.list.length>this.itemsLimit&&!this.state.showMore&&r.a.createElement(v.Button,{className:"m-t-8",theme:"link",label:"...Show more",onClick:function(){return e.setState({showMore:!0})}}),this.state.showMore&&o&&!s&&r.a.createElement(v.Button,{className:"m-t-8",theme:"link",label:"...Load more",onClick:i}))}}]),a}(n.PureComponent),Zn=(a(1351),function(e){var t=e.term,a=e.button;return r.a.createElement("div",{className:"EmptySearch"},r.a.createElement(v.Illustration,{name:"ill-no-reuslts",size:"sm"}),r.a.createElement(v.Text,{size:"small",className:"m-t-12"},"There\u2019s no results for ",r.a.createElement("strong",null,"\u201c".concat(t,"\u201d")),"."),!T()(a)&&r.a.createElement(v.Button,{label:a.text,size:"lg"===a.size?"lg":"md",onClick:a.onClick,theme:a.theme||("sm"===a.size?"ghost":"primary")}))}),$n=(a(1352),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleSearchChange=function(t){e.setState({search:t})},e.toggle=function(e,t){return e.includes(t)?Jn()(e,t):e.concat([t])},e.clearSearch=function(){return e.setState({search:""})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.open&&this.loadData()}},{key:"componentDidUpdate",value:function(e){this.props.open&&this.props.open!==e.open&&this.loadData()}},{key:"loadData",value:function(){this.props.workspace.domains>1&&0===this.props.domains.length&&this.props.loadDomains(),0===this.props.tags.length&&this.props.loadTags(),this.props.canViewTeammates&&this.props.workspace.teammates>1&&0===this.props.teammates.length&&this.props.loadMembers(this.props.workspace.id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.onCloseSidebar,o=t.linksParams,s=t.onParamsChange,i=t.tags,l=t.domains,u=t.teammates,m=t.tagsCount,p=t.domainsCount,d=t.teammatesCount,h=t.canViewTeammates,b=t.isFiltering,f=c()(m,"total",0)+c()(p,"total",0)+c()(d,"total",0)>15,g=this.props.tags.filter((function(t){return t.name.toLowerCase().includes(e.state.search.toLowerCase())})),E=this.props.domains.filter((function(t){return t.fullName.toLowerCase().includes(e.state.search.toLowerCase())})),y=this.props.teammates.filter((function(t){return t.fullName.toLowerCase().includes(e.state.search.toLowerCase())})),k=!g.length&&!E.length&&!y.length&&this.state.search,O=function(e){return function(t,a){var n=e.includes(t.id)?1:0;return(e.includes(a.id)?1:0)-n}};return r.a.createElement(v.Sidebar,{className:"LinksSidebar",isOpen:a,onClose:n,showClose:!0,position:"right"},r.a.createElement(Qn,{searchValue:this.state.search,showClearAll:b,showSearch:f,onSearchChange:this.handleSearchChange,onClearFilters:function(){return e.props.onParamsChange()}}),r.a.createElement(v.Divider,null),k&&r.a.createElement(Zn,{term:this.state.search,button:{onClick:this.clearSearch,text:"Show all filters",theme:"link"}}),r.a.createElement("div",{className:"LinksSidebar__body"},r.a.createElement(Xn,{label:"Tags",list:g.sort(O(o.tags)),showLoadMore:i.length<m.results&&!this.state.search,loading:this.props.isTagsLoading,onLoadMore:function(){e.props.loadTags(c()(Ra()(e.props.tags),"id"))},renderValue:function(t){return r.a.createElement(v.Label,{value:r.a.createElement(v.Tag,{size:"lg",color:t.color,label:t.name})},r.a.createElement(v.Checkbox,{checked:o.tags.includes(t.id),onChange:function(){return s(Object(F.a)(Object(F.a)({},o),{},{tags:e.toggle(o.tags,t.id)}))}}))}}),r.a.createElement(Xn,{label:"Domains",list:E.sort(O(o.domains)),showLoadMore:l.length<p.results&&!this.state.search,loading:this.props.isDomainsLoading,onLoadMore:function(){e.props.loadDomains(c()(Ra()(e.props.domains),"id"))},renderValue:function(t){return r.a.createElement(v.Label,{value:t.fullName},r.a.createElement(v.Checkbox,{checked:o.domains.includes(t.id),onChange:function(){return s(Object(F.a)(Object(F.a)({},o),{},{domains:e.toggle(o.domains,t.id)}))}}))}}),h&&r.a.createElement(Xn,{label:"Teammates",list:y.sort(O(o.teammates)),showLoadMore:u.length<d.results&&!this.state.search,loading:this.props.isTeammatesLoading,onLoadMore:function(){e.props.loadMembers(e.props.workspace.id,c()(Ra()(e.props.teammates),"id"))},renderValue:function(t){return r.a.createElement(v.Label,{value:r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Avatar,{img:t.avatarUrl,size:"small"}),r.a.createElement("span",{className:"m-l-8"},t.fullName))},r.a.createElement(v.Checkbox,{checked:o.teammates.includes(t.id),onChange:function(){return s(Object(F.a)(Object(F.a)({},o),{},{teammates:e.toggle(o.teammates,t.id)}))}}))}})))}}]),a}(n.PureComponent)),er=Object(w.b)((function(e,t){return{linksParams:e.links.params,domains:e.domains.list.map((function(t){return e.domains.items[t]})),domainsCount:e.domains.count,domainsParams:e.domains.params,isDomainsLoading:e.domains.isLoading,tags:e.tags.list.map((function(t){return e.tags.items[t]})),tagsCount:e.tags.count,tagsParams:e.tags.params,isTagsLoading:e.tags.isLoading,teammates:e.teammates.list.map((function(t){return e.teammates.items[t]})),teammatesCount:e.teammates.count,teammatesParams:e.teammates.params,isTeammatesLoading:e.teammates.isLoading,canViewTeammates:Object(H.d)(e,t.workspace.id,"view","workspaces.teammates")}}),(function(e){return{loadDomains:function(t){return e(Object(Qa.f)(t))},loadTags:function(t){return e(Object(Dn.i)(t))},loadMembers:function(t,a){return e(Object($.i)(t,a))}}}))($n),tr={tagsList:[],scriptsList:[],showTags:!1,showScripts:!1,isProcessing:!1},ar=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state=Object(F.a)({},tr),e.handleTagsChange=function(t){Object(Ha.a)(e.state.tagsList)&&e.setState({tagsList:Object(U.a)(t)})},e.handleSriptsChange=function(t){Object(qa.a)(e.state.scriptsList)&&e.setState({scriptsList:Object(U.a)(t)})},e.handleShowScripts=function(){return e.setState({showScripts:!0})},e.handleShowTags=function(){return e.setState({showTags:!0})},e.applyBulkActions=function(){var t=e.state.tagsList.map((function(e){return e.id})),a=e.state.scriptsList.map((function(e){return e.id}));e.setState({isProcessing:!0}),e.props.attachBulkOptions(e.props.links,t,a).then((function(){e.setState(Object(F.a)({},tr)),e.props.createNotification(null,"Changes added to queue, they may take some time to be completed",r.a.createElement(v.A,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360010865533",target:"_blank"},"Learn more")),e.props.closeAddOptions(),e.props.loadLinks()})).catch((function(){e.setState({isProcessing:!1}),e.props.createNotification(q.b,"An error occured")}))},e.handleClose=function(){e.setState(Object(F.a)({},tr)),e.props.closeAddOptions()},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{onClose:this.handleClose,showClose:!0,isOpen:this.props.isOpen},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"flex middle-xs m-b-8"},r.a.createElement(v.Text,{size:"large",singleLine:!0,className:"Text-Title"},"Link options"),r.a.createElement(v.Tooltip,{placement:"top",overlay:r.a.createElement("span",null,"Rebrandly\u2019s Bulk Actions feature allows you to",r.a.createElement("br",null),"select multiple links to update at the same time.",r.a.createElement("br",null),r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360010865533",target:"_blank"},"Learn more"))},r.a.createElement(v.Icon,{className:"m-l-8",color:"#c7c9cb",size:"tiny",name:"ic-help"}))),r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},this.props.links.length," ",Z()("Link",this.props.links.length)," selected")),r.a.createElement("div",null,this.state.showTags&&r.a.createElement("div",{className:"OptionRow"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-tags",size:"xsmall",color:"#c7c9cb"}),r.a.createElement(Ua.a,{label:"Select tags",controller:r.a.createElement(Ba.a,{canAddMore:Object(Ha.a)(this.state.tagsList),canManageOptions:!0}),selectedElements:this.state.tagsList,onChange:this.handleTagsChange,canEdit:!0})),this.state.showScripts&&r.a.createElement("div",{className:"OptionRow"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-retarget",size:"xsmall",color:"#c7c9cb"}),r.a.createElement(Ua.a,{label:"Select scripts",controller:r.a.createElement(Wa.a,{canAddMore:Object(qa.a)(this.state.scriptsList),canManageOptions:!0}),selectedElements:this.state.scriptsList,onChange:this.handleSriptsChange,canEdit:!0})),r.a.createElement(Ga.a,{isOpen:!this.state.showScripts&&!this.state.showTags,items:[{label:"Tags",visible:!this.state.showTags,onClick:this.handleShowTags},{label:"Scripts",visible:!this.state.showScripts,onClick:this.handleShowScripts}]})),r.a.createElement("div",{className:"m-t-36"},r.a.createElement(v.Button,{className:"m-r-16",label:"Cancel",onClick:this.handleClose}),r.a.createElement(v.Button,{theme:"primary",label:"Apply options",disabled:T()(this.state.tagsList)&&T()(this.state.scriptsList),onClick:this.applyBulkActions,isLoading:this.state.isProcessing}))))}}]),a}(n.PureComponent),nr=Object(w.b)((function(e){return{links:e.links.selectedItemIds}}),(function(e){return{loadLinks:function(t){return e(Object(M.t)(t))},createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))},attachBulkOptions:function(e,t,a){return Object(b.k)(e,{tags:t,scripts:a})}}}))(ar),rr=a(358),or=a(255),sr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={destination:"",isProcessing:!1},e.handleChange=function(t){var a=t.target.value,n=Object(Bn.q)(a);e.setState({destination:n})},e.submit=function(t){t&&t.preventDefault();var a=e.props,n=a.bulkEditDestination,o=a.selectedLinks,s=a.closeEditDestination,i=a.createNotification,c=Object(ya.h)(e.state.destination),l=r.a.createElement(v.A,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360010865533",target:"_blank"},"Learn more");e.setState({isProcessing:!0}),c&&n(o,e.state.destination).then((function(){i(null,r.a.createElement("span",null,"Changes added to queue, they may take some time to be completed"),l),e.setState({isProcessing:!1}),s()})).catch((function(){var t=r.a.createElement("span",null,"An error occured");i(q.b,t,l),e.setState({isProcessing:!1})}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.closeEditDestination,a=e.selectedLinks,o=Object(ya.h)(this.state.destination),s=a.length;return r.a.createElement(v.Modal,{size:"lg",onClose:t,showClose:!0,isOpen:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.submit},r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Text,{size:"large",singleLine:!0,className:"m-b-8"},"Edit destination url"),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},s," ",Z()("Link",s)," selected")),r.a.createElement("div",{className:"m-b-36"},r.a.createElement(or.a,{size:"lg",placeholder:"Type or paste a link (URL)",tooltipOverlay:r.a.createElement("span",null,"Destination URL is the long link ",r.a.createElement("br",null)," you want to shorten and rebrand"),label:"Destination URL",value:this.state.destination,onSubmit:this.submit,onChange:this.handleChange})),r.a.createElement(n.Fragment,null,r.a.createElement(v.Button,{className:"m-r-16",label:"Cancel",onClick:t}),r.a.createElement(v.Button,{label:"Change destination url",type:"submit",theme:"primary",disabled:this.state.isProcessing||!o,isLoading:this.state.isProcessing})))))}}]),a}(n.PureComponent),ir=Object(s.g)(Object(rr.a)((function(e){return{selectedLinks:e.links.selectedItemIds}}),(function(e){return{createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))},bulkEditDestination:function(e,t){}}}))(sr)),cr=a(86),lr=a(509),ur=a(317),mr=a(102),pr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={isSidebarOpen:!1,viewMode:c()(mr.c.loadLocalPreferences(),oa.c,oa.a),clientWidth:null,countTotal:null,showBulkOptionsModal:!1,showEditDestinationModal:!1,allResourcesLoaded:!1,firstLoad:!0},e.setScreenSize=function(){return e.setState({clientWidth:document.body.clientWidth})},e.isMasterDetailAllowed=function(t){var a=c()(t,"status");return e.state.clientWidth>oa.d.medium.max&&!(a===Bn.e||a===Bn.b||t.term&&t.term.length>0)},e.handleParamsChange=function(t){e.props.setParams(t),e.loadLinks()},e.debouncedLoadLinks=za()(e.loadLinks,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>=3)&&e.debouncedLoadLinks())},e.showFirstElement=function(){if(T()(e.props.links))return null;e.props.history.push({pathname:e.props.location.pathname,search:"?id=".concat(e.props.links[0].id)})},e.handleOpenSidebar=function(){document.body.classList.add("overflow-hidden"),e.setState({isSidebarOpen:!0})},e.handleCloseSidebar=function(){document.body.classList.remove("overflow-hidden"),e.setState({isSidebarOpen:!1})},e.openLinkDetails=function(t){return e.isMasterDetailAllowed(e.props.params)&&e.state.viewMode===oa.b?e.props.history.push({search:"?id=".concat(t)}):e.props.history.push({pathname:"/links/".concat(t),state:{modal:!0}})},e.handleWorkspaceChange=function(){e.props.history.push("/links")},e.handleToggleViewMode=function(t){if(t===e.state.viewMode)return null;e.setState({viewMode:t}),e.props.history.push({search:t===oa.b?"?id=".concat(e.props.links[0].id):""}),mr.c.saveLocalPreferences(Object($t.a)({},oa.c,t),e.props.accountId)},e.openAddOptions=function(){return e.setState({showBulkOptionsModal:!0})},e.closeAddOptions=function(){return e.setState({showBulkOptionsModal:!1})},e.openEditDestination=function(){return e.setState({showEditDestinationModal:!0})},e.closeEditDestination=function(){return e.setState({showEditDestinationModal:!1})},e.handleBulk=function(t){var a,n=c()(e.props.selectedLinkIds,"length",0),r="".concat(n," ").concat(Z()("link",n)," will be");switch(t){case"trash":r+=" trashed. \ud83d\ude35",a=e.props.bulkTrash;break;case"delete":r+=" permanently deleted.",a=e.props.bulkDelete;break;case"restore":r+=" restored.",a=e.props.bulkRestore}a(e.props.selectedLinkIds).then((function(){return e.props.createNotification(q.h,r)}))},e.handleNewLink=function(){return e.props.history.push({pathname:"/links/new",state:{modal:!0}})},e.handleLinkSelect=function(t,a){var n=e.props,r=n.list,o=n.links,s=n.selectLink,i=n.selectedLinkIds,c=n.canEdit,l=r.indexOf(t),u=!a.currentTarget.getElementsByTagName("input")[0].checked,m=i[i.length-1];if(!(i.length>=1e3&&u))if(a.shiftKey){var p=m?r.indexOf(m):0;(l>p?r.slice(p,l+1):r.slice(l,p+1).reverse()).filter((function(e){return c(o.find((function(t){return t.id===e})))})).forEach((function(e,t){i.length+t+1>1e3&&u||s(e,u)})),u||s(t,!u)}else s(t,u)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.setScreenSize(),window.addEventListener("resize",this.setScreenSize);var t=this.getTermFromQueryString();Object(b.G)().then((function(t){var a=t.count;return e.setState({countTotal:a})})),t&&this.props.setParams({term:t}),this.loadLinks(),this.props.loadContextFeatures(this.props.context.id)}},{key:"componentDidUpdate",value:function(){this.getCurrentLinkId()||this.state.viewMode!==oa.b||this.showFirstElement()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("resize",this.setScreenSize)}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadLinks",value:function(e){var t=this;return e?this.setState({isLoading:!0,firstLoad:!1}):(this.props.resetList(),this.setState({isLoading:!0,firstLoad:!0})),this.props.load(e).then((function(e){t._isMounted&&t.setState({allResourcesLoaded:T()(e.value)})})).then((function(){return t._isMounted&&t.setState({isLoading:!1})}))}},{key:"getCurrentLinkId",value:function(){var e=this.props.location;return new u.a(e.pathname+e.search,!0).query.id}},{key:"renderEmptyState",value:function(e){var t,a=this,n=!!this.props.params.term;return t=0===this.props.count.results&&e?r.a.createElement(Kt.f,{onClick:function(){return a.handleParamsChange()}}):n?r.a.createElement(Kt.m,{onClick:function(){return a.handleParamsChange()}}):r.a.createElement(Kt.i,null),r.a.createElement("div",{className:"p-t-48 p-b-128"},t)}},{key:"render",value:function(){var e=this,t=c()(this.props.context,"domains",0),a=c()(this.props.context,"teammates",0),o=c()(this.props.context,"links",0),s=this.props.count.results,i=this.props.tagsCount.total>0||t>1||a>1&&this.props.canEditWorkspace,l=this.getCurrentLinkId(),u=T()(this.props.links)&&!this.props.isLoading,m=!this.props.links.find((function(e){return e.id===l})),p=a>1,d=this.props.hasBulkFeature&&this.props.hasRole([H.b,H.a]),h=!this.isMasterDetailAllowed(this.props.params)||this.state.viewMode===oa.a||u?oa.a:oa.b,b=!T()(this.props.params.term),f=c()(this.props.params,"tags.length",0)+c()(this.props.params,"domains.length",0)+c()(this.props.params,"teammates.length",0)>0||!!this.props.params.favourite,g=r.a.createElement(n.Fragment,null,r.a.createElement(Yn,{canSelectLinks:d,showExpandedTags:this.props.preferences.showExpandedTags,onTagClick:function(){return e.props.rememberPreference({showExpandedTags:!e.props.preferences.showExpandedTags})},onLinkClick:this.openLinkDetails,links:this.props.links,accountId:this.props.accountId,canEdit:this.props.canEdit,showAvatars:p,currentLinkId:l,selectedLinkIds:this.props.selectedLinkIds,viewMode:h,isLoading:this.state.isLoading,firstLoad:this.state.firstLoad,onDeleteLink:this.props.onDeleteLink,onTrashLink:this.props.onTrashLink,onRestoreLink:this.props.onRestoreLink,onToggleFavourite:this.props.onToggleFavourite,onSelectLink:this.handleLinkSelect,canSelectMore:this.props.canSelectMore(c()(this.props.selectedLinkIds,"length",0)),onLoadMore:function(){return e.loadLinks(c()(Ra()(e.props.links),"id"))},clientWidth:this.state.clientWidth}),r.a.createElement(cr.a,{key:this.props.links.length.toString(),isLoading:!this.state.allResourcesLoaded&&!b,loader:r.a.createElement(Mn,null),canLoadMore:!b&&!this.state.allResourcesLoaded,loadingLabel:this.props.params.term?"Searching, please wait...":"Loading links...",onLoadMore:function(){return e.loadLinks(c()(Ra()(e.props.links),"id"))},scrollableAncestor:h===oa.b&&"parent",infinite:!0}));return r.a.createElement(n.Fragment,null,r.a.createElement(Wn,{isFiltering:f,showCount:c()(this.props.params,"term.length",0)<3,canSelectLinks:d,onOpenSidebar:this.handleOpenSidebar,resultsCount:s,linksTotalCount:o,selectedLinkIds:this.props.selectedLinkIds,sort:this.props.sort,params:this.props.params,currentFilter:this.props.currentFilter,filters:this.props.filters,linksLimits:this.props.linksLimits,viewMode:h,teammate:!this.props.hasRole([H.b]),onNewLink:this.handleNewLink,isLoading:this.state.isLoading,onParamsChange:this.handleParamsChange,onSearchChange:this.handleSearchChange,onSelectAll:this.props.onSelectAll,showAdvancedFilters:i,workspacesCount:this.state.countTotal,onWorkspaceChange:this.handleWorkspaceChange,onToggleViewMode:this.handleToggleViewMode,openAddOptions:this.openAddOptions,openEditDestination:this.openEditDestination,openBulkTrashModal:this.openBulkTrashModal,onBulkTrash:function(){return e.handleBulk("trash")},onBulkDelete:function(){return e.handleBulk("delete")},onBulkRestore:function(){return e.handleBulk("restore")}}),h===oa.a&&(u?this.renderEmptyState(f):g),h===oa.b&&r.a.createElement(ur.c,null,r.a.createElement(ur.b,null,u?this.renderEmptyState():g),r.a.createElement(ur.a,{id:l},m?r.a.createElement(lr.a,{label:"No element selected",buttonProps:{label:"Show first element",theme:"primary",onClick:this.showFirstElement}}):r.a.createElement(Rn.a,{id:l,noContext:!0}))),this.props.context&&r.a.createElement(er,{open:this.state.isSidebarOpen,isFiltering:f,onCloseSidebar:this.handleCloseSidebar,onParamsChange:this.handleParamsChange,workspace:this.props.context}),r.a.createElement(nr,{isOpen:this.state.showBulkOptionsModal,closeAddOptions:this.closeAddOptions}),this.state.showEditDestinationModal&&r.a.createElement(ir,{closeEditDestination:this.closeEditDestination}),Ve.h&&r.a.createElement(Pn,{teammate:!this.props.hasRole([H.b])},r.a.createElement(v.Button,{className:"Button--floating",type:"action",theme:"primary",size:"md",onClick:this.handleNewLink,shadow:!0},r.a.createElement(v.Icon,{name:"ic-plus"}))))}}]),a}(n.PureComponent),dr=Object(s.g)(Object(w.b)((function(e){var t=e.links,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading,i=t.selectedItemIds,c=e.workspaces.items[e.session.currentWorkspaceId],l=e.workspaces.features[e.session.currentWorkspaceId];return{count:o,isLoading:s,params:a,list:n,links:n.map((function(e){return r[e]})),currentFilter:Object(Bn.k)(e),selectedLinkIds:i,filters:Object(Bn.m)(e),tagsCount:e.tags.count,context:c,linksLimits:e.account.subscription.limits.links,accountId:e.account.id,canEdit:function(t){return Object(H.d)(e,e.session.currentWorkspaceId,"edit","workspaces.links",t)},preferences:e.preferences.items,canEditWorkspace:Object(H.d)(e,e.session.currentWorkspaceId,"edit","workspaces"),hasBulkFeature:Object(qe.hasFeature)("links.jobs",l),hasRole:function(t){return Object(H.f)(t,e)}}}),(function(e){return{load:function(t){return e(Object(M.t)(t))},loadContextFeatures:function(t){return e(Object(Gt.p)(t))},setParams:function(t){return e(Object(M.C)(t))},resetList:function(){return e(Object(M.x)())},rememberPreference:function(t){return e(Object(Xa.c)(t))},selectLink:function(t,a){return e(Object(M.B)(t,a))},onSelectAll:function(t){return e(t?Object(M.A)():Object(M.m)())},onTrashLink:function(t){return e(Object(M.E)(t)).then((function(){return e(Object(W.a)(q.h,"Link trashed \ud83d\ude35"))})).catch((function(){return e(Object(W.a)(q.b,"An error occured"))}))},onDeleteLink:function(t){return e(Object(M.v)(t)).then((function(){return e(Object(W.a)(q.f,"Link permanently deleted"))})).catch((function(){return e(Object(W.a)(q.b,"An error occured"))}))},onRestoreLink:function(t){return e(Object(M.y)(t.id)).then((function(){return e(Object(W.a)(q.h,"Link restored"))}))},onToggleFavourite:function(t){return e(Object(M.D)(t))},createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))},bulkTrash:function(t){return e(Object(M.e)(t)).catch((function(){return e(Object(W.a)(q.b,"An error occured"))}))},bulkDelete:function(t){return e(Object(M.c)(t)).catch((function(){return e(Object(W.a)(q.b,"An error occured"))}))},bulkRestore:function(t){return e(Object(M.d)(t)).catch((function(){return e(Object(W.a)(q.b,"An error occured"))}))},canSelectMore:function(e,t){return e+(t||1)<=1e3}}}))(pr)),hr=a(77),br=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isCounting:!1,hasWorkspaces:!1},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isCounting:!0}),this.props.count().then((function(t){var a=t.value.count;e.setState({isCounting:!1,hasWorkspaces:a>0})}))}},{key:"render",value:function(){var e=this.props.currentWorkspace;return this.state.isCounting?r.a.createElement(Mn,null):this.state.hasWorkspaces?c()(e,"type")===hr.c?r.a.createElement(In,{id:c()(e,"id")}):r.a.createElement(dr,{key:c()(e,"id")}):r.a.createElement(Kt.t,null)}}]),a}(n.PureComponent),fr=Object(s.g)(Object(w.b)((function(e){return{currentWorkspace:c()(e.workspaces.items,"[".concat(e.session.currentWorkspaceId,"]"))}}),(function(e){return{count:function(){return e(Object(Gt.g)())}}}))(br)),gr=function(){return r.a.createElement(fr,null)},vr=a(90),Er=a.n(vr),yr=function(e){var t=e.cartID,a=e.cartItem,n=e.value,o=e.isProcessing,s=e.onChange,i=e.onSubmit,l=e.onCloseModal,u=c()(a,"fullName"),m={placeholder:"Enter coupon code",className:"m-b-24",value:n,onChange:s,size:"lg",icon:"ic-tags",autoFocus:!0,"rb-test-id":"coupon-code-input"};return r.a.createElement(v.Modal,{isOpen:!0,onClose:l,middle:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"CouponSearchModal text-center"},r.a.createElement(v.Text,{className:"Text-Title m-b-8",size:"large"},"Redeem your coupon now"),r.a.createElement(v.Text,{className:"Text--SubDetail m-b-24",size:"small"},"Don't have a coupon? ",r.a.createElement(Ae.a,{href:"https://support.rebrandly.com/hc/en-us/articles/360004126373",target:"_blank",size:"lg"},"Get one now")),r.a.createElement("form",{onSubmit:i},r.a.createElement(v.Input,m),r.a.createElement(v.Button,{"rb-test-id":"redeem-button",size:"lg",label:"Redeem",disabled:!n||o,theme:"primary",onClick:i,isLoading:o,block:!0}),u&&r.a.createElement("div",{className:"m-t-24"},r.a.createElement(Ae.a,{to:"/checkout/domains?cartID="+t,size:"lg"},"Buy ",u," without coupon"))))))},kr=function(e){var t=e.onCloseModal,a=Object(ea.a)(e,["onCloseModal"]);return r.a.createElement(he.a,Object.assign({isOpen:!0,onClose:t,icon:{name:"ic-warning",color:"#d34547",size:"md"},title:"Invalid coupon",message:"This coupon can\u2019t be redeemed because it\u2019s either expired, has already reached its limit or because it\u2019s not your first custom domain with Rebrandly.",closeOnClickOutside:!0},a))},Or=function(e){var t=e.onCloseModal,a=Object(ea.a)(e,["onCloseModal"]);return r.a.createElement(he.a,Object.assign({isOpen:!0,onClose:t,icon:{name:"ic-success",color:"#02af63",size:"md"},title:"Valid coupon \ud83c\udf89"},a))},wr=a(682),jr=a(702),Cr=a(171),Nr=function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){if(!e[a])continue;t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]))}return t.join("&")},Sr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={couponModal:!1,couponSuccess:null,value:"",isProcessing:!1,loading:!1,partnerText:"",partnerImage:"",showLimitExceededModal:!1},e.initCoupon=function(){var t=Er.a.parse(e.props.location.search),a=c()(t,"coupon");e.props.isLogged?a?e.setState({value:a},e.applyCoupon):e.setState({couponModal:!0}):e.redirectToUnauthorizedWithParams()},e.setPartnerData=function(){var t=Er.a.parse(e.props.location.search);e.setState({loading:!0}),Object(b.Pc)(c()(t,"partnerId")).then((function(t){var a=t.text,n=t.image;return e.setState({partnerText:a,partnerImage:n})})).catch().finally((function(){return e.setState({loading:!1})}))},e.handlePurchase=function(t){if(!e.props.isLogged){var a=btoa(JSON.stringify(t)),n=e.props.location.search?e.props.location.search+"&add=".concat(a):"?add=".concat(a);return new Promise((function(t){return e.props.history.push({pathname:"/unauthorized",state:{next:{path:e.props.location.pathname,search:n}}}),t&&t(),setTimeout(t,0)}))}return e.props.addToCart(t).then((function(){return e.initCoupon()})).catch((function(t){switch(c()(t,"data.code")){case ya.a:e.setState({showLimitExceededModal:!0});break;case"InvalidFormat":case"DomainTaken":break;default:e.props.showError(null,"Unknown Error")}return Promise.reject(t)}))},e.applyCoupon=function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&a.preventDefault(),e.state.value){t.next=3;break}return t.abrupt("return",!1);case 3:return n="",r=!1,e.setState({isProcessing:!0}),t.prev=6,t.next=9,e.props.applyCoupon(e.props.cart.id,e.state.value);case 9:mt.a.track("coupon-succesfully-applied"),e.setState({value:n,couponModal:r,couponSuccess:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e.setState({value:n,couponModal:r,couponSuccess:!1});case 16:e.setState({isProcessing:!1});case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectToUnauthorizedWithParams=function(){var t=Er.a.parse(e.props.location.search),a=e.props,n=a.cart;return a.history.push({pathname:"/unauthorized",state:{next:{path:e.props.location.pathname,search:"?".concat(Nr({q:t.q,tlds:t.tlds,coupon:t.coupon,cartID:n.id}))}}})},e.redirectToDomainSearch=function(){var t=Er.a.parse(e.props.location.search),a=c()(t,"q");e.props.history.push({pathname:"/domains/new",search:a&&"q=".concat(a)})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.cart,t=Object.values(e.items),a=Er.a.parse(this.props.location.search),n=c()(a,"domain");e.id?t&&1===t.length&&"domain"===t[0].type&&this.initCoupon():n&&this.handlePurchase(n);c()(a,"partnerId")&&this.setPartnerData()}},{key:"componentDidUpdate",value:function(e){var t=Er.a.parse(e.location.search),a=Er.a.parse(this.props.location.search);c()(t,"partnerId")!==c()(a,"partnerId")&&this.setPartnerData()}},{key:"renderModal",value:function(){var e=this;return!(!this.state.couponModal&&null===this.state.couponSuccess)&&(this.state.couponModal?r.a.createElement(yr,{cartID:this.props.cart.id,cartItem:this.props.lastCartItem,value:this.state.value,isProcessing:this.state.isProcessing,onChange:function(t){return e.setState({value:t})},onCloseModal:function(){return e.setState({couponModal:!1})},onSubmit:this.applyCoupon}):this.state.couponSuccess?r.a.createElement(Or,{onCloseModal:function(){return e.setState({couponSuccess:null})},primaryButtonProps:{theme:"primary",label:"Continue",onClick:function(){return e.props.history.push("/checkout/domains?cartID=".concat(e.props.cart.id,"&coupon=").concat(c()(e.props.cart,"promo.code","")))}}}):r.a.createElement(kr,{onCloseModal:function(){return e.setState({couponSuccess:null})},primaryButtonProps:{label:"Buy domain anyway",theme:"primary",onClick:function(){return e.props.history.push("/checkout/domains?cartID="+e.props.cart.id)}},secondaryButtonProps:{label:"Try another one",onClick:function(){return e.setState({failCouponModal:!1,couponModal:!0})}}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.removeFromCart,o=t.cartItems;if(this.state.loading)return r.a.createElement(v.Loading,null);var s=Er.a.parse(this.props.location.search),i="free"===c()(s,"promo"),l="Redeem coupon",u="Get a custom domain";return i&&(u+=" for free",l="Free with coupon"),r.a.createElement(n.Fragment,null,r.a.createElement(wr.SearchDomains,{config:Cr.a,title:this.state.partnerText||u,image:this.state.partnerImage?r.a.createElement("img",{src:this.state.partnerImage,alt:"",width:"240"}):"ill-spot-coupons",onRequestDomain:this.handlePurchase,trackAction:function(){mt.a.track.apply(mt.a,arguments)}},(function(t){var s=t.visibleDomains.length,c=t.allVisibleDomains.length,u=!t.isSearching&&c>0&&s===c;return r.a.createElement(n.Fragment,null,r.a.createElement(jr.a,Object.assign({name:i?"free-with-coupon-button":"redeem-coupon-button",buttonLabel:l,cartItems:o,onRemoveFromCart:a,hideCartFooter:!0,isCoupon:!0},t)),u&&r.a.createElement("div",{className:"m-t-36 flex center-xs"},r.a.createElement(v.Button,{label:"Show domains available without coupon",onClick:e.redirectToDomainSearch})))})),this.renderModal(),r.a.createElement(Ea.a,{type:"domain",onClose:function(){return e.setState({showLimitExceededModal:!1})},isOpen:this.state.showLimitExceededModal}))}}]),a}(n.PureComponent),xr=Object(s.g)(Object(w.b)((function(e){return{cart:e.cart,cartItems:Object.values(e.cart.items),lastCartItem:c()(Object.values(e.cart.items),"[".concat(Object.values(e.cart.items).length-1,"]")),isLogged:e.session.isLogged}}),(function(e){return{addToCart:function(t){var a=t.suggestion;return e(Object(ut.a)("domain",{fullName:a}))},applyCoupon:function(t,a){return e(Object(ut.e)(t,a))},removeFromCart:function(t){var a=t.suggestion;return e(Object(ut.f)("domain",{fullName:a}))},showError:function(t,a){return e(Object(W.a)(q.b,t,a))}}}))(Sr)),Lr=function(){return mt.a.track("new-domain-with-coupon-page-loaded",{location:window.location.href}),r.a.createElement("div",{className:"Page"},r.a.createElement(xr,null))},Tr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=c()(this.props.match,"params.id"),t=c()(this.props.match,"params.route");return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(Ue,{id:e,currentTabRoute:t})))}}]),a}(n.PureComponent),_r=a(357),Dr=(a(1357),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getDealName=function(e){var t=c()(e.cycle.recurrence,"unit"),a=c()(e.cycle.recurrence,"units");return"month"===t?a>1?"".concat(a," months"):"Monthly":"year"===t?"".concat(12*a," months"):void 0},e.formatRecurrence=function(e){var t=c()(e.cycle.recurrence,"unit"),a=c()(e.cycle.recurrence,"units");return"month"===t?a>1?"Paid every ".concat(a," months"):"Paid monthly":"year"===t?a>1?"Paid every ".concat(a," years"):"Paid yearly":void 0},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=c()(this.props.plan,"deals",[]),a=t.find((function(t){return t.id===e.props.dealId}))||t[0],o=!1!==c()(this.props.plan,"features.extra.money_back_days",0)&&30;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"Container--wide"},r.a.createElement("header",{className:"text-center"},r.a.createElement(v.Text,{size:"x-large",className:"Text-SemiHero"},"Rebrandly custom plan"),this.props.customText&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail m-t-8"},this.props.customText))),r.a.createElement("section",{className:"PlanProposalHeaderPlans flex center-xs text-center m-t-24 p-t-24 p-b-24"},r.a.createElement("div",{className:"PlanProposalHeaderPlans__content"},r.a.createElement(le.d,{defaultIndex:t.indexOf(a)},r.a.createElement(le.b,{className:"text-center react-tabs-secondary__tab-list"},t.map((function(t){return r.a.createElement(le.a,{key:t.id,className:"react-tabs-secondary__tab",selectedClassName:"react-tabs-secondary__tab--selected"},e.getDealName(t))}))),t.map((function(t){var a=e.props.hasExternalPayment?{label:"Continue",routerLink:{onClick:function(){return e.props.onExternalPayment(t)}}}:{label:"Checkout",routerLink:{to:"/checkout/plan/".concat(t.id)}};return r.a.createElement(le.c,{key:t.id},r.a.createElement("div",{className:"Text--HighlightDkBlue font-light flex middle-xs center-xs"},r.a.createElement("span",null,"$"),r.a.createElement(v.Text,{size:"x-large",className:"m-l-4"},Object(ct.formatNumber)(c()(t,"cycle.price.net",0)))),r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail"},e.formatRecurrence(t)),r.a.createElement(Ae.a,a.routerLink,r.a.createElement(v.Button,{theme:"checkout",label:a.label,className:"m-t-16",block:!0})),!!o&&r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-t-12"},o," ",Z()("day",+o)," money back guarantee"))}))))))}}]),a}(n.PureComponent)),Ar=(a(1358),["extra.money_back_days"]),Ir=function(e){var t=e.plan,a=e.hideFeatures,o=Object($e.f)(t).filter((function(e){return e.count.included>0})),s=Object(He.d)(t),i=t.description&&!T()(t.description);return r.a.createElement("div",{className:"Container--wide m-t-36"},r.a.createElement("div",{className:"PlanProposalBody flex-column "},i&&t.description&&r.a.createElement(v.Text,{className:"Text--SubTitle"},t.description),i&&!a&&r.a.createElement(v.Divider,{type:"subsection",className:"m-t-24 m-b-24"}),!a&&r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{className:"Text--SubDetail m-b-24"},"This offer includes:"),!T()(o)&&r.a.createElement("ul",{className:"PlanProposalBody__list"},o.map((function(e){var t={placement:"top",overlay:e.description(e.count.included)},a=Z()(e.label,e.count.included);return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"Text-Title flex"},r.a.createElement(v.Tooltip,t,r.a.createElement(v.Text,{className:"Text--UnderlineDash"},r.a.createElement("strong",null,Object(ct.formatNumber)(e.count.included))," ",e.suffix?"".concat(a," ").concat(e.suffix):a))),e.extra&&r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-t-4"},"Then $",e.extra.price.net,"/mo each ",e.extra.units>1&&Object(ct.formatNumber)(e.extra.units)))}))),!T()(o)&&!T()(s)&&r.a.createElement(v.Divider,{type:"subsection",className:"m-t-24 m-b-24"}),!T()(s)&&r.a.createElement("ul",{className:"PlanProposalBody__list PlanProposalBody__list--withBorder"},s.map((function(e){return e.selected&&!Ar.includes(e.key)&&r.a.createElement("li",{key:e.id},r.a.createElement(v.Tooltip,{overlay:e.description,placement:"top"},r.a.createElement("span",null,r.a.createElement(v.CheckListItem,{size:"xsmall",text:e.label,selected:!0}))))}))))))},Mr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,plan:null},e.handleExternalPayment=function(t){Object(b.K)().then((function(a){e.setState({cart:a}),Object(b.b)(a.id,{type:"plan",payload:{deal:t.id}}).then((function(t){Object(b.o)(t.id,null,e.props.token).then((function(){setTimeout((function(){e.props.loadUser()}),2e3),e.props.history.push({pathname:"success/custom-plan"})})).catch((function(){return e.props.createNotification(q.b,"An error occured")}))}))}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.id||this.props.history.push("error/not-found"),this.setState({isLoading:!0}),Object(b.bc)(this.props.id).then((function(t){return e.setState({plan:t})})).catch((function(){return e.props.history.push("error/not-found")})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){if(this.state.isLoading||!this.state.plan)return r.a.createElement(v.Loading,null);var e=u()(window.location.href,!0),t=c()(e,"query.txt"),a=c()(e,"query.deal");return r.a.createElement(n.Fragment,null,r.a.createElement(Dr,{plan:this.state.plan,dealId:a,customText:t,hasExternalPayment:!!this.props.token,onExternalPayment:this.handleExternalPayment}),r.a.createElement(Ir,{plan:this.state.plan,hideFeatures:"true"===this.props.textOnly}),r.a.createElement("div",{className:"m-t-36 overflow-hidden"},r.a.createElement(_r.a,{containerClassName:"Container--wide p-36",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-contact-white",size:"sm"}),title:r.a.createElement(v.Text,{size:"large",className:"Text--Negative font-light m-b-4"},"Have a question?"),subtitle:r.a.createElement(v.Text,{size:"small",className:"Text--Negative m-b-16 Text--Transparent"},"We\u2019re here to help, get in touch today!"),buttons:r.a.createElement(Ae.a,{to:{pathname:"/contact-us",search:"ref=Logged-Btn-CustomPage-ContactUs",state:{modal:!0}}},r.a.createElement(v.Button,{label:"Contact us",theme:"blankInverted",block:!0})),vertical:!0})))}}]),a}(n.PureComponent),Rr=Object(s.g)(Object(w.b)(null,(function(e){return{loadUser:function(){return e(Object(Ht.l)())},createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))}}}))(Mr)),Pr=function(e){var t=e.location,a=new u.a(t.pathname+t.search,!0);return r.a.createElement("div",{className:"Page m-b-0"},r.a.createElement(Rr,{id:a.query.plan,textOnly:a.query.textOnly,token:a.query.token}))},zr=(a(683),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isMobile:null},e.setScreenSize=function(){return e.setState({isMobile:document.body.clientWidth<oa.d.medium.max})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.setScreenSize(),window.addEventListener("resize",this.setScreenSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenSize)}},{key:"renderDeleteAction",value:function(e){var t=this,a=e.id,n=e.fullName,o=e.role,s=this.props.canDeleteTeammates&&a!==this.props.accountId;return a===this.props.accountId?o===H.b?r.a.createElement(xe.c,{iconName:"ic-exit",disabled:!0,tooltip:{overlay:"You can\u2019t leave a workspace you own",placement:"top"}}):r.a.createElement(xe.c,{iconName:"ic-exit",tooltip:{overlay:"Leave workspace",placement:"top"},onDelete:function(){return t.props.onLeave(t.props.workspace.id)}}):s&&o!==H.b?r.a.createElement(xe.c,{tooltip:{overlay:"Remove teammate",placement:"top"},iconName:"ic-trash-bin",confirmableProps:{icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Remove teammate?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,n)," means that he or she will no longer have access to this workspace and won\u2019t be able to create any new links within it. Are you sure you want to proceed?"),primaryButtonProps:{label:"Remove",theme:"delete"},secondaryButtonProps:{label:"Cancel"}},onDelete:function(){return t.props.onRemove(a)}}):r.a.createElement(xe.c,{iconName:"ic-trash-bin",disabled:!0,tooltip:{overlay:r.a.createElement("span",null,"You are not allowed to remove teammates",r.a.createElement("br",null),"from this workspace. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394"},"Learn more")),placement:"left"}})}},{key:"renderDeleteOption",value:function(e){var t=this,a=e.id,n=e.fullName,o=e.role,s=this.props.canDeleteTeammates&&a!==this.props.accountId,i={icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Remove teammate?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,n)," will result in them losing access to this workspace and all of its associated links. Are you sure you want to remove this teammate?"),primaryButtonProps:{label:"Remove",theme:"delete"},secondaryButtonProps:{label:"Cancel"}};return a===this.props.accountId?o===H.b?r.a.createElement(v.Button,{label:"Remove teammate",theme:"ghost",disabled:!0,icon:{name:"ic-trash-bin",position:"left"}}):r.a.createElement(v.Button,{label:"Leave workspace",theme:"ghost",onClick:function(){return t.props.onLeave(t.props.workspace.id)},icon:{name:"ic-exit",color:"var(--color-grey-400)",position:"left"}}):s&&o!==H.b?r.a.createElement(De.a,i,r.a.createElement(v.Button,{label:"Remove teammate",theme:"ghost",onClick:function(){return t.props.onRemove(a)},icon:{name:"ic-trash-bin",color:"var(--color-grey-400)",position:"left"}})):r.a.createElement(v.Button,{label:"Remove teammate",theme:"ghost",disabled:!0,icon:{name:"ic-trash-bin",position:"left"}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.accountId,n=t.canEditTeammate,o=t.teammates,s=t.onChangeTeammateRole,i=t.getRole,c=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],l=i(a),u={};return Ve.h&&c&&(u={paddingTop:c.getBoundingClientRect().height}),r.a.createElement(Se.a,null,!Ve.h&&!Ve.g&&r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-6"},"Name"),r.a.createElement(Se.b,{className:"col-xs-4"},"Email"),r.a.createElement(Se.b,{className:"col-xs-1"},"Role"),r.a.createElement(Se.b,{className:"col-xs-1"})),r.a.createElement(Se.f,{style:u},o.filter((function(e){return e.id!==a})).map((function(t){var o=t.id,c=t.fullName,u=t.email,m=t.avatarUrl,p=n(t),d=i(t.id),h={tooltip:{overlay:"Change role",placement:"top"},options:Object.values(H.c).filter((function(e){return e.value!==H.b})),onChange:function(e){return s(o,e)},currentRole:d};return p||(h={tooltip:{overlay:r.a.createElement("span",null,"You are not allowed to change teammates",r.a.createElement("br",null),"role in this workspace. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394",target:"_blank"},"Learn more")),placement:"left"},disabled:!0},d===H.b&&(h=Object(F.a)(Object(F.a)({},h),{},{tooltip:{overlay:r.a.createElement("span",null,"You are not allowed to change",r.a.createElement("br",null),"owner role. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360008399394",target:"_blank"},"Learn more")),placement:"left"}}))),e.state.isMobile&&(h=Object(F.a)(Object(F.a)({},h),{},{trigger:r.a.createElement(v.Button,{label:"Change role",theme:"ghost",disabled:!n(t),icon:{name:"ic-edit",color:n(t)&&"var(--color-grey-400)",position:"left"}})})),r.a.createElement(Se.e,{key:o,className:"TeammatesItem Container--wide"},r.a.createElement(Se.c,{className:"col-xs-12 col-md-6"},r.a.createElement(v.Dropdown,{disabled:!e.state.isMobile},r.a.createElement(v.Trigger,{disabled:l!==H.b},r.a.createElement("div",{className:"flex middle-xs",onClick:function(){return l===H.b&&e.props.onRouteChange("/teammates/".concat(o))}},r.a.createElement(v.Avatar,{img:m,size:"large"}),r.a.createElement(v.Text,{className:"Text--SubTitle m-l-16"},c),o===a&&r.a.createElement("div",{className:"m-l-8"},r.a.createElement(v.Tag,{color:"purple",size:"sm",label:"You"})))),r.a.createElement(v.Content,{className:"TeammatesItem__actions--dropdown"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(xe.a,h)),r.a.createElement("li",null,e.renderDeleteOption(t)))))),r.a.createElement(Se.c,{className:"TeammatesItem__details col-xs-12 col-md-4"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail",singleLine:!0},u)),r.a.createElement(Se.c,{className:"TeammatesItem__details col-xs-12 col-md-1"},r.a.createElement(v.Tag,{className:"TeammatesItem__role",color:"#eaf6ff",label:H.c[d]&&H.c[d].label,size:"sm"})),r.a.createElement(Se.c,{className:"display-none display-md-block col-md-1"},r.a.createElement("div",{className:"TeammatesItem__actions flex middle-xs end-xs"},r.a.createElement(xe.a,h),e.renderDeleteAction(t))))}))))}}]),a}(n.PureComponent)),Fr=a(180),Ur=(a(1359),function(e){var t=e.label,a=e.pathname;return r.a.createElement("nav",null,r.a.createElement(Ae.a,{size:"x-lg",to:a,className:"BackNav__link"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Icon,{name:"ic-arrow-back",className:"m-r-8"})," ",t)))}),Br=a(93),Wr=[{label:"Active",value:"teammates"},{label:"Invited",value:"invites"}],Gr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,showSearchOnMobile:!1,allResourcesLoaded:!1},e.debouncedloadMembers=za()(e.loadMembers,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedloadMembers())},e.changeFilter=function(t){var a=t.value;return e.props.history.push("/workspaces/".concat(e.props.id,"/").concat(a))},e.handleLeave=function(t){var a=c()(e.props.workspace,"name");e.props.leave(t).then((function(){e.props.history.push("/workspaces"),a&&e.props.showNotification(q.f,"You just left ".concat(a," workspace"))})).catch((function(t){throw e.props.showNotification(q.b,"Error while leaving workspace"),t}))},e.handleInviteClick=function(){return e.props.history.push({pathname:"/workspaces/".concat(e.props.id,"/invite"),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.getTermFromQueryString();t&&this.props.setParams({term:t}),this.props.loadWorkspace().catch((function(){return e.props.history.push("/error/workspaces-not-available")})),this.loadMembers()}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadMembers",value:function(e){var t=this;return e||(this.props.resetInviteList(),this.props.resetList()),this.setState({isLoading:!0}),Promise.all([this.props.countInvites(),this.props.load(e)]).then((function(e){return t.setState({allResourcesLoaded:T()(e[1].value)})})).catch((function(){})).finally((function(){return t.setState({isLoading:!1})}))}},{key:"renderEmptyState",value:function(){var e=this;return this.props.params.term?r.a.createElement(Kt.o,{onClick:function(){return e.handleSearchChange()}}):r.a.createElement(Kt.j,{workspaceId:this.props.workspace.id,hasInvites:this.props.hasInvites})}},{key:"render",value:function(){var e=this,t=this.props.workspace.teammates-1,a=0===t&&!this.state.isLoading,o=this.props.hasInvites||t>0,s=t>0,i=o||s,l=t>15||this.props.params.term;return r.a.createElement(n.Fragment,null,r.a.createElement(Un.b,null,r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Ur,{label:r.a.createElement(v.Tooltip,{overlay:c()(this.props.workspace,"name")},r.a.createElement(v.Text,{singleLine:!0,style:{maxWidth:"400px"}},c()(this.props.workspace,"name"))),pathname:"/workspaces"})),(s||o||l)&&r.a.createElement(Un.a,null,s&&r.a.createElement(v.Text,{className:"Toolbar_text Text--Detail"},r.a.createElement("span",null,t," ",Z()("Teammate",t))),o&&r.a.createElement("div",{className:"m-l-12"},r.a.createElement(Fn.a,{"rb-test-id":"teammates-and-invites-filter",options:Wr,value:Wr.find((function(e){return"teammates"===e.value})),onChange:this.changeFilter,iconName:"ic-sort"})),l&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-none display-sm-block"},r.a.createElement(zn.a,{placeholder:"Search teammates...",search:this.props.params.term,onSearch:this.handleSearchChange})),r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.setState({showSearchOnMobile:!0})},icon:{name:"ic-search"}})))),!Ve.h&&i&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(Fr.a,{workspaceId:this.props.id},r.a.createElement(v.Button,{theme:"primary",label:"Invite teammates",onClick:this.handleInviteClick}))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{icon:"ic-search",type:"search",value:this.props.params.term,placeholder:"Search teammates...",onChange:this.handleSearchChange,onClose:function(){e.setState({showSearchOnMobile:!1}),e.handleSearchChange()},showClose:!0,autoFocus:!0}))),a?this.renderEmptyState():r.a.createElement(n.Fragment,null,r.a.createElement(zr,{getRole:this.props.getRole,onRouteChange:this.props.history.push,t:!0,workspace:this.props.workspace,accountId:this.props.account.id,teammates:this.props.teammates,onRemove:function(t){return e.props.remove(t)},onLeave:function(t){return e.handleLeave(t)},onChangeTeammateRole:function(t,a){return e.props.setRole(t,a)},canDeleteTeammates:this.props.canDeleteTeammates,canEditTeammate:this.props.canEditTeammate}),r.a.createElement(cr.a,{key:this.props.teammates.length.toString(),isLoading:this.state.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.loadMembers(c()(Ra()(e.props.teammates),"id"))},infinite:!0})),Ve.h&&r.a.createElement(Fr.a,{workspaceId:this.props.id},r.a.createElement(v.Button,{className:"Button--floating",type:"action",theme:"primary",size:"md",onClick:this.handleInviteClick,shadow:!0},r.a.createElement(v.Icon,{name:"ic-people-add"}))))}}]),a}(n.PureComponent),Hr=Object(s.g)(Object(w.b)((function(e,t){var a=e.teammates,n=a.params,r=a.list,o=a.items;return{workspace:c()(e.workspaces.items,"[".concat(t.id,"]"),{}),account:e.account,teammates:r.map((function(e){return o[e]})),params:n,hasInvites:e.invites.count.total>0,canDeleteTeammates:Object(H.d)(e,t.id,"delete","workspaces.teammates"),canEditTeammate:function(a){return Object(H.d)(e,t.id,"edit","workspaces.teammates",a)},getRole:function(a){return Object(H.e)(a,t.id,e)}}}),(function(e,t){return{load:function(a){return e(Object($.i)(t.id,a))},loadWorkspace:function(){return e(Object(Gt.o)(t.id))},countInvites:function(){return e(Object(G.b)(t.id))},resetList:function(){return e(Object($.p)())},resetInviteList:function(){return e(Object(G.i)())},setParams:function(t){return e(Object($.s)(t))},remove:function(a){return e(Object($.g)(t.id,a)).then((function(){return e(Object(W.a)(q.a,"Teammate removed"))}))},setRole:function(a,n){return e(Object(Br.d)(t.id,a,n))},leave:function(t){return e(Object(Gt.n)(t))},showNotification:function(t,a){return e(Object(W.a)(t,a))}}}))(Gr)),qr=function(e){var t=e.match;return r.a.createElement(Hr,{id:t.params.id})},Vr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).renderComponent=function(){return r.a.cloneElement(e.props.children,{})},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Selector,{triggerSize:"large",options:ye,value:this.props.selectedElements,renderTrigger:this.renderComponent,onChange:this.props.onChange,multi:!0})}}]),a}(n.PureComponent),Yr=[Pe.a["route.tags"],Pe.a["route.domain.id"],Pe.a["route.creator.id"],Pe.a["client.location.country"],Pe.a["client.session.first"],Pe.a["client.agent.type"],Pe.a["route.destination.hostname"],Pe.a["route.destination.params.query.utm_source"],Pe.a["route.destination.params.query.utm_medium"],Pe.a["route.destination.params.query.utm_campaign"],Pe.a["route.destination.params.query.utm_term"],Pe.a["route.destination.params.query.utm_content"]],Kr={or:[]},Jr=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isProcessing:!1,name:"",condition:Kr,subscriptions:[],message:"",showReportInfo:!1,prevSubscriptions:{message:"",subscribers:[]},recurrence:{},schedule:{active:!0,nextExecutionTimestamp:fe()().format("YYYY-MM-DD")},groupings:[],showFiltersModal:!1},e.generatePayload=function(){var t={name:e.state.name,query:{}};return Object.values(e.state.condition).length&&(t.query.conditions=e.state.condition),e.state.subscriptions.length&&(t.subscriptions=[{type:"email",subscribers:e.state.subscriptions}],e.state.message.length>3&&(t.subscriptions[0]=Object(F.a)(Object(F.a)({},t.subscriptions[0]),{},{message:e.state.message}))),e.state.groupings.length&&(t.query.groupings=e.state.groupings),t},e.handleScheduleChange=function(t){return new Promise((function(a){e.setState({schedule:Object(F.a)(Object(F.a)({},e.state.schedule),t)},(function(){return a()}))}))},e.changeName=function(t){return e.setState({name:t})},e.changeMainCondition=function(t){return e.setState({mainCondition:"and"===t?"and":"or"})},e.handleMessageChange=function(t){return e.setState({message:t})},e.handleSubscriptionsUpdate=function(t){return e.setState({subscriptions:t})},e.handleDoneSubscriptions=function(){return e.setState({prevSubscriptions:{message:e.state.message,subscribers:e.state.subscriptions}})},e.handleClose=function(){return e.setState({message:e.state.prevSubscriptions.message,subscriptions:e.state.prevSubscriptions.subscribers})},e.disableShareSubmit=function(){return ce()(e.state.subscriptions,e.state.prevSubscriptions.subscribers)&&e.state.message===e.state.prevSubscriptions.message},e.isValid=function(){return(ce()(e.state.condition,Kr)||!Object(Pe.g)(e.state.condition))&&e.state.name.length>=3},e.handleOpenFilters=function(){return e.setState({showFiltersModal:!0})},e.handleCloseFilters=function(){e.setState({showFiltersModal:!1,condition:Kr})},e.onSubmit=function(){if(!e.isValid())return!1;e.setState({isProcessing:!0}),e.props.createTemplate(e.generatePayload()).then((function(t){var a=t.value;e.props.attachSchedule(a.id,e.state.schedule).then((function(){e.setState({isProcessing:!1}),e.props.createNotification(q.a,"Custom report created"),e.props.history.push("/reports/custom"),e.props.history.push({pathname:"/reports/custom/".concat(a.id,"/settings"),state:{modal:!0}})})).catch((function(){e.setState({isProcessing:!1}),e.props.createNotification(q.b,"Error creating the schedule"),e.props.history.push({pathname:"/reports/custom/".concat(a.id),state:{modal:!0}})}))})).catch((function(){e.props.createNotification(q.b,"Error creating the template"),e.setState({isProcessing:!1})}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=fe.a.tz.guess();this.handleScheduleChange({timespan:ke[2].value,timezone:e})}},{key:"render",value:function(){var e=this,t=Yr.filter((function(t){return!Object(Pe.h)(e.state.condition,t.property)})),a=Object.keys(this.state.condition)[0],o=this.state.condition[a].length>=10,s=Object.values(this.state.condition)[0].length;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"Container--narrow"},r.a.createElement("div",{className:"m-b-36"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Text,{size:"large",singleLine:!0,className:"Text-Title"},"Set up a new custom report"," ",r.a.createElement(v.Tooltip,{overlay:"Select which types of click data should be available in this custom report. Only links that received clicks in the selected timeframe will appear in the report."},r.a.createElement(v.Icon,{name:"ic-information",size:"xsmall",color:"#c7c9cb"}))))),r.a.createElement("div",{className:"Form__group"},r.a.createElement(v.Label,{value:"Report name",size:"lg"},r.a.createElement(v.Input,{"rb-test-id":"new-report-template-name",name:"name",placeholder:"eg. My report name",autoFocus:!0,onChange:this.changeName,value:this.state.name}))),r.a.createElement("div",{className:"m-t-16"}),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-eye",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Data set"),r.a.createElement(v.Tooltip,{overlay:"Determine which metrics should be included in this report.\nThese can\u2019t be changed at a later date"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(Ua.a,{resource:"column",placeholder:"Select data set",showMoreAfter:3,controller:r.a.createElement(Vr,{canAddMore:!0}),selectedElements:this.state.groupings.map((function(e){return ye.find((function(t){return t.value===e}))})),canEdit:!0,onChange:function(t){return e.setState({groupings:t.map((function(e){return e.value}))})}}))),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-filter",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Data filters"),r.a.createElement(v.Tooltip,{overlay:"Refine the data set based on specific filters"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(v.Button,{theme:"select",label:s>0?"".concat(s," ").concat(Z()("filter",s)):"Select filters",onClick:this.handleOpenFilters}))),r.a.createElement(Ne,{schedule:this.state.schedule,onTimeframeChange:function(t){var a=t.nextExecutionTimestamp,n=t.timespan;return e.handleScheduleChange({nextExecutionTimestamp:a,timespan:n})},onTimezoneChange:function(t){return e.handleScheduleChange({timezone:t})},onRecurrenceChange:function(t){var a=null;t&&(a={period:t}),e.handleScheduleChange({recurrence:a})},canEditCustomReports:!0}),r.a.createElement("div",{className:"GridRow"},r.a.createElement(v.Icon,{name:"ic-mail",size:"xsmall",color:"#c7c9cb"}),r.a.createElement("div",{className:"OptionRow__body m-l-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Share with"),r.a.createElement(v.Tooltip,{overlay:"Send a public link for this report to up to 50 different emails"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-r-8",size:"xsmall",color:"#c7c9cb"})),r.a.createElement(me,{subscriptions:this.state.subscriptions,onUpdate:this.handleSubscriptionsUpdate,onDone:this.handleDoneSubscriptions,onClose:this.handleClose,onMessageChange:this.handleMessageChange,message:this.state.message,disabled:this.disableShareSubmit()}))),r.a.createElement("div",{className:"row m-t-16"},r.a.createElement("div",{className:"col-xs-6 col-xs-offset-6"},r.a.createElement(v.Button,{"rb-test-id":"new-report-template-create-button",label:"Save report",theme:"primary",size:"lg",disabled:this.state.isProcessing||!this.isValid(),isLoading:this.state.isProcessing,block:!0,onClick:function(){return e.setState({showReportInfo:!0})}})))),r.a.createElement(he.a,{className:"ignore-react-onclickoutside",isOpen:this.state.showReportInfo,icon:{name:"ic-information",color:"#2281c2",size:"md"},message:r.a.createElement("span",null,"Creating a custom report will take more than 10 mins regardless of the size. Only links that received clicks in the selected timeframe will appear in the report."),primaryButtonProps:{label:"Ok, got it",onClick:function(){e.setState({showReportInfo:!1}),e.onSubmit()},isLoading:this.state.isProcessing}}),r.a.createElement("div",{className:"m-t-48"},r.a.createElement(_r.a,{containerClassName:"Container--narrow p-36",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-sliders-white",size:"sm"}),title:r.a.createElement(v.Text,{size:"large",className:"Text--Negative font-light m-b-4"},"Need help with your custom report?"),subtitle:r.a.createElement(v.Text,{size:"small",className:"Text--Negative m-b-16 Text--Transparent"},"Don\u2019t hesitate to contact us, we\u2019re here to assist!"),buttons:r.a.createElement(v.A,{target:"_blank",href:"https://rebrandly.support/contact",rel:"noopener noreferrer"},r.a.createElement(v.Button,{label:"Contact support",theme:"blankInverted",block:!0}))})),r.a.createElement(v.Modal,{size:"md",isOpen:this.state.showFiltersModal,onClose:this.handleCloseFilters,showClose:!0},r.a.createElement(v.ModalHeader,null,r.a.createElement(v.Text,{className:"Text--SubTitle"},"Select one or more data filters")),r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"m-t-16"},r.a.createElement(pe.a,{condition:Object(Pe.c)(this.state.condition),canAddMore:!0,canEdit:!0,onChange:function(t){return e.setState({condition:t})}}),r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"You can add up to 10 filter on each",r.a.createElement("br",null),"link, please remove one to continue."),display:o},r.a.createElement("span",null,r.a.createElement(Ga.a,{label:"Add a filter",items:t.map((function(t){return{label:Object(ct.capitalize)(t.label),visible:!0,onClick:function(){var n={property:t.property,operator:t.operators[0].value,values:null},r=e.state.condition[a];e.setState({condition:Object($t.a)({},a,[].concat(Object(U.a)(r),[n]))})}}})),disabled:o}))))),r.a.createElement(v.ModalFooter,null,r.a.createElement("div",{className:"Button__list"},r.a.createElement(v.Button,{label:"Done",theme:"primary",onClick:function(){return e.setState({showFiltersModal:!1})}})))))}}]),a}(n.PureComponent),Qr=Object(s.g)(Object(w.b)(null,(function(e){return{createTemplate:function(t){return e(Object(Me.b)(t))},attachSchedule:function(t,a){return e(Object(Me.a)(t,a))},createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))}}}))(Jr)),Xr=function(){return r.a.createElement("div",{className:"Page"},r.a.createElement(Qr,null))},Zr=(a(1360),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isMobile:null},e.setScreenSize=function(){return e.setState({isMobile:document.body.clientWidth<oa.d.medium.max})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.setScreenSize(),window.addEventListener("resize",this.setScreenSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenSize)}},{key:"renderDeleteAction",value:function(e){var t=this,a=e.id,n=e.fullName;e.role;return r.a.createElement(xe.c,{tooltip:{overlay:"Remove teammate",placement:"top"},iconName:"ic-exit",confirmableProps:{icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Remove teammate?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,n)," means that he or she will no longer have access to the assigned workspace(s) and won\u2019t be able to create any new links within it. Are you sure you want to proceed?"),primaryButtonProps:{label:"Remove",theme:"delete"},secondaryButtonProps:{label:"Cancel"}},onDelete:function(){return t.props.onRemove(a)}})}},{key:"renderDeleteOption",value:function(e){e.id;var t=e.fullName,a=(e.role,{icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Remove teammate?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,t)," will result in them losing access to the assigned workspace(s) and all of its associated links. Are you sure you want to remove this teammate?"),primaryButtonProps:{label:"Remove",theme:"delete"},secondaryButtonProps:{label:"Cancel"}});return r.a.createElement(De.a,a,r.a.createElement(v.Button,{label:"Remove teammate",theme:"ghost",disabled:!0,icon:{name:"ic-trash-bin",position:"left"}}))}},{key:"handleRouteChange",value:function(e){this.props.onTeammateReset(),this.props.onRouteChange("/teammates/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.account.id,n=t.teammates,o=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],s={};return Ve.h&&o&&(s={paddingTop:o.getBoundingClientRect().height}),r.a.createElement(Se.a,null,!Ve.h&&!Ve.g&&r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-6"},"Name"),r.a.createElement(Se.b,{className:"col-xs-4"},"Email"),r.a.createElement(Se.b,{className:"col-xs-1 text-right"},"Workspaces"),r.a.createElement(Se.b,{className:"col-xs-1"})),r.a.createElement(Se.f,{style:s},n.filter((function(e){return e.id!==a})).map((function(t){var a=t.id,n=t.fullName,o=t.email,s=t.avatarUrl,i=t.workspaces;return r.a.createElement(Se.e,{key:a,className:"TeammatesItem Container--wide"},r.a.createElement(Se.c,{className:"col-xs-12 col-md-6"},r.a.createElement(v.Dropdown,{disabled:!e.state.isMobile},r.a.createElement(v.Trigger,null,r.a.createElement("div",{className:"flex middle-xs",onClick:function(){return e.handleRouteChange(a)}},r.a.createElement(v.Avatar,{img:s,size:"large"}),r.a.createElement(v.Text,{className:"Text--SubTitle m-l-16"},n))),r.a.createElement(v.Content,{className:"TeammatesItem__actions--dropdown"},r.a.createElement("ul",null,r.a.createElement("li",null,e.renderDeleteOption(t)))))),r.a.createElement(Se.c,{className:"TeammatesItem__details col-xs-12 col-md-4"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail",singleLine:!0},o)),r.a.createElement(Se.c,{className:"TeammatesItem__details col-xs-12 col-md-1 text-right"},r.a.createElement(v.A,{onClick:function(){return e.handleRouteChange(a)}},r.a.createElement(v.Text,{size:"small"},i))),r.a.createElement(Se.c,{className:"display-none display-md-block col-md-1"},r.a.createElement("div",{className:"TeammatesItem__actions flex middle-xs end-xs"},e.renderDeleteAction(t))))}))))}}]),a}(n.PureComponent));Zr.defaultProps={onTeammateReset:function(){}};var $r=Zr,eo=a(684),to=a(223),ao=[{label:"Active",value:""},{label:"Invited",value:"invites"}],no=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,showSearchOnMobile:!1,allResourcesLoaded:!1,isMounted:!1},e.debouncedLoadTeammates=za()(e.loadTeammates,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadTeammates())},e.changeFilter=function(t){var a=t.value;return e.props.history.push("/teammates/".concat(a))},e.handleLeave=function(t){var a=c()(e.props.workspace,"name");e.props.leave(t).then((function(){e.props.history.push("/workspaces"),a&&e.props.showNotification(q.f,"You just left ".concat(a," workspace"))})).catch((function(t){throw e.props.showNotification(q.b,"Error while leaving workspace"),t}))},e.handleInviteClick=function(){e.props.history.push({pathname:"/teammates/invite",state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.getTermFromQueryString();t&&this.props.setParams({term:t}),this.props.countWorkspaces(),this.loadTeammates().then((function(){return e.setState({isMounted:!0})}))}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadTeammates",value:function(e){var t=this;return e||this.props.resetList(),this.setState({isLoading:!0}),Promise.all([this.props.countAllInvites(),this.props.load(e),this.props.countTeammates()]).then((function(e){t.setState({hasInvites:e[0].value.count>0,allResourcesLoaded:T()(e[1].value),teammatesCount:e[2].value[0].count})})).catch((function(){})).finally((function(){return t.setState({isLoading:!1})}))}},{key:"renderEmptyState",value:function(){var e=this;return Object(qe.hasFeature)("collaboration.teammates",c()(this.props.account,"subscription.features"))?this.props.params.term?r.a.createElement(Kt.o,{onClick:function(){return e.handleSearchChange()}}):r.a.createElement(Kt.s,{hasInvites:this.state.hasInvites}):r.a.createElement(Kt.s,{upgrade:!0})}},{key:"render",value:function(){var e=this,t=this.state.teammatesCount,a=0===t&&!this.state.isLoading,o=this.state.isMounted&&(this.state.hasInvites||t>=1),s=o,i=t>3||this.props.params.term;return r.a.createElement(n.Fragment,null,r.a.createElement(Un.b,null,r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(eo.a,{history:this.props.history,activeTab:"teammates",workspacesCount:this.props.workspacesCount,teammatesCount:t}),o&&r.a.createElement("div",{className:"m-l-12"},r.a.createElement(Fn.a,{"rb-test-id":"teammates-and-invites-filter",options:ao,value:ao.find((function(e){return""===e.value})),onChange:this.changeFilter,iconName:"ic-sort"})),i&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-none display-sm-block m-l-12"},r.a.createElement(zn.a,{placeholder:"Search teammates...",search:this.props.params.term,onSearch:this.handleSearchChange})),r.a.createElement("div",{className:"display-block display-sm-none m-l-12"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.setState({showSearchOnMobile:!0})},icon:{name:"ic-search"}})))),!Ve.h&&s&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(to.a,null,r.a.createElement(v.Button,{theme:"primary",label:"Invite teammates",onClick:this.handleInviteClick}))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{icon:"ic-search",type:"search",value:this.props.params.term,placeholder:"Search teammates...",onChange:this.handleSearchChange,onClose:function(){e.setState({showSearchOnMobile:!1}),e.handleSearchChange()},showClose:!0,autoFocus:!0}))),a?this.renderEmptyState():r.a.createElement(n.Fragment,null,r.a.createElement($r,{workspace:this.props.workspace,account:this.props.account,teammates:this.props.teammates,onRemove:function(t){return e.props.remove(t)},onLeave:function(t){return e.handleLeave(t)},onChangeTeammateRole:function(t,a){return e.props.setRole(t,a)},canEditTeammate:this.props.canEditTeammate,onTeammateReset:this.props.resetTeammateList,onRouteChange:this.props.history.push}),r.a.createElement(cr.a,{key:this.props.teammates.length.toString(),isLoading:this.state.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.loadTeammates(c()(Ra()(e.props.teammates),"id"))},infinite:!0})),Ve.h&&r.a.createElement(to.a,null,r.a.createElement(v.Button,{className:"Button--floating",type:"action",theme:"primary",size:"md",onClick:this.handleInviteClick,shadow:!0},r.a.createElement(v.Icon,{name:"ic-people-add"}))))}}]),a}(n.PureComponent),ro=Object(s.g)(Object(w.b)((function(e,t){var a=e.teammates,n=a.params,r=a.list,o=a.items,s=a.count,i=a.isLoading,c=e.account.id;return{workspacesCount:e.workspaces.count.results,account:e.account,teammates:r.map((function(e){return o[e]})),isLoadingSections:s.isLoading||e.workspaces.isLoading||i,params:n,count:s,canEditTeammate:function(t){return Object(H.d)(e,c,"edit","workspaces.teammates",t)}}}),(function(e,t){return{load:function(t){return e(Object($.l)(t))},countWorkspaces:function(){return e(Object(Gt.g)(t.id))},countAllInvites:function(){return e(Object(G.a)())},countTeammates:function(){return e(Object($.d)())},resetList:function(){return e(Object($.p)())},resetTeammateList:function(){return e(Object($.o)())},setParams:function(t){return e(Object($.s)(t))},remove:function(t){return e(Object($.m)(t)).then((function(){return e(Object(W.a)(q.a,"Teammate removed"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while removing teammate")),t}))},setRole:function(a,n){return e(Object(Br.d)(t.id,a,n))},leave:function(t){return e(Object(Gt.n)(t))},showNotification:function(t,a){return e(Object(W.a)(t,a))}}}))(no)),oo=function(e){var t=e.match;return r.a.createElement(ro,{id:t.params.id})},so=function(e){var t=e.first,a=e.last,o=e.email,s=e.isLogged;return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-rebrandly"}),title:r.a.createElement("span",null,"Thank you, your contact data has been verified by the ICANN authority"),maxWidth:!0,message:t&&a&&r.a.createElement(Se.a,null,r.a.createElement(Se.f,null,r.a.createElement(Se.e,{className:"Container--wide"},r.a.createElement(Se.c,{className:"col-xs-6 text-left"},r.a.createElement(v.Text,{className:"m-l-8"},"First name")),r.a.createElement(Se.c,{className:"col-xs-6 text-left"},r.a.createElement(v.Text,null,t))),r.a.createElement(Se.e,{className:"Container--wide"},r.a.createElement(Se.c,{className:"col-xs-6 text-left"},r.a.createElement(v.Text,{className:"m-l-8"},"Last name")),r.a.createElement(Se.c,{className:"col-xs-6 text-left"},r.a.createElement(v.Text,null,a))),r.a.createElement(Se.e,{className:"Container--wide"},r.a.createElement(Se.c,{className:"col-xs-6 text-left"},r.a.createElement(v.Text,{className:"m-l-8"},"Email")),r.a.createElement(Se.c,{className:"col-xs-6 text-left linebreak"},r.a.createElement(v.Text,null,o))))),button:s?r.a.createElement(Ae.a,{to:"/links"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Go to dashboard"})):r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"https://rebrandly.com"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Visit Rebrandly"})),r.a.createElement(v.Text,{size:"small",className:"ApprovedPage__subtitle m-t-24"},"Or ",r.a.createElement(v.A,{onClick:zt.b.redirectToLogin,size:"lg"},"Login to your account")))})},io=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"getFullName",value:function(){var e=c()(this.props.queryParameters,"first",""),t=c()(this.props.queryParameters,"last","");return e+(t&&" ".concat(t))}},{key:"render",value:function(){var e=this.props,t=e.queryParameters,a=e.isLogged,n=this.getFullName(),o=c()(t,"email");return r.a.createElement(so,{first:c()(this.props.queryParameters,"first",""),last:c()(this.props.queryParameters,"last",""),fullName:n,email:o,isLogged:a})}}]),a}(n.PureComponent),co=Object(w.b)((function(e){return{isLogged:e.session.isLogged}}))(io),lo=function(){var e=c()(u()(window.location.href,!0),"query");return r.a.createElement(co,{queryParameters:e})},uo=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(J,{id:t.params.id}))},mo=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){return e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.callback(e.state.value)},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.props.isOpen,onClose:this.props.close,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("div",{className:"Form__group"},r.a.createElement(v.Label,{value:this.props.input.label,size:"lg"},r.a.createElement(v.Input,{name:"value",value:this.state.value,placeholder:this.props.input.placeholder,required:!0}))),r.a.createElement("div",{className:"Button__list Form__group--submit"},r.a.createElement(v.Button,{label:"Cancel",size:"lg",onClick:this.props.close}),r.a.createElement(v.Button,{label:"Connect",type:"submit",theme:"primary",size:"lg",disabled:!this.state.value})))))}}]),a}(n.PureComponent),po=a(726),ho=a.n(po),bo=(a(1373),function(e){var t=e.app,a=e.isLoading,n=c()(t,"title"),o=ho()(c()(t,"details.description",""));return r.a.createElement(v.Card,null,r.a.createElement(v.CardBody,{style:{backgroundColor:"var(--color-grey-25)"},className:"AppCardBody p-36 Card__Body--vertical"},a&&r.a.createElement("div",{className:"AppCardBody__Loading"},r.a.createElement(v.Loading,{size:"lg"})),n&&r.a.createElement(v.Text,{size:"large",className:"m-b-12"},n),o&&r.a.createElement(v.Text,{size:"small"},o)))}),fo=(a(1374),function(e){var t=e.src;return r.a.createElement("div",{className:"content-holder"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"body"},r.a.createElement("video",{name:"media",controls:!0},r.a.createElement("source",{src:t,type:"video/mp4"})))))}),go=function(e){var t=e.src;return r.a.createElement("div",{className:"content-holder"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"body"},r.a.createElement("img",{src:t,alt:"click to open Lightbox"}))))},vo=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this)).state={photoIndex:e.mainSrc,open:!1},n}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&this.setState({open:!this.state.open})}},{key:"close",value:function(){this.setState({open:!1}),this.props.onCloseRequest()}},{key:"render",value:function(){var e=this;return this.props.open?r.a.createElement("div",{className:"iframe-lightbox"},r.a.createElement("div",{className:"backdrop"}),r.a.createElement("div",{className:"iframe-lightbox-spinner"}),r.a.createElement("div",{className:"iframe-lightbox-control iframe-lightbox-close",onClick:function(){return e.close()}}),r.a.createElement("div",{className:"iframe-lightbox-control iframe-lightbox-right",onClick:function(){return e.setState({photoIndex:(e.state.photoIndex+1)%e.props.elements.length})}}),r.a.createElement("div",{className:"iframe-lightbox-control iframe-lightbox-left",onClick:function(){return e.setState({photoIndex:(e.state.photoIndex+e.props.elements.length-1)%e.props.elements.length})}}),r.a.createElement("div",{className:"iframe-content"},this.props.video?r.a.createElement(fo,{src:this.props.elements[this.state.photoIndex]}):r.a.createElement(go,{src:this.props.elements[this.state.photoIndex]})),r.a.createElement("div",{className:"iframe-strip"},this.props.elements.map((function(t,a){return r.a.createElement("div",{onClick:function(){return e.setState({photoIndex:a})},key:a,className:"iframe-strip-item ".concat(e.state.photoIndex===a?"current":"")},t.thumbnail&&r.a.createElement("div",{className:"iframe-strip-item-thumbnail"},r.a.createElement("img",{src:t.thumbnail,alt:"thumbnail"})))})))):null}}]),a}(n.Component),Eo=(a(1375),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={imageIndex:0,videoIndex:0,isVideoOpen:!1,isImageOpen:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.imageGallery,o=t.videoGallery,s=t.title,i=this.state,c=i.imageIndex,l=i.videoIndex,u=i.isVideoOpen,m=i.isImageOpen;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"AppGallery__videos"},o.map((function(t,a){return r.a.createElement("li",{key:a,className:"AppGallery__video__container"},r.a.createElement("div",{className:"AppGallery__cover",onClick:function(){return e.setState({isVideoOpen:!0,videoIndex:a})}}),r.a.createElement("video",{className:"AppGallery__video",name:"media"},r.a.createElement("source",{src:t,type:"video/mp4"})))})),u&&r.a.createElement(vo,{open:!0,video:!0,elements:o,mainSrc:l,nextSrc:(l+1)%o.length,prevSrc:(l+o.length-1)%o.length,onCloseRequest:function(){return e.setState({isVideoOpen:!1})},onMovePrevRequest:function(){return e.setState({videoIndex:(l+o.length-1)%o.length})},onMoveNextRequest:function(){return e.setState({videoIndex:(l+1)%o.length})}})),r.a.createElement("ul",{className:"AppGallery__images"},a.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("img",{className:"AppGallery__image",onClick:function(){return e.setState({isImageOpen:!0,imageIndex:a})},src:t,alt:s}))})),m&&r.a.createElement(vo,{open:!0,elements:a,mainSrc:c,nextSrc:(c+1)%a.length,prevSrc:(c+a.length-1)%a.length,onCloseRequest:function(){return e.setState({isImageOpen:!1})},onMovePrevRequest:function(){return e.setState({imageIndex:(c+a.length-1)%a.length})},onMoveNextRequest:function(){return e.setState({imageIndex:(c+1)%a.length})}})))}}]),a}(n.Component)),yo=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src=this.props.embed.script,document.body.appendChild(e)}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.embed.id})}}]),a}(n.PureComponent),ko=(a(1376),function(e){var t=e.app,a=(e.isConnected,e.onConnectClicked,e.onDisconnectClicked,e.isLogged,c()(t,"details")),o=c()(t,"developer"),s=c()(t,"language"),i=c()(t,"tags"),l=c()(t,"feedback_accept"),u=c()(t,"howto_install_href");if(!a)return!1;var m=c()(t,"details.cta_text"),p=c()(t,"details.cta_href");return r.a.createElement(n.Fragment,null,t.icon_url&&r.a.createElement("div",{className:"m-b-36 text-center"},r.a.createElement("img",{src:t.icon_url,width:"96",alt:"logo"})),"#express"!==p&&r.a.createElement("div",{className:"text-center"},r.a.createElement(v.A,{href:p,className:"AppSidebar__button",target:"_blank",rel:"noopener noreferrer"},m)),r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement("div",{className:"m-t-24"},r.a.createElement(bo,{app:t}))),r.a.createElement("ul",{className:"AppSidebar__list"},r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Developer"),r.a.createElement(v.Text,{size:"small",className:"AppSidebar__itemContent"},r.a.createElement(v.A,{href:o.href,rel:"noopener noreferrer",target:"_blank"},o.name))),s&&r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Language"),r.a.createElement(v.Text,{size:"small",className:"AppSidebar__itemContent"},s)),o.twitter&&r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Twitter"),r.a.createElement(v.Text,{size:"small",className:"AppSidebar__itemContent"},r.a.createElement(v.A,{href:"https://twitter/".concat(o.twitter),rel:"noopener noreferrer",target:"_blank"},o.twitter))),u&&r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Instructions"),r.a.createElement(v.Text,{size:"small",className:"AppSidebar__itemContent"},r.a.createElement(v.A,{href:u,rel:"noopener noreferrer",target:"_blank"},"Installation procedure"))),l&&r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Feedback"),r.a.createElement(v.Text,{size:"small",className:"AppSidebar__itemContent"},"We welcome all feedback",r.a.createElement("br",null),r.a.createElement(v.A,{href:"https://rebrandly.support/contact",rel:"noopener noreferrer",target:"_blank"},"Contact us"))),!!i.length&&r.a.createElement("li",{className:"AppSidebar__item"},r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemName"},"Tags"),r.a.createElement(v.Text,{size:"x-small",className:"AppSidebar__itemContent"},i.join(", ")))))}),Oo=a(492),wo=a.n(Oo),jo=a(386),Co=a(387),No=a(388),So=a(389),xo=a(390),Lo=a(165),To=a(166),_o=a(167),Do=(a(1379),[{id:4,social:"twitter",icon:{name:"ic-social-twitter-nofill",color:"#1da1f2"},Component:So.a},{id:1,social:"facebook",icon:{name:"ic-social-facebook-nofill",color:"#3b5998"},Component:jo.a},{id:3,social:"pinterest",icon:{name:"ic-social-pinterest-nofill",color:"#BD081C"},Component:No.a},{id:2,social:"linkedin",icon:{name:"ic-social-linkedin-nofill",color:"#0077B5"},Component:Co.a},{id:5,social:"whatsapp",icon:{name:"ic-social-whatsapp-nofill",color:"#00E676"},Component:xo.a},{id:6,social:"email",icon:{name:"ic-mail"},Component:Lo.a},{id:7,social:"telephone",icon:{name:"ic-phone-call"},Component:_o.a},{id:8,social:"SMS",icon:{name:"ic-device-smartphone"},Component:To.a}]),Ao=Object(s.g)(Object(w.b)((function(e){return{isLogged:e.session.isLogged}}))((function(e){var t=e.history,a=e.isLogged,o={onGenerateClick:function(e){t.push({pathname:"/links/new",search:"?url="+e,state:{modal:!0}})}};return a||(o={alertMessage:r.a.createElement(v.Text,{size:"small"},"You can create a shortened link for this and have access to more functionalities.\xa0",r.a.createElement(Ae.a,{size:"lg",href:"#",to:"/sign-up"},"Login or Sign up to Rebrandly"))}),r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{className:"Text-Title m-b-12"},"Create a sharing link for:"),r.a.createElement("div",{className:"row"},Do.map((function(e){var t=e.id,a=e.Component,n=e.social,s=e.icon,i=s.name,c=s.color;return r.a.createElement("div",{className:"SocialButtons col-xs-12 col-sm-6",key:t},r.a.createElement(a,o,r.a.createElement(v.Button,{label:Object(ct.capitalizeAll)(n),icon:{name:i,color:c,size:"xsmall"},block:!0})))}))))}))),Io={"rebrandly-social-share":{body:r.a.createElement(Ao,null)},bookmarklet:{extra:r.a.createElement(v.Alert,{bgColor:"#eaf6ff",noBorder:!0},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(Ae.a,{href:'javascript:!function(){let a=document.createElement("script");a.setAttribute("src", "'.concat(m.a.appUrl,'/scripts/bookmarklet.js");document.body.appendChild(a)}();')},r.a.createElement(v.Button,{className:"m-r-16",theme:"primary",label:"Rebrand this URL"})),r.a.createElement(v.Text,{size:"small"},"\u2190 drag this to your Bookmarks")))},zapier:{embed:{id:"zap",script:"https://zapier.com/apps/embed/widget.js?services=rebrandly&html_id=zap"}},integromat:{embed:{id:"embed-preview",script:"https://cdn.integromat.com/embed/v1/templates/detail?template=2976&async=embed-preview"}}},Mo=a(687),Ro=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentIntegration:null,showPrompt:!1,callback:null,isLoading:!0,app:null},e.handleConnectClicked=function(){var t=wo.a[e.props.id],a=c()(t,"cta.onClick");if(a)return e[a]()},e.handleClickmeterConnect=function(){e.state.apiKey||e.setState({showPrompt:!0,callback:function(t){return Object(b.Mb)(t).then((function(t){"InvalidFormat"===t.code?e.props.notifyConnectError("Please check your API key validity and try again"):(e.props.notifyConnectSuccess("Clickmeter integration is now successfully connected"),e.setState({currentIntegration:"clickmeter",showPrompt:!1}))}))}})},e.handleDisconnectClicked=function(){return Object(b.eb)().then((function(){e.setState({currentIntegration:null}),e.props.notifyConnectSuccess("Clickmeter integration is now diconnected")}))},e.closePrompt=function(){return e.setState({showPrompt:!1})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,n,r,o,s,i,l,m,p,h,f=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.notifyConnectError,r=t.isLogged,e.next=3,Object(Mo.a)();case 3:o=e.sent,s=Object(sn.a)(o,2),i=s[0],l=s[1],m=i.data,p=l.data,this.appsIndex=wo()(m,p),this.setState({app:this.appsIndex.searchById(a),isLoading:!1}),r&&Object(b.Eb)().then((function(e){return f.setState({currentIntegration:e.current.integrationName})})).catch((function(){})),(h=c()(u()(window.location.href,!0),"query"))&&h.hasOwnProperty("error")&&("Error",n("Error","bitly-importer"===a?"There isn't any domain suitable for the bitly import's process.":"Oooops! Something didn't work. Try later."));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.state,n=a.currentIntegration,o=a.showPrompt,s=a.callback,i=a.app,l=a.isLoading,u=c()(i,"screenshots"),m=c()(i,"videos"),p=c()(Io[this.props.id],"extra"),d=c()(Io[this.props.id],"body"),h=c()(Io[this.props.id],"embed"),b=c()(i,"body");return c()(i,"integrationName")&&n&&(e=i.integrationName===n),u&&(t=u.length>0),r.a.createElement("div",{className:"row m-b-64"},r.a.createElement("section",{className:"col-xs-12 col-sm-8 last-xs first-sm"},r.a.createElement("div",{className:"row display-none display-sm-block"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(bo,{app:i,isLoading:l}))),p&&r.a.createElement("div",{className:"row display-none display-sm-block"},r.a.createElement("div",{className:"col-xs-12 m-t-24"},p)),(t||h||b||d)&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 m-t-24"},t&&r.a.createElement(Eo,{imageGallery:"Bookmarklet"===c()(i,"title")?["https://dashboard-cdn.rebrandly.com/dashboard-assets/images/app-detail-bookmarklet-001.png"].concat(Object(U.a)(u)):u,videoGallery:m,title:i.title}),h&&r.a.createElement(yo,{embed:h}),b,d))),r.a.createElement("aside",{className:"col-xs-12 col-sm-4 first-xs last-sm"},r.a.createElement(ko,{app:i,isConnected:e,onConnectClicked:this.handleConnectClicked,onDisconnectClicked:this.handleDisconnectClicked,isLogged:this.props.isLogged})),r.a.createElement(mo,{isOpen:o,input:{label:"Clickmeter API key",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"},close:this.closePrompt,callback:s}))}}]),a}(n.PureComponent),Po=Object(s.g)(Object(w.b)((function(e){return{isLogged:e.session.isLogged}}),(function(e){return{notifyConnectError:function(t,a){return e(Object(W.a)(q.b,t,a))},notifyConnectSuccess:function(t,a){return e(Object(W.a)(q.a,t,a))}}}))(Ro)),zo=function(e){var t=e.match,a=c()(t.params,"id");return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{className:"line-bottom"},r.a.createElement("div",{className:"Container--wide p-t-24 p-b-24"},r.a.createElement(Ur,{label:"Apps and integrations",pathname:"/apps"}))),r.a.createElement("section",{className:"Container--narrow m-t-48"},r.a.createElement(Po,{id:a})))},Fo=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),n=t.call(this,e),zt.b.redirectToSignUp({isLogged:n.props.isLogged}),n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Loading,{size:"lg",label:"Loading",withMargin:!0})}}]),a}(n.PureComponent),Uo=Object(w.b)((function(e){return{isLogged:e.session.isLogged}}))(Fo),Bo=function(){return r.a.createElement(Uo,null)},Wo=(a(1380),function(e){var t=e.templates,a=e.onOpen,o=e.onEdit,s=e.onDelete,i=e.permissions,l=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],u={};return Ve.h&&l&&(u={paddingTop:l.getBoundingClientRect().height}),r.a.createElement(Se.a,null,!Ve.g&&!Ve.h&&r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-6"},"Report name"),r.a.createElement(Se.b,{className:"col-xs-2"},"Frequency"),r.a.createElement(Se.b,{className:"col-xs-1"},"Status"),r.a.createElement(Se.b,{className:"col-xs-1 text-right"},"Last report"),r.a.createElement(Se.b,{className:"col-xs-2"})),r.a.createElement(Se.f,{style:u},t.map((function(e){var t=c()(e,"schedule"),l=c()(t,"recurrence.period"),u=c()(t,"active",!1),m=c()(e,"lastExecutionTimestamp"),p=we(u),d=c()(t,"nextExecutionTimestamp");return r.a.createElement(Se.e,{key:e.id,className:"CustomReportTemplate Container--wide"},r.a.createElement(Se.c,{className:"CustomReportTemplate__name col-xs-12 col-md-6 ellipsis"},r.a.createElement(Ae.a,{size:"x-lg",className:"Text--SubTitle",onClick:function(){return a(e.id)}},e.name)),r.a.createElement(n.Fragment,null,r.a.createElement(Se.c,{className:"col-xs-5 col-md-2"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},l?"Every ".concat(l.units," ").concat(l.unit):"Just once",u&&d&&r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"The next report will start on ",Object(je.a)(d,"MMM DD, YYYY")," at ",Object(je.a)(d,"HH:mm")),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"})))),r.a.createElement(Se.c,{className:"col-xs-2 col-md-1"},t&&r.a.createElement(v.Tag,{size:"sm",color:p.color,label:p.label})),r.a.createElement(Se.c,{className:"col-xs-4 col-md-1 CustomReportTemplate__date"},r.a.createElement(v.Text,{size:"small",className:C()("CustomReportTemplate__data",{"Text--SubDetail":m,"Text--Disable":!m})},m?Object(je.a)(m,"MMM"):"N/A","\xa0",r.a.createElement("span",null,m&&Object(je.a)(m,"DD YYYY"))))),r.a.createElement(Se.c,{className:"CustomReportTemplate__action col-md"},r.a.createElement(Te,{showDownloadAction:!1,showCopyAction:!1,showDeleteAction:i.delete,showEditAction:i.edit,onDelete:function(){return s(e.id)},onEdit:function(){return o(e.id)}})))}))))}),Go=a(508),Ho=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSearchOnMobile:!1},e.handleNewReport=function(){return e.props.history.push({pathname:"/reports/custom/new",state:{modal:!0}})},e.canViewWorkspaceReports=function(t){return e.props.canAccessReports(t.id)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=c()(this.props.params,"term",""),a=!!t,o=!this.props.showEmpty&&!Ve.h&&this.props.canCreateCustomReports;return r.a.createElement(Un.b,null,r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Go.a,null),r.a.createElement("div",{className:"m-l-24 m-r-24 v-divider display-none display-sm-block"}),r.a.createElement(Ln.a,{onWorkspaceChanged:this.props.onWorkspaceChanged,showAddWorkspace:!1,workspaceFilterFunc:this.canViewWorkspaceReports})),this.props.canCreateCustomReports&&this.props.count.total>0&&r.a.createElement(Un.a,null,r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Text,{className:"Text--SubTitle"},Object(ct.formatNumber)(this.props.count.results)," Custom ",Z()("report",this.props.count.results)),this.props.count.total>15&&r.a.createElement("div",{className:"flex middle-xs m-l-12"},r.a.createElement(Fn.a,{"rb-test-id":"custom-reports-filter-on-header",value:this.props.currentSort,options:this.props.filters,onChange:function(t){return e.props.onParamsChange(t.params)},closeOnSelect:!0,disabled:a,iconName:"ic-sort"}),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-none display-sm-block m-l-12"},r.a.createElement(zn.a,{placeholder:"Search custom reports templates...",search:t,onSearch:this.props.onSearchChange})),r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.setState({showSearchOnMobile:!0})},icon:{name:"ic-search"}})))))),o&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(v.Button,{"rb-test-id":"new-custom-report-button",className:"display-none display-md-block",theme:"primary",label:"New custom report",onClick:this.handleNewReport}),r.a.createElement(v.Button,{"rb-test-id":"new-custom-report-button",className:"display-block display-md-none",theme:"primary",label:"New report",onClick:this.handleNewReport})),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{size:"md",icon:"ic-search",type:"search",value:t,placeholder:"Search custom reports templates...",onChange:this.props.onSearchChange,onClose:function(){e.setState({showSearchOnMobile:!1}),e.props.onSearchChange()},showClose:!0,autoFocus:!0})))}}]),a}(n.PureComponent),qo=Object(s.g)(Ho),Vo=function(e){var t=e.reportTemplates.params;return[{label:"Creation date",value:"latest",params:{orderBy:"createdAt",orderDir:"desc"}},{label:"Name AZ",value:"az",params:{orderBy:"name",orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:"name",orderDir:"desc"}}].find((function(e){return e.params.orderBy===t.orderBy&&e.params.orderDir===t.orderDir}))},Yo=a(183),Ko=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={allResourcesLoaded:!1},e.loadTemplates=function(t){if(e.props.permissions.view&&e.props.hasFeature)return t||e.props.resetList(),e.props.loadTemplates(t).then((function(t){return e.setState({allResourcesLoaded:T()(t.value)})}))},e.handleParamsChange=function(t){e.props.setParams(t),e.loadTemplates()},e.debouncedLoadTemplates=za()(e.loadTemplates,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadTemplates())},e.handleEdit=function(t){return e.props.history.push({pathname:"/reports/custom/".concat(t,"/settings"),state:{modal:!0}})},e.openDetail=function(t){return e.props.history.push({pathname:"/reports/custom/".concat(t,"/reports"),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.loadTemplates(),this.props.fetchWorkspaceFeatures(this.props.contextId)}},{key:"renderNoFeature",value:function(){return r.a.createElement(Yo.b,{text:this.props.isOwner?"Your current plan doesn't include custom reports":"This workspace doesn't have custom reports enabled",showUpgradeButton:!1,message:"Custom reports allow you to create tailor-made reports based on all of your click data.",button:this.props.isOwner&&r.a.createElement(v.A,{href:"https://app.rebrandly.com/contact-us?ref=Logged-Btn-CustomReports-ContactSales",size:"lg",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.Button,{theme:"primary",label:"Contact sales"}))})}},{key:"renderEmptyPage",value:function(){return r.a.createElement("div",{className:"p-t-48 p-b-128"},r.a.createElement(de.a,{size:"md",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-empty-list-reports",color:"var(--color-white)"}),title:"There aren't any custom reports",button:r.a.createElement(Ae.a,{to:{pathname:"/reports/custom/new",state:{modal:!0}}},r.a.createElement(v.Button,{theme:"primary",label:"New custom report"}))}))}},{key:"render",value:function(){var e=this,t=T()(this.props.templates)&&!this.props.isLoading;return r.a.createElement(n.Fragment,null,r.a.createElement(qo,{canAccessReports:this.props.canAccessReports,count:this.props.count,params:this.props.params,filters:[{label:"Creation date",value:"latest",params:{orderBy:"createdAt",orderDir:"desc"}},{label:"Name AZ",value:"az",params:{orderBy:"name",orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:"name",orderDir:"desc"}}],currentSort:this.props.currentSort,onParamsChange:this.handleParamsChange,onSearchChange:this.handleSearchChange,workspacesCount:this.props.workspacesCount,onWorkspaceChanged:this.loadTemplates,canCreateCustomReports:this.props.permissions.create,showEmpty:t}),this.props.hasFeature?this.props.permissions.view?t?this.renderEmptyPage():r.a.createElement(n.Fragment,null,r.a.createElement(Wo,{templates:this.props.templates,onOpen:this.openDetail,onEdit:this.handleEdit,onDelete:function(t){return e.props.onDelete(t)},permissions:this.props.permissions}),r.a.createElement(cr.a,{key:this.props.templates.length.toString(),isLoading:this.props.isLoading,canLoadMore:!this.state.allResourcesLoaded,loadingLabel:this.props.params.term?"Searching, please wait...":"Loading custom reports templates...",onLoadMore:function(){return e.loadTemplates(c()(Ra()(e.props.templates),"id"))},infinite:!0})):r.a.createElement(Yo.b,{text:" You can't access custom reports for this workspace",showUpgradeButton:!1,message:r.a.createElement("span",null,"Your current permission level doesn't allow you to view reports.")}):this.renderNoFeature(),Ve.h&&r.a.createElement(v.Button,{className:"Button--floating",theme:"primary",type:"action",onClick:this.handleNewReport,size:"md",shadow:!0},r.a.createElement(v.Icon,{name:"ic-plus"})))}}]),a}(n.PureComponent),Jo=Object(s.g)(Object(w.b)((function(e){var t=e.reportTemplates,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading,i=e.session.currentWorkspaceId;return{contextId:i,templates:n.map((function(e){return r[e]})),count:o,params:a,isLoading:s,workspacesCount:e.workspaces.count,hasFeature:Object(qe.hasFeature)("reports.custom",e.workspaces.features[i]),canAccessReports:function(t){return Object(H.d)(e,t,"view","workspaces.teammates.stats")},permissions:{create:Object(H.d)(e,e.session.currentWorkspaceId,"create","workspaces.custom-reports"),view:Object(H.d)(e,e.session.currentWorkspaceId,"view","workspaces.custom-reports"),delete:Object(H.d)(e,e.session.currentWorkspaceId,"delete","workspaces.custom-reports"),edit:Object(H.d)(e,e.session.currentWorkspaceId,"edit","workspaces.custom-reports")},isOwner:e.workspaces.items[i].owner,currentSort:Vo(e)}}),(function(e){return{loadTemplates:function(t){return e(Object(Me.f)(t))},fetchWorkspaceFeatures:function(t){return e(Object(Gt.p)(t))},setParams:function(t){return e(Object(Me.j)(t))},resetList:function(){return e(Object(Me.h)())},onDelete:function(t){return e(Object(Me.d)(t)).then(e(Object(W.a)(q.f,"Custom report deleted"))).catch((function(t){throw e(Object(W.a)(q.b,"Error while deleting custom report")),t}))}}}))(Ko)),Qo=function(){return r.a.createElement(Jo,null)},Xo=a(253),Zo=(a(1382),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSearchOnMobile:!1},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Un.b,null,this.props.isLoading?r.a.createElement(v.Loading,{size:"md",label:"Loading..."}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"MemberHeader_back"},r.a.createElement(Ur,{pathname:"/teammates",label:r.a.createElement(v.A,null,r.a.createElement(v.Avatar,{img:this.props.user.avatarUrl}),r.a.createElement(v.Text,{className:"Text--SubTitle"},this.props.user.fullName))})),r.a.createElement(Un.a,{className:"m-r-16"},r.a.createElement(v.Text,{className:"Text--SubTitle"},Object(ct.formatNumber)(this.props.workspacesCount)," ",Z()("Workspace",this.props.workspacesCount)),this.props.searchOptions.visible&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"display-none display-sm-block m-l-12"},r.a.createElement(zn.a,{placeholder:"Search workspaces...",search:this.props.searchOptions.value,onSearch:function(t){return e.props.searchOptions.onChange(t)}})),r.a.createElement("div",{className:"display-block display-sm-none"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.setState({showSearchOnMobile:!0})},icon:{name:"ic-search"}}))))),!Ve.h&&this.props.showAssignWorkspacesButton&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(Xo.a,null,r.a.createElement(v.Button,{"rb-test-id":"new-workspace-button",theme:"primary",label:"Assign workspaces",onClick:this.props.onNewClick}))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{size:"md",icon:"ic-search",type:"search",value:this.props.searchOptions.value||"",placeholder:"Search workspaces...",onChange:function(t){return e.props.searchOptions.onChange(t)},onClose:function(){e.setState({showSearchOnMobile:!1}),e.props.searchOptions.onChange()},showClose:!0,autoFocus:!0})))}}]),a}(n.PureComponent));Zo.defaultProps={searchOptions:{}};var $o=Zo,es=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"renderLeaveAction",value:function(){var e=this;return r.a.createElement(xe.c,{iconName:"ic-exit",tooltip:{overlay:"Remove from workspace",placement:"top"},confirmableProps:{icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Remove teammate?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,this.props.fullName)," means that he or she will no longer have access to this workspace and won\u2019t be able to create any new links within it. Are you sure you want to proceed?"),primaryButtonProps:{label:"Remove",theme:"delete"},secondaryButtonProps:{label:"Cancel"}},onDelete:function(){return e.props.onLeave(e.props.workspace.id)}})}},{key:"render",value:function(){var e=this.props,t=e.workspace,a=e.onOpen,n=e.onChangeTeammateRole,o=e.role,s=t.type===hr.c,i=!0===t.default,l=c()(H.c,"[".concat(o,"].label")),u={tooltip:{overlay:"Change role",placement:"top"},options:Object.values(H.c).filter((function(e){return e.value!==H.b})),onChange:function(e){return n(t.id,e)},currentRole:o};return r.a.createElement(Se.e,{"rb-test-id":"workspace-row",className:"WorkspacesItem Container--wide"},r.a.createElement(Se.c,{className:"col-xs-12 col-md-10"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 flex middle-xs"},r.a.createElement(v.Avatar,{img:t.avatarUrl}),r.a.createElement(Ae.a,{"rb-test-id":"workspace-row-name",className:"m-l-16 WorkspacesItem__name",onClick:a},t.name),i&&r.a.createElement(v.Tag,{className:"m-l-8",label:"Default",color:"green",size:"sm"}),s&&r.a.createElement(v.Tag,{className:"m-l-8",label:"Extended",color:"purple",size:"sm"})))),r.a.createElement(Se.c,{className:"WorkspacesItem__details col-xs-4 col-md-1 flex start-xs start-md"},r.a.createElement(v.Tag,{className:"WorkspacesItem__role",color:"#eaf6ff",label:l,size:"sm"})),r.a.createElement(Se.c,{className:"WorkspacesItem__action display-none display-md-block col-md"},r.a.createElement("div",{className:"TeammatesItem__actions flex middle-xs end-xs"},r.a.createElement(xe.a,u),this.renderLeaveAction())))}}]),a}(n.PureComponent),ts=(a(1383),function(e){var t=e.workspaces,a=e.onTeammatesClick,n=e.onOpen,o=e.onLeave,s=e.onChangeTeammateRole,i=e.fullName,c=e.getRole,l=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],u={};return Ve.h&&l&&(u={paddingTop:l.getBoundingClientRect().height}),r.a.createElement(Se.a,null,!Ve.h&&!Ve.g&&r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-10"},"Name"),r.a.createElement(Se.b,{className:"col-xs-1 text-left"},"Status")),r.a.createElement(Se.f,{style:u},t.map((function(e){return r.a.createElement(es,{role:c(e.id),fullName:i,key:e.id,workspace:e,onChangeTeammateRole:s,onOpen:function(){return n(e.id)},onTeammatesClick:function(){return a(e.id)},onLeave:function(){return o(e.id)}})}))))}),as=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={allResourcesLoaded:!1,isLoading:!0},e.handleParamsChange=function(t){e.props.setParams(t),e.loadWorkspaces()},e.debouncedLoadWorkspaces=za()(e.loadWorkspaces,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadWorkspaces())},e.showNewInvite=function(t){return e.props.history.push({pathname:"/workspaces/".concat(t,"/invite"),state:{modal:!0}})},e.showTeammates=function(t){return e.props.history.push("/workspaces/".concat(t,"/teammates"))},e.showWorkspaceDetails=function(t){return e.props.history.push({pathname:"/workspaces/".concat(t),state:{modal:!0}})},e.leaveWorkspace=function(t){var a=c()(e.props.workspaces,"[".concat(t,"].name"));e.props.leave(t).then((function(){a&&e.props.showNotification(q.f,"You just removed ".concat(e.props.user.fullName," from ").concat(a," workspace"))})).catch((function(t){throw e.props.showNotification(q.b,"Error while removing user from workspace"),t}))},e.handleInviteClick=function(){return e.props.history.push({pathname:"/teammates/".concat(e.props.user.id,"/invite"),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=-1!==this.props.location.search.indexOf("lookup"),a=this.getTermFromQueryString();a&&this.props.setParams({term:a}),this.props.loadTeammate().then((function(){return e.loadWorkspaces()})).catch((function(a){return e.props.history.push(t?"/teammates":"/not-found")}))}},{key:"componentWillUnmount",value:function(){this.props.setParams({term:null})}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadWorkspaces",value:function(e){var t=this;return e||this.props.resetList(),this.setState({isLoading:!0}),this.props.loadWorkspaces(e).then((function(e){return t.setState({isLoading:!1,allResourcesLoaded:T()(e.value)})}))}},{key:"render",value:function(){var e=this,t=T()(this.props.workspaces)&&!this.state.isLoading,a={visible:this.props.user.workspaces>15||this.props.params.term,value:this.props.params.term,onChange:this.handleSearchChange};return this.state.isLoading?r.a.createElement(v.Loading,{size:"md",label:"Loading...",withMargin:!0}):r.a.createElement(n.Fragment,null,r.a.createElement($o,{user:this.props.user,workspacesCount:this.props.user.workspaces,searchOptions:a,onNewClick:this.handleInviteClick,isLoading:this.state.isLoading,showAssignWorkspacesButton:!0}),t?this.props.params.term?r.a.createElement(Kt.p,{onClick:function(){return e.handleSearchChange()}}):r.a.createElement(Kt.r,this.props.user):r.a.createElement(n.Fragment,null,r.a.createElement(ts,{getRole:this.props.getRole,fullName:this.props.user.fullName,workspaces:this.props.workspaces,onOpen:this.showWorkspaceDetails,onInvite:this.showNewInvite,onTeammatesClick:this.showTeammates,onChangeTeammateRole:this.props.setRole,onLeave:function(t){return e.leaveWorkspace(t)}}),r.a.createElement(cr.a,{isLoading:this.state.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.loadWorkspaces(c()(Ra()(e.props.workspaces),"id"))},infinite:!0})),this.props.workspaceLimitReached&&r.a.createElement("div",{className:"Container--narrow m-t-64  m-b-36"},r.a.createElement(v.Alert,{status:"info",title:"Workspaces and Teammates"},r.a.createElement(v.Text,{size:"small"},r.a.createElement(v.A,{size:"md",target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115006305067-Why-should-I-create-a-Workspace-",rel:"noopener noreferrer"},"Workspaces")," are like folders for your links. They\u2019re great for organising your campaigns, collaborating with multiple teams and creating new projects. ",r.a.createElement(Ae.a,{to:"/pricing",size:"lg"},"Upgrade your plan")," to add workspaces to your Rebrandly account."))),Ve.h&&r.a.createElement(Xo.a,null,r.a.createElement(v.Button,{className:"Button--floating",type:"action",theme:"primary",size:"md",onClick:this.showNewInvite,shadow:!0},r.a.createElement(v.Icon,{name:"ic-plus"}))))}}]),a}(n.PureComponent);as.defaultProps={user:{}};var ns=Object(s.g)(Object(w.b)((function(e,t){var a=c()(e.teammates.items[t.id],"workspacesList",[]).map((function(t){return e.workspaces.items[t]})),n=e.workspaces.params;return{params:void 0===n?{}:n,user:e.teammates.items[t.id],workspaces:a,hasTeammatesFeature:function(t){return Object(qe.hasFeature)("collaboration.teammates",e.workspaces.features[t])},canDeleteWorkspace:function(t){return Object(H.d)(e,t,"delete","workspaces")},canViewTeammates:function(t){return Object(H.d)(e,t,"view","workspaces.teammates")},isGuest:e.session.isGuest,workspaceLimitReached:0===Object(He.b)("workspaces",e.account),getRole:function(a){return Object(H.e)(t.id,a,e)}}}),(function(e,t){return{loadTeammate:function(){return e(Object($.j)(t.id))},setParams:function(t){return e(Object(Gt.x)(t))},setContext:function(t){return e(Object(N.g)(t))},resetList:function(){return e(Object($.q)(t.id))},loadWorkspaces:function(a){return e(Object($.k)(t.id,a))},delete:function(t){return e(Object(Gt.s)(t)).then((function(){return e(Object(W.a)(q.f,"Workspace deleted"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while deleting workspace")),t}))},leave:function(a){return e(Object($.n)(a,t.id))},setRole:function(a,n){return e(Object(Br.d)(a,t.id,n))},showNotification:function(t,a){return e(Object(W.a)(t,a))}}}))(as)),rs=function(e){var t=e.match;return r.a.createElement(ns,{id:t.params.id})},os=["csv","json"],ss=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).items=[],n.items=os.map((function(t){return{href:"".concat(m.a.downloadReportBaseURL,"/").concat(e.userId,"/executions/").concat(e.executionId,"/").concat(e.executionId,".full.").concat(t),label:t}})),n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(de.a,{illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-analytics"}),title:"Rebrandly custom report",button:r.a.createElement(xe.d,{customTrigger:r.a.createElement(v.Button,{"rb-test-id":"download-custom-report",label:"Download report",size:"lg"})},r.a.createElement(v.Menu,null,this.items.map((function(e){return r.a.createElement("li",{key:e.label},r.a.createElement(v.A,{className:"text-uppercase",target:"_blank",href:e.href},".".concat(e.label)))}))))})}}]),a}(n.PureComponent),is=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(ss,{userId:t.params.userId,executionId:t.params.executionId}))},cs=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(Rn.a,{id:c()(this.props.match,"params.id")})))}}]),a}(n.PureComponent),ls=function(){return r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.SpotIllustration,{size:"lg",name:"ill-spot-rebrandly"}),title:"You're signed out",button:r.a.createElement(n.Fragment,null,r.a.createElement(Ae.a,{href:"https://rebrandly.com"},r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Go to Rebrandly.com"})),r.a.createElement(v.Text,{size:"small",className:"Text--Detail m-t-24"},"Or ",r.a.createElement(Ae.a,{onClick:function(){return zt.b.redirectToLogin({path:"/links",search:""})},size:"lg"},"Login to your account")))})},us=function(){return r.a.createElement(ls,null)},ms=function(e){var t,a=e.match;switch(mt.a.track("error-page-loaded",{location:window.location.href,page:window.location.pathname}),a.params.type){case"workspaces-not-available":t=Yo.d;break;case"not-found":default:t=Yo.a}return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(t,null))},ps=(a(1384),function(){var e=Object(n.useContext)(nt.d).theme;return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"ExtensionInstalled__header"},r.a.createElement(v.Text,{className:"Text-Title text-center",size:"x-large"},"Try Rebrandly now!"),r.a.createElement(v.Text,{className:"ExtensionInstalled__intro text-center"},r.a.createElement("span",null,"Press the"),r.a.createElement("img",{src:m.a.cdn.assetsBaseUrl+"/images/extension-logo.png",width:"24",alt:"extension success"}),r.a.createElement("span",null,"button to create Branded Links and Share")),r.a.createElement("div",{className:"ExtensionInstalled__arrow"},r.a.createElement("img",{src:m.a.cdn.assetsBaseUrl+"/images/extension-arrow.png",alt:"extension arrow"}))),r.a.createElement("div",{className:"text-center m-t-96"},r.a.createElement("img",{src:"".concat(m.a.cdn.assetsBaseUrl).concat(e===nt.a?"/images/extension-success-dark.png":"/images/extension-success.png"),width:"1250",alt:"extension success"})))}),ds=function(){return r.a.createElement("div",{className:"Container--wide Page"},r.a.createElement(ps,null))},hs=function(e){var t=e.invites,a=e.onRemove,n=e.onReinvite,o=document.getElementsByClassName("Toolbar Toolbar--fixed")[0],s={};return Ve.h&&o&&(s={paddingTop:o.getBoundingClientRect().height}),r.a.createElement(Se.a,null,!Ve.g&&!Ve.h&&r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-6"},"Email"),r.a.createElement(Se.b,{className:"col-xs-2"},"Invited"),r.a.createElement(Se.b,{className:"col-xs-2"},"Expiration")),r.a.createElement(Se.f,{style:s},t.map((function(e){var t="expired"===e.status,o=r.a.createElement("span",null,"After 31 days the invite expires",r.a.createElement("br",null),"and is automatically canceled.");return r.a.createElement(Se.e,{"rb-test-id":"invite-row",key:e.id,className:"Container--wide"},r.a.createElement(Se.c,{className:"flex middle-xs col-xs-6"},e.email&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail ellipsis"},e.email),t&&r.a.createElement(v.Tooltip,{overlay:o,placement:"top"},r.a.createElement(v.Tag,{className:"m-l-8",color:"grey",size:"sm",label:"Invite expired"}))),r.a.createElement(Se.c,{className:"col-xs-2"},e.createdAt&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},Object(je.a)(e.createdAt))),r.a.createElement(Se.c,{className:"col-xs-2"},e.expiredAt&&r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},Object(je.a)(e.expiredAt))),r.a.createElement(Se.c,{className:"col-xs-2"},r.a.createElement("div",{className:"TeammatesItem__actions flex end-xs"},t&&r.a.createElement(v.Button,{className:"m-r-8",label:"Re-Invite",onClick:function(){return n(e.id)}}),r.a.createElement(xe.c,{"rb-test-id":"delete-invite",iconName:"ic-trash-bin",tooltip:{overlay:"Rescind invite",placement:"top"},confirmableProps:{icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Delete invite?",message:"This invite will no longer be available and invited teammate won't be able to join your workspace(s).",primaryButtonProps:{label:"Rescind",theme:"delete"}},onDelete:function(){return a(e.id)}}))))}))))},bs=[{label:"Active",value:""},{label:"Invited",value:"invites"}],fs=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSearchOnMobile:!1,allResourcesLoaded:!1},e.debouncedLoadInvites=za()(e.loadAllInvites,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadInvites())},e.changeFilter=function(t){var a=t.value;return e.props.history.push("/teammates/".concat(a))},e.handleInviteClick=function(){return e.props.history.push({pathname:"/teammates/invite",state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this.getTermFromQueryString();e&&this.props.setParams({term:e}),this.loadAllInvites()}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadAllInvites",value:function(e){var t=this;return e||this.props.resetList(),this.props.loadAll(e).then((function(e){return t.setState({allResourcesLoaded:T()(e.value)})}))}},{key:"render",value:function(){var e=this,t=0===this.props.count.results&&!this.props.isLoading,a=this.props.count.results>0;return r.a.createElement(n.Fragment,null,r.a.createElement(Un.b,null,r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Ur,{label:"Teammates",pathname:"/teammates"})),r.a.createElement(Un.a,null,a&&r.a.createElement(v.Text,{className:"Toolbar_text"},r.a.createElement("span",null,this.props.count.results," ",Z()("Teammate",this.props.count.results))),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(Fn.a,{"rb-test-id":"teammates-and-invites-filter",options:bs,value:bs.find((function(e){return"invites"===e.value})),onChange:this.changeFilter,iconName:"ic-sort"})),!1),!Ve.h&&a&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(to.a,null,r.a.createElement(v.Button,{theme:"primary",label:"Invite teammates",onClick:this.handleInviteClick}))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{icon:"ic-search",type:"search",value:this.props.params.term,placeholder:"Search teammates...",onChange:this.handleSearchChange,onClose:function(){e.setState({showSearchOnMobile:!1}),e.handleSearchChange()},showClose:!0,autoFocus:!0}))),t?r.a.createElement(Kt.g,null):r.a.createElement(n.Fragment,null,r.a.createElement(hs,{invites:this.props.invites,onRemove:function(t){return e.props.remove(t)},onReinvite:this.props.resendInvites}),r.a.createElement(cr.a,{key:this.props.invites.length.toString(),isLoading:this.props.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.loadAllInvites(c()(Ra()(e.props.invites),"id"))},infinite:!0})))}}]),a}(n.PureComponent),gs=Object(s.g)(Object(w.b)((function(e){var t=e.invites,a=t.params,n=t.list,r=t.items,o=t.count;return{isLoading:t.isLoading,invites:n.map((function(e){return r[e]})),params:a,count:o}}),(function(e,t){return{loadAll:function(t){return e(Object(G.f)(t))},setParams:function(t){return e(Object(G.l)(t))},resetList:function(){return e(Object(G.i)())},resendInvites:function(a){return e(Object(G.h)(t.id,a)).then((function(){return e(Object(W.a)(q.a,"Done","A new invite has been sent"))}))},remove:function(t){return e(Object(G.e)(t)).then((function(){return e(Object(W.a)(q.a,"Invite rescinded"))}))}}}))(fs)),vs=function(e){var t=e.match;return r.a.createElement(gs,{id:t.params.id})},Es=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"sm",isOpen:this.state.open,showClose:!0,onClose:this.back,middle:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(P,{id:this.props.match.params.id})))}}]),a}(n.PureComponent),ys=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getItems=function(){return[{id:0,label:r.a.createElement(v.A,{size:"lg",target:"_blank",href:m.a.appUrl,rel:"noopener noreferrer"},"Open dashboard"),display:!0},{id:1,label:r.a.createElement(v.A,{size:"lg",target:"_blank",href:"https://rebrandly.com",rel:"noopener noreferrer"},"Go to Rebrandly"),display:!0},{id:2,label:r.a.createElement(Ae.a,{size:"lg",onClick:e.props.onSignOut},"Sign out"),display:!0},{id:3,label:r.a.createElement(Ae.a,{size:"lg",onClick:e.props.onOptions},"Extension options"),display:"true"!==c()(u()(window.location.href,!0),"query.hideOptions")}].filter((function(e){return e.display}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=c()(this.props.user,"fullName"),t=c()(this.props.user,"email");return r.a.createElement("div",{className:"AccountPanel"},(e||t)&&r.a.createElement("div",{className:"AccountPanel__header"},e&&r.a.createElement(v.Text,{size:"small",singleLine:!0},e),t&&r.a.createElement(v.Text,{size:"x-small",singleLine:!0},t)),r.a.createElement("ul",{className:"AccountPanel__list"},this.getItems().map((function(e){return r.a.createElement("li",{key:e.id},e.label)}))))}}]),a}(n.PureComponent),ks=(a(1385),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={countTotal:null},e.onOptions=function(e){e.preventDefault(),Object(an.a)("rb_open_options")},e.onClickLogo=function(e){e.preventDefault(),Object(an.a)("rebrandly_main")},e.onSignOut=function(e){e.preventDefault();var t=window.self!==window.top?"logout":"close_white_site";Object(an.a)(t)},e.onClose=function(){var e=window.self!==window.top?"close":"close_white_site";Object(an.a)(e)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(b.G)().then((function(t){var a=t.count;return e.setState({countTotal:a})}))}},{key:"render",value:function(){return r.a.createElement("header",{className:C()("ExtensionMainHeader",{"ExtensionMainHeader--desktopApp":Ve.d})},r.a.createElement("div",{className:"Container--wide"},r.a.createElement("div",{className:"row middle-xs"},r.a.createElement("div",{className:"col-xs-8"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement("div",{className:"display-none display-md-block"},r.a.createElement(Ge,{fill:"#fff",onClick:this.onClickLogo})),this.state.countTotal>1&&r.a.createElement("div",{className:C()("flex ",{"m-l-36":!Ve.d})},r.a.createElement(Ln.a,{workspaceFilterFunc:function(e){return e.type!==hr.c},showAddWorkspace:!1})))),r.a.createElement("div",{className:"col-xs-4"},r.a.createElement("ul",{className:"MainHeader__secondary end-xs"},!Ve.d&&r.a.createElement("li",null,r.a.createElement(v.Button,{theme:"blankInverted",label:"Cancel",onClick:this.onClose})),this.props.isLogged&&!Ve.d&&r.a.createElement("li",null,r.a.createElement(v.Dropdown,{position:"right"},r.a.createElement(v.Trigger,null,r.a.createElement(v.Avatar,{img:this.props.account.avatarUrl})),r.a.createElement(v.Content,{position:"right"},r.a.createElement(ys,{user:this.props.account,onSignOut:this.onSignOut,onOptions:this.onOptions})))))))))}}]),a}(n.PureComponent)),Os=Object(w.b)((function(e){return{isLogged:e.session.isLogged,account:e.account}}))(ks),ws=a(515),js=a(63),Cs=(a(1386),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,link:null,justCreated:null},e.openEditMode=function(t){return e.setState({editMode:!0,justCreated:!0,link:t})},e.closeEditMode=function(){return e.setState({editMode:!1})},e.openAlreadyCreatedLink=function(t){return e.setState({editMode:!0,justCreated:!1,link:t})},e.closeWindow=function(){Ve.h&&e.props.history.push("/"),Object(an.a)(window.self!==window.top?"close":"close_white_site")},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=null;Ve.e?e="firefox":Ve.c&&(e="chrome"),e&&!0!==js.a.get("hasExtension")&&(Object(b.Md)(e).catch((function(){})),js.a.set("hasExtension",!0))}},{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",onClose:this.closeWindow,className:"BrowserExtension__modal m-t-64",overlayClassName:"BrowserExtension__overlay",isOpen:!0,showClose:!Ve.d},r.a.createElement(v.ModalContent,null,this.state.editMode&&!T()(this.state.link)?r.a.createElement(Rn.a,{id:this.state.link.id,onLinkTrashed:this.closeEditMode,justCreated:this.state.justCreated,edit:!0}):r.a.createElement(ws.a,{destination:this.props.destinationUrl,onNewDomainClick:function(){return window.open(m.a.appUrl+"/domains/new","_blank")},onLinkCreated:this.openEditMode,onAlreadyCreatedLinkClick:this.openAlreadyCreatedLink})))}}]),a}(n.PureComponent)),Ns=Object(s.g)(Cs),Ss=function(){var e=c()(u()(window.location.href,!0),"query.url");return r.a.createElement(n.Fragment,null,r.a.createElement(Os,null),r.a.createElement(Ns,{destinationUrl:e}))},xs=[{label:"Managed by Rebrandly",color:"blue"},{label:"Alias",color:"yellow"},{label:"External",color:"default"}],Ls=function(e){var t=e.fullName,a=e.managed,n=e.aliased,o=e.createdAt,s=Object(je.a)(o),i=a?xs[0]:n?xs[1]:xs[2],c=i.label,l=i.color;return r.a.createElement("section",{className:"DomainHeader m-b-48"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{className:"Text--Detail",size:"large",singleLine:!0},t))),r.a.createElement("div",{className:"row m-t-8"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Icon,{name:"ic-calendar",className:"p-b-4",size:"xsmall",color:"#c7c9cb"}),r.a.createElement(v.Tooltip,{overlay:"Added on",placement:"bottom"},r.a.createElement("span",null,r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail m-l-12 m-r-16"},s))),r.a.createElement(v.Badge,{color:l,size:"sm",label:c})))))};Ls.defaultProps={managed:!1};var Ts=Ls,_s=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showAutoRenewWarning:!1},e.handleAutoRenewChange=function(t,a){t!==e.props.autorenew&&(!1!==t||a?(e.props.onAutoRenew(t),e.setState({showAutoRenewWarning:!1})):e.setState({showAutoRenewWarning:!0}))},e.handleCloseWarning=function(){e.setState({showAutoRenewWarning:!1})},e}return Object(y.a)(a,[{key:"renderAutoRenewWarning",value:function(){var e=this;return r.a.createElement(v.Alert,{className:"p-0",title:"Are you sure you want to turn off autorenew?",noBorder:!0},"You will receive an email before expiration.",r.a.createElement("div",{className:"flex m-t-8"},r.a.createElement(v.Button,{label:"Turn off autorenew for this domain",theme:"delete",onClick:function(){return e.handleAutoRenewChange(!1,!0)}}),r.a.createElement(v.Button,{label:"Keep autorenew",theme:"ghost",onClick:this.handleCloseWarning})))}},{key:"render",value:function(){var e,t=this.props,a=t.status,n=t.expiresAt,o=t.autorenew,s=t.onRenew,i=this.state.showAutoRenewWarning,c=r.a.createElement(v.Button,{label:"Renew now",onClick:s});a.renewable&&(e=r.a.createElement("div",{className:"m-t-8"},c));var l=r.a.createElement(v.Label,{value:"Auto renew"},r.a.createElement(v.Toggle,{name:"autorenew",disabled:!a.autorenewable&&!o,checked:o,onChange:this.handleAutoRenewChange}));return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Expiration")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},!i&&r.a.createElement("div",{className:"DomainSettings__content"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark"},Object(je.a)(n)),l,e),i&&this.renderAutoRenewWarning()))}}]),a}(n.PureComponent),Ds=a(360),As=function(e){return!!e&&"attached"===c()(e,"correlation.status")},Is=function(e){return Object(F.a)(Object(F.a)({},e),{},{label:e.name,value:e.id})},Ms=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={workspaces:[],isLoading:!1,term:""},e.fetchWorkspaces=function(t){var a=e.state.term.length?e.state.term:null;return e.setState({isLoading:!0}),Object(b.Kc)(e.props.domainId,{last:t,term:a,"correlation.status":"detached,attached",owner:!0}).then((function(t){return e.setState({workspaces:t})})).catch((function(){e.props.createNotification(q.b,"Unable to list workspaces")})).finally((function(){return e.setState({isLoading:!1})}))},e.debouncedLoadWorkspaces=za()(e.fetchWorkspaces,Ds.debounceSearchTime),e.search=function(t){(0===t.length||t.length>2)&&e.setState({term:t},(function(){return e.debouncedLoadWorkspaces()}))},e.toggleWorkspace=function(t){var a=As(t)?"detached":"attached";e.setState({workspaces:e.state.workspaces.map((function(e){return e.id===t.id?Object(F.a)(Object(F.a)({},t),{},{correlation:Object(F.a)(Object(F.a)({},t.correlation),{},{status:a})}):e}))})},e.handleChange=function(t){As(t)?(e.toggleWorkspace(t),Object(b.tb)(t.id,e.props.domainId).catch((function(){return e.toggleWorkspace(t)}))):(e.toggleWorkspace(t),Object(b.f)(t.id,e.props.domainId).catch((function(){return e.toggleWorkspace(t)}))),e.props.onWorkspaceToggled&&e.props.onWorkspaceToggled(t)},e.renderFooter=function(){return null},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.fetchWorkspaces()}},{key:"render",value:function(){var e=this,t=this.state.workspaces.filter(As).length;return this.props.inline?r.a.createElement(v.Tooltip,{display:!!this.props.disabled,overlay:r.a.createElement("span",null,"This domain is not ready to",r.a.createElement("br",null),"be used yet. ",r.a.createElement(v.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/224439647-I-Just-Bought-a-Domain-But-It-Isn-t-Working-Yet"},"Learn more")),placement:"right"},r.a.createElement("span",{className:"inline"},r.a.createElement(v.Selector,{options:this.state.workspaces.map(Is),term:this.state.term,onSearch:this.search,isLoading:this.state.isLoading,renderTrigger:function(){return r.a.createElement(v.Button,{theme:"select",label:0===t?"include this domain in a workspace":"included in ".concat(t," ").concat(Z()("workspace",t)),disabled:e.props.disabled})},renderOption:function(t){var a=As(e.state.workspaces.find((function(e){return e.id===t.id})));return r.a.createElement("div",{className:C()("DomainWorkspacesOptions flex middle-xs",{"DomainWorkspacesOptions--selected":a})},r.a.createElement(v.Checkbox,{checked:a}),r.a.createElement("div",{className:"DomainWorkspacesOptions__avatar"},r.a.createElement(v.Avatar,{img:t.avatarUrl})),r.a.createElement(v.Text,{size:"small",singleLine:!0,className:"m-l-8"},t.name))},onChange:this.handleChange,showSearch:this.state.workspaces.length>15,footer:this.renderFooter(),disabled:this.props.disabled}))):r.a.createElement("div",{className:"DomainWorkspaces row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Workspace(s)")),this.state.isLoading?r.a.createElement(v.Loading,{label:"Loading workspaces...",size:"sm"}):r.a.createElement("div",{className:"col-xs-12 col-md-9"},r.a.createElement(v.Tooltip,{display:!!this.props.disabled,overlay:r.a.createElement("span",null,"This domain is not ready to",r.a.createElement("br",null),"be used yet. ",r.a.createElement(v.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/224439647-I-Just-Bought-a-Domain-But-It-Isn-t-Working-Yet"},"Learn more")),placement:"right"},r.a.createElement("span",{className:"inline"},r.a.createElement(v.Selector,{options:this.state.workspaces.map(Is),term:this.state.term,onSearch:this.search,isLoading:this.state.isLoading,renderTrigger:function(){return r.a.createElement(v.Button,{theme:"select",label:0===t?"Include this domain in a workspace":"Included in ".concat(t," ").concat(Z()("workspace",t)),disabled:e.props.disabled})},renderOption:function(t){var a=As(e.state.workspaces.find((function(e){return e.id===t.id})));return r.a.createElement("div",{className:C()("DomainWorkspacesOptions flex middle-xs",{"DomainWorkspacesOptions--selected":a})},r.a.createElement(v.Checkbox,{checked:a}),r.a.createElement("div",{className:"DomainWorkspacesOptions__avatar"},r.a.createElement(v.Avatar,{img:t.avatarUrl})),r.a.createElement(v.Text,{size:"small",singleLine:!0,className:"m-l-8"},t.name))},onChange:this.handleChange,showSearch:this.state.workspaces.length>15,footer:this.renderFooter(),disabled:this.props.disabled}))),0===t&&r.a.createElement("div",{className:"m-t-8 flex middle-xs"},r.a.createElement(v.Icon,{name:"ic-warning",color:"#f6852f",size:"tiny"}),r.a.createElement(v.Text,{size:"x-small",className:"DomainSettings__text--orange m-l-4"},"To create branded links with this domain you need to"," "),r.a.createElement(v.A,{target:"_blank",rel:"noopener noreferrer",href:"https://support.rebrandly.com/hc/en-us/articles/360006910133-How-to-Add-a-Branded-Domain-to-a-Workspace",className:"m-l-4"},"include it in a workspace."))))}}]),a}(n.PureComponent),Rs=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadingCertificate:!1,certificate:{}},e.handleChangeProtocol=function(t){var a=t?"https":"http";e.props.onToggleHttps(a)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadingCertificate:!0}),Object(b.Vb)(this.props.id).then((function(t){return e.setState({certificate:t})})).finally((function(){return e.setState({loadingCertificate:!1})}))}},{key:"renderCertificateTooltip",value:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"small",className:"font-semibold"},"SSL Certificate Details"),r.a.createElement("div",{className:"inline"},r.a.createElement(v.Text,{size:"small",className:"font-semibold inline"},"Issued by:")," ",r.a.createElement(v.Text,{size:"small",className:"inline"},c()(this.state.certificate,"issuer.name"))),r.a.createElement("div",{className:"inline"},r.a.createElement(v.Text,{size:"small",className:"font-semibold inline"},"Expires:")," ",r.a.createElement(v.Text,{size:"small",className:"inline"},e?Object(je.a)(c()(this.state.certificate,"past",!1)):Object(je.a)(c()(this.state.certificate,"expiredAt"),"LLLLZ"))),r.a.createElement("div",{className:"inline"},r.a.createElement(v.Text,{size:"small",className:"font-semibold inline"},"Country:")," ",r.a.createElement(v.Text,{size:"small",className:"inline"},Object(ia.a)(c()(this.state.certificate,"issuer.country")).alpha2)),t&&r.a.createElement(v.Text,{size:"small"},r.a.createElement("i",null,"Renews automatically upon expiry")),r.a.createElement(v.Text,{size:"small",className:"font-semibold"},r.a.createElement(v.A,{target:"_blank",size:"small",className:"inline",href:"https://www.ssllabs.com/ssltest/analyze.html?d=".concat(this.props.domain.fullName,"&latest")},"Learn more")))}},{key:"render",value:function(){var e=this.props,t=e.https,a=e.encryption,o=e.hasCustomSSLFeature,s=e.aliased,i="active"===a,l=!!c()(this.state.certificate,"issuer.name"),u=fe()(c()(this.state.certificate,"expiredAt")),m=fe.a.tz(fe()(),"UTC"),p=l&&u.isBefore(m),d=Math.abs(m.diff(u,"days")),h="managed"===c()(this.state.certificate,"type"),b=d<=15;return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Https (SSL)")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},r.a.createElement(v.Label,{value:"Copy links with HTTPS protocol",tooltip:{overlay:"When selected, your branded links with this domain will be automatically copied and shared with \u201chttps://\u201d protocol."}},r.a.createElement(v.Toggle,{onChange:this.handleChangeProtocol,checked:t})),!s&&r.a.createElement("div",{className:"m-t-16"},i?r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"This domain is secured with an SSL Certificate"):r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Icon,{name:"ic-warning",color:"#f6852f",size:"tiny"}),r.a.createElement(v.Text,{size:"x-small",className:"DomainSettings__text--orange m-l-4"},"SSL Certificate not active yet."),r.a.createElement(Ae.a,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/235441347-Branded-Links-with-Https-SSL-",className:"m-l-4",rel:"noopener noreferrer"},"Learn more")),l&&r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Issued by ",c()(this.state.certificate,"issuer.name")," ",h&&" via Rebrandly"),p?r.a.createElement(v.Text,{size:"x-small",className:"DomainSettings__text DomainSettings__text--red m-t-8"},r.a.createElement(v.Icon,{name:"ic-warning",color:"#CE4743",size:"tiny"})," This certificate expired ",Object(je.a)(u,"past",!1),"\xa0",r.a.createElement(v.Tooltip,{overlay:this.renderCertificateTooltip(p,h)},r.a.createElement(v.Icon,{className:"m-l-8",name:"ic-help",size:"tiny",color:"#c7c9cb"}))):r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-t-12"},b?r.a.createElement("span",{style:{color:"#CE4743"}},r.a.createElement(v.Icon,{name:"ic-warning",color:"#CE4743",size:"tiny"})," This certificate expires ",Object(je.a)(u,"past",!1),"\xa0"):r.a.createElement("span",null,r.a.createElement(v.Icon,{name:"ic-success",color:"#02af63",size:"tiny"})," This certificate is valid\xa0"),r.a.createElement(v.Tooltip,{overlay:this.renderCertificateTooltip(p,h)},r.a.createElement(v.Icon,{className:"m-l-8",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),o?r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail m-t-12"},"Need to replace it with a new one? ",r.a.createElement(Ae.a,{size:"small",to:{pathname:"/contact-us",search:"ref=custom-ssl-certificate-domain-page",state:{modal:!0}}},"Contact us")):r.a.createElement("div",{className:"m-t-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"To upload a custom SSL certificate ",r.a.createElement(Ae.a,{size:"small",to:{pathname:"/contact-us",search:"ref=custom-ssl-certificate-domain-page",state:{modal:!0}}},"talk to sales")))))))}}]),a}(n.Component),Ps=a(87),zs=a.n(Ps),Fs=(a(1387),["extra.money_back_days"]),Us=Object(w.b)((function(e){return{account:e.account}}))((function(e){var t=Object(n.useState)({}),a=Object(sn.a)(t,2),o=a[0],s=a[1],i=Object(n.useState)({}),l=Object(sn.a)(i,2),u=l[0],p=l[1],d=Object(n.useState)([]),h=Object(sn.a)(d,2),f=h[0],g=h[1],E=Object(n.useState)(!1),y=Object(sn.a)(E,2),k=y[0],O=y[1];Object(n.useEffect)((function(){O(!0),Object(b.bc)(m.a.domainUpsellDeal.plan).then((function(e){p(e),s(e.deals.find((function(e){return e.id===m.a.domainUpsellDeal.deal}))),g(Object(He.d)(e))})).finally((function(){return O(!1)}))}),[]);var w=c()(u,"features.extra.money_back_days",0),j=Object(He.d)(e.account.subscription);return k?r.a.createElement(v.Loading,null):r.a.createElement(n.Fragment,null,r.a.createElement(de.a,{className:"DomainUpsell m-0",size:"md",illustration:r.a.createElement(v.SpotIllustration,{name:"ill-spot-upgrade"}),title:"Power Domain Offer",message:r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{className:"Text--note",size:"small"},"Upgrade your plan to include custom URL redirects"),r.a.createElement("div",{className:"flex-baseline center-xs m-t-12 m-b-8"},r.a.createElement(v.Text,{size:"large",className:"Text-Title"},"$",Object(ct.formatNumber)(c()(o,"cycle.price.net",0))),r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle m-l-4"},function(){var e=c()(o,"cycle.recurrence",{});return e.units>1?"/".concat(e.units," ").concat(e.unit,"s"):"/".concat(e.unit)}())),!T()(f)&&r.a.createElement("ul",{className:"DomainUpsell__list flex-column"},f.filter((function(e){return e.selected===!j.find((function(t){return t.key===e.key})).selected})).map((function(e){return e.selected&&!Fs.includes(e.key)&&r.a.createElement("li",{key:e.key},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.CheckListItem,{size:"xsmall",text:e.label,selected:!0}),r.a.createElement(v.Tooltip,{overlay:e.description,placement:"top"},r.a.createElement(v.Icon,{name:"ic-information",className:"m-l-4",size:"tiny",color:"#c7c9cb"}))))})))),button:r.a.createElement(n.Fragment,null,r.a.createElement(Ae.a,{to:{pathname:"/pricing/compare",search:"?plan=".concat(c()(u,"id",""),"&deal=").concat(c()(o,"id","")),state:{modal:!0,skipComparison:!0}},onClick:e.onUpgrade},r.a.createElement(v.Button,{theme:"checkout",label:"Upgrade",block:!0})),!!w&&r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-t-12"},w," ",Z()("day",+w)," money back guarantee"))}))})),Bs={require_protocol:!1,require_valid_protocol:!1,require_tld:!0,allow_trailing_dot:!0,allow_underscores:!0,showUpsellDomain:!1},Ws=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1,inputValue:"",isLoading:!1},e.onChange=function(t){return e.setState({inputValue:t})},e.handleSave=function(t){t.preventDefault();var a=e.state.inputValue;e.setState({isLoading:!0}),e.props.onSaveLandingPage(a).then((function(){e.closeEditLanding()})).catch((function(){})).finally((function(){return e.setState({isLoading:!1})}))},e.openEditLanding=function(t){t.preventDefault(),e.setState({edit:!0})},e.closeEditLanding=function(t){t&&t.preventDefault&&t.preventDefault(),e.setState({edit:!1})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.setState({inputValue:this.props.customHomepage||""})}},{key:"componentDidUpdate",value:function(e){this.props.customHomepage!==e.customHomepage&&this.setState({inputValue:this.props.customHomepage})}},{key:"renderNoAuth",value:function(){var e=this,t="Upgrade to unlock this feature",a=Object($e.g)(this.props.account.subscription)&&!this.props.whitelabeled;return r.a.createElement(v.Alert,{className:"DomainSettings__noAuth",bgColor:"var(--color-blue-50)",image:r.a.createElement(v.Illustration,{size:"tiny",color:"#2c96df",name:"ill-upgrade"}),noBorder:!0},r.a.createElement(v.Text,{size:"small"},"Add a custom main landing page to redirect users to your main domain."," ",a?r.a.createElement(v.Button,{theme:"link",onClick:function(){return e.setState({showUpsellDomain:!0})},label:t}):r.a.createElement(Ae.a,{size:"lg",href:"#",to:"/pricing"},t)))}},{key:"renderCustomHomepage",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail word-break"},this.props.customHomepage),r.a.createElement("div",{className:"col-xs-12 p-0"},r.a.createElement(v.A,{size:"sm",onClick:this.openEditLanding},"Edit"))))}},{key:"renderEditingLanding",value:function(){var e=this.state,t=e.inputValue,a=e.isLoading,n=this.state.inputValue&&(t&&!zs()(t,Bs)||!(t.startsWith("https")||t.startsWith("http"))),o={value:t,name:"landing-page",placeholder:"www.yourbrandname.com",onChange:this.onChange,disableAutoCorrect:!0};return n&&(o=Object(F.a)(Object(F.a)({},o),{},{message:"Insert valid URL",theme:"warning"})),r.a.createElement("form",{onSubmit:this.handleSave},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Label,{value:"Main landing page"},r.a.createElement(v.Input,o)))),r.a.createElement("div",{className:"row between-xs m-t-16"},r.a.createElement("div",{className:C()({"col-xs-6":!a,"col-xs-12":a})},r.a.createElement(v.Button,{type:"submit",label:"Save",size:"md",theme:"primary",isLoading:a,disabled:n,block:!0})),!a&&r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Button,{label:"Cancel",size:"md",onClick:this.closeEditLanding,block:!0}))))}},{key:"renderEmptyCustomHomepage",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Button,{label:"Add custom URL",onClick:this.openEditLanding}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark m-t-16"},"Use a custom URL to serve as a default page for people attempting to visit your domain."," ",r.a.createElement(v.A,{rel:"noopener noreferrer",target:"_blank",size:"md",href:"https://support.rebrandly.com/hc/en-us/articles/115000823714-What-Is-a-404-Page-Redirect"},"Learn more")))))}},{key:"renderContent",value:function(){return this.props.whitelabeled?this.state.edit?this.renderEditingLanding():this.props.customHomepage?this.renderCustomHomepage():this.renderEmptyCustomHomepage():this.renderNoAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Main landing page")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},this.renderContent())),r.a.createElement(v.Modal,{isOpen:this.state.showUpsellDomain,onClose:function(){return e.setState({showUpsellDomain:!1})},showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(Us,{onUpgrade:function(){return e.setState({showUpsellDomain:!1})}}))))}}]),a}(n.PureComponent),Gs={require_protocol:!0,require_valid_protocol:!1,require_tld:!0,allow_trailing_dot:!0,allow_underscores:!0,showUpsellDomain:!1},Hs=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1,inputValue:e.props.custom404||"",isLoading:!1},e.onChange=function(t){return e.setState({inputValue:t})},e.handleSave=function(t){t.preventDefault(),e.setState({isLoading:!0}),e.props.onSave404(e.state.inputValue).then(e.closeEdit).catch((function(){})).finally((function(){return e.setState({isLoading:!1})}))},e.openEdit=function(t){t&&t.preventDefault(),e.setState({edit:!0})},e.closeEdit=function(){return e.setState({edit:!1})},e}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(e){e.custom404!==this.props.custom404&&this.props.custom404!==this.state.inputValue&&this.setState({inputValue:this.props.custom404})}},{key:"renderNoAuth",value:function(){var e=this,t="Upgrade to unlock this feature",a=Object($e.g)(this.props.account.subscription)&&!this.props.whitelabeled;return r.a.createElement(v.Alert,{className:"DomainSettings__noAuth",bgColor:"var(--color-blue-50)",image:r.a.createElement(v.Illustration,{size:"tiny",color:"#2c96df",name:"ill-upgrade"}),noBorder:!0},r.a.createElement(v.Text,{size:"small"},"Set a custom landing page if users try to visit a link that's broken, misspelled or has been removed."),a?r.a.createElement(v.Button,{theme:"link",onClick:function(){return e.setState({showUpsellDomain:!0})},label:t}):r.a.createElement(Ae.a,{size:"lg",href:"#",to:"/pricing"},t))}},{key:"renderEmpty404",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Button,{label:"Add custom URL",onClick:this.openEdit}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark m-t-16"},"Use a custom URL to serve as default page for people visiting links which do not exist anymore. ",r.a.createElement(v.A,{rel:"noopener noreferrer",target:"_blank",size:"md",href:"https://support.rebrandly.com/hc/en-us/articles/115000823714-What-Is-a-404-Page-Redirect"},"Learn more")))))}},{key:"render404",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark word-break"},this.props.custom404)),r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.A,{size:"sm",onClick:this.openEdit},"Edit")))))}},{key:"renderEditing404",value:function(){var e=this.state.inputValue&&(this.state.inputValue&&!zs()(this.state.inputValue,Gs)||!(this.state.inputValue.startsWith("https")||this.state.inputValue.startsWith("http"))),t={value:this.state.inputValue,name:"404-page",placeholder:"https://www.yourbrandname.com",onChange:this.onChange,disableAutoCorrect:!0};return e&&(t=Object(F.a)(Object(F.a)({},t),{},{message:"Insert valid URL",theme:"warning"})),r.a.createElement("form",{onSubmit:this.handleSave},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Label,{value:"404 redirection"},r.a.createElement(v.Input,t)))),r.a.createElement("div",{className:"row between-xs m-t-16"},r.a.createElement("div",{className:C()({"col-xs-6":!this.state.isLoading,"col-xs-12":this.state.isLoading})},r.a.createElement(v.Button,{type:"submit",label:"Save",size:"md",theme:"primary",isLoading:this.state.isLoading,disabled:e,block:!0})),!this.state.isLoading&&r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Button,{label:"Cancel",size:"md",onClick:this.closeEdit,block:!0}))))}},{key:"renderContent",value:function(){return this.props.whitelabeled?this.state.edit?this.renderEditing404():this.props.custom404?this.render404():this.renderEmpty404():this.renderNoAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Custom 404 redirection")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},this.renderContent())),r.a.createElement(v.Modal,{isOpen:this.state.showUpsellDomain,onClose:function(){return e.setState({showUpsellDomain:!1})},showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(Us,{onUpgrade:function(){return e.setState({showUpsellDomain:!1})}}))))}}]),a}(n.PureComponent),qs=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,csv:null,data:[],isOpen:n.props.location.pathname.endsWith("/broken"),hasBrokenLinksFeature:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({hasBrokenLinksFeature:Object(qe.hasFeature)("extra.domain_404_clicks_tracking",c()(this.props.account,"subscription.features"))},(function(){e.state.hasBrokenLinksFeature?Object(b.Jb)(e.props.domain.id).then((function(t){e.setState({isLoading:!1,csv:t.download.csv})})).catch((function(){return e.setState({isLoading:!1})})):e.setState({isLoading:!1})}))}},{key:"renderNoAuth",value:function(){var e=this;return r.a.createElement(v.Alert,{bgColor:"var(--color-blue-50)",image:r.a.createElement(v.Illustration,{size:"tiny",color:"#2c96df",name:"ill-upgrade"}),noBorder:!0},r.a.createElement(v.Text,{size:"small"},"Monitor and repair broken links for this domain name."),r.a.createElement(v.Button,{theme:"link",onClick:function(){return e.props.history.push({pathname:"/contact-us",search:"ref=Broken-links-domain",state:{modal:!0}})},label:"Contact sales to unlock this feature"}))}},{key:"render404",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"row"},r.a.createElement(v.Tooltip,{placement:"left",overlay:"No broken links detected on ".concat(this.props.domain.fullName),display:!this.state.csv},r.a.createElement("div",{className:"col-xs-12 Text--SubTitle"},r.a.createElement(v.Button,{disabled:!this.state.csv,label:"Manage broken links",onClick:function(){return e.setState({isOpen:!0},(function(){e.props.history.push({pathname:"/domains/".concat(e.props.domain.id,"/broken"),state:{modal:!0}})}))}}),"\xa0\xa0or\xa0\xa0",r.a.createElement(v.A,{disabled:!this.state.csv,size:"md",href:this.state.csv},"Export CSV")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark m-t-16"},"A list of links created with this domain name that are no longer working, you might want to take action and point them to a specific destination.")))))}},{key:"renderContent",value:function(){return this.state.isLoading?r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Loading,null)):this.state.hasBrokenLinksFeature?this.render404():this.renderNoAuth()}},{key:"render",value:function(){return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Broken links")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},this.renderContent()))}}]),a}(n.PureComponent),Vs=Object(s.g)(qs),Ys=function(e){var t=e.fullName,a=e.onDelete;return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Remove")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},r.a.createElement(v.Button,{theme:"deleteInverted",label:"Remove ".concat(t," from Rebrandly"),onClick:a})))},Ks=a(391),Js=a(372),Qs=a.n(Js),Xs=a(53),Zs=a.n(Xs),$s=a(729),ei=a.n($s),ti=a(493),ai=(a(1397),function(e){var t=Object(n.useState)(null),a=Object(sn.a)(t,2),o=a[0],s=a[1],i=Object(n.useState)(!1),c=Object(sn.a)(i,2),l=c[0],u=c[1],p=Object(n.useState)(!1),d=Object(sn.a)(p,2),h=d[0],b=d[1],f=Object(n.useState)(!1),g=Object(sn.a)(f,2),E=g[0],y=g[1],k=Object(n.useState)(!1),O=Object(sn.a)(k,2),w=O[0],j=O[1],C=Object(n.useState)(""),N=Object(sn.a)(C,2),S=N[0],x=N[1],L=Object(n.useState)(e.settings.options.colorLight),_=Object(sn.a)(L,2),D=_[0],A=_[1],I=Object(n.useState)(e.settings.options.colorDark),M=Object(sn.a)(I,2),R=M[0],P=M[1],z=Object(n.useState)(e.settings.options.logoRatio),F=Object(sn.a)(z,2),U=F[0],B=F[1],W=Object(n.useState)(e.settings.options.size),G=Object(sn.a)(W,2),H=G[0],q=G[1],V=Object(n.useState)(!1),Y=Object(sn.a)(V,2),K=Y[0],J=Y[1],Q=Object(n.useRef)(null),X=Object(Ks.a)(D,750,{maxWait:1e3}),Z=Object(Ks.a)(R,750,{maxWait:1e3}),$=Object(Ks.a)(U,750,{maxWait:1e3}),ee=Object(n.useMemo)((function(){var t=e.settings.logo+Math.random(),a="".concat(m.a.api.middleware.qrcodeGenerator.baseUrl,"/qrcode?size=").concat(128,"&colorDark=").concat(encodeURIComponent(Z),"&colorLight=").concat(encodeURIComponent(X),"&dummy=").concat(t,"&source=com.rebrandly.app");return S?a+"&shortUrl=https%3A%2F%2Fexample.com":a+"&shortUrl=https%3A%2F%2F".concat(encodeURIComponent(e.domain.fullName),"&logoRatio=").concat($)}),[Z,X,$,e.domain.fullName,S,e.settings.logo]),te=function(){var t=Qs()({colorDark:R,colorLight:D,logoRatio:U,size:H},(function(e){return e})),a=[];return ei()(t,(function(t,n){e.settings.options[n]===t&&a.push(n)})),Zs()(t,a)},ae=function(){j(!1),u(!1),s(null),x(""),A(e.settings.options.colorLight),P(e.settings.options.colorDark),B(e.settings.options.logoRatio),q(e.settings.options.size)},ne=function(){e.settings.logo&&(b(!0),e.onDeleteLogo(e.domain.id).then((function(){u(!1),s(null),x("")})).finally((function(){b(!1),Q.current&&Q.current.hideModal()})))},re=r.a.createElement("span",null,"Drag and drop the file, or ",r.a.createElement("span",{className:"UploadFile__text--engage font-semibold"},"Select from computer")," "),oe=r.a.createElement(v.Icon,{name:"ic-file",color:"#c7c9cb",size:"sm"});o&&(oe=K?oe:r.a.createElement(v.Icon,{name:"ic-success",color:"#02af63",size:"sm"}),re=K?re:r.a.createElement("span",null,o.name," ",r.a.createElement("span",{className:"UploadFile__text--engage font-semibold"},"edit")," "));var se=!K&&(!T()(te())||o),ie=r.a.createElement("div",{className:"QR__code-container"},r.a.createElement("img",{src:ee,alt:"qr-code"}),S&&r.a.createElement("img",{src:S,alt:"qr-logo",width:1/U*128}));return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"QR code template")),r.a.createElement("div",{className:"flex col-xs-12 col-md-9"},ie,r.a.createElement("div",{className:"m-l-24"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark"},"Customize the QR code template for this branded domain, choose colors, size and a logo."),r.a.createElement(v.Button,{className:"m-t-24",label:"Customize",onClick:function(){return j(!0)}}))),r.a.createElement(v.Modal,{isOpen:w,size:"lg",onClose:ae,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{size:"large",className:"Text-Title font-light m-b-12"},"QR code template"),r.a.createElement("div",{className:"QR__modal-content flex m-t-24"},r.a.createElement("div",{className:"QR__settings p-r-12"},r.a.createElement("div",{className:"row"},r.a.createElement(v.Label,{className:"col-xs-6",value:"Background color"},r.a.createElement(ti.a,{color:D||"#ffffff",onType:function(e){return A(e)},onChangeComplete:function(e){var t=e.hex;return A(t)}})),r.a.createElement(v.Label,{className:"col-xs-6",value:"Foreground color"},r.a.createElement(ti.a,{color:R||"#000000",onType:function(e){return P(e)},onChangeComplete:function(e){var t=e.hex;return P(t)}}))),r.a.createElement("div",{className:"QR__settings--logo flex middle-xs m-t-24"},S&&!K||e.settings.logo?r.a.createElement(n.Fragment,null,r.a.createElement(v.Label,{value:"Logo size",tooltip:{overlay:r.a.createElement("span",null,"Be careful to cover the logo surface as",r.a.createElement("br",null),"little as possible, in order to keep the",r.a.createElement("br",null),"margin of error low.")}},r.a.createElement("div",{className:"row middle-xs"},r.a.createElement("div",{className:"col-xs-3"},r.a.createElement(v.Tag,{color:"var(--color-grey-400)"},r.a.createElement(v.Text,{size:"small",className:"Text--Negative"},U))),r.a.createElement("div",{className:"col-xs"},r.a.createElement(v.Slider,{min:"1",max:"8",step:"0.1",value:U,onChange:function(e){return B(+e)},disabled:!(S||e.settings.logo)})))),function(){var t=r.a.createElement(v.Button,{label:"Delete logo",theme:"deleteInverted",onClick:function(){u(!1),s(null),x("")},block:!0});return e.settings.logo?r.a.createElement(De.a,{ref:Q,icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Are you sure?",message:"The logo you previously uploaded will be permanently deleted.",disabled:!(S||e.settings.logo),primaryButtonProps:{label:"Delete",theme:"delete",isLoading:h,onClick:ne},secondaryButtonProps:{label:"Cancel"}},t):t}()):r.a.createElement("div",{className:"QR__settings--input-logo"},r.a.createElement(v.InputFilesUpload,{name:"qr-code-logo",title:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail font-semibold"},"Upload a logo"),subtitle:r.a.createElement(v.Text,{size:"x-small",className:"Text--SubDetail m-l-4"},"(PNG format, Max size 2MB, 1536 x 2048)"),text:re,icon:oe,filesType:"image/png",onChange:function(e){e.preventDefault(),u(!0);var t=new FileReader,a=e.target.files[0];a?(t.onloadend=function(){var e=0!==a.type.indexOf("image/png"),n=a.size>2e6,r=new Image;r.src=window.URL.createObjectURL(a),r.onload=function(){var o=r.naturalWidth,i=r.naturalHeight;window.URL.revokeObjectURL(r.src);var c=e||n||(o>1536||i>2048);u(!1),s(a),x(t.result),J(c)}},t.readAsDataURL(a)):u(!1)},cancelLoad:function(){u(!1),s(null),x("")},isUploading:l,error:K,message:K&&"Invalid file"})))),r.a.createElement("div",{className:"QR__preview p-l-12"},r.a.createElement(v.Label,{value:"QR code preview"},ie))),r.a.createElement("div",{className:"Button__list m-t-48"},r.a.createElement(v.Button,{label:"Cancel",onClick:ae}),r.a.createElement(v.Button,{label:"Save",theme:"primary",onClick:function(){y(!0);var t=te();e.onSubmit(o,t).then((function(){u(!1),s(null),x(""),j(!1)})).finally((function(){return y(!1)}))},isLoading:E,disabled:!se}))))))}),ni=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.onToggle,o=t.addressing,s=t.isManaged,i=this.state.isLoading,c="anycast"===o;return r.a.createElement(n.Fragment,null,r.a.createElement(De.a,{ref:function(t){return e.confirmFasterRedirect=t},icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:c?"Deactivate faster redirect?":"Activate faster redirect?",message:c?r.a.createElement("span",null,"You can reactivate this feature anytime. ",r.a.createElement(v.A,{size:"small",href:"https://support.rebrandly.com/hc/en-us/articles/360034250693-How-to-Get-Faster-Redirects-with-Branded-Domains",target:"_blank"},"Learn more")):r.a.createElement("span",null,"Proceeding will increase the speed of redirects for links created with this domain, however you will lose access to geo-tracking, geo-targeting and bot detection.",r.a.createElement("br",null),r.a.createElement("br",null),"You will not be able to recover this legacy data in the future. ",r.a.createElement(v.A,{size:"small",href:"https://support.rebrandly.com/hc/en-us/articles/360034250693-How-to-Get-Faster-Redirects-with-Branded-Domains",target:"_blank"},"Learn more")),primaryButtonProps:{label:c?"Deactivate":"Activate",theme:"delete",isLoading:i,disabled:i,onClick:function(t){e.setState({isLoading:!0}),a(t).then((function(){s&&(e.setState({isLoading:!1}),e.confirmFasterRedirect.hideModal())}))}}},r.a.createElement(v.Label,{className:"m-b-8",value:"Faster redirect"},r.a.createElement(v.Toggle,{checked:c}))),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Branded links created with this domain name will redirect much faster but it will not be possible to use geo-targeting or get click stats by country. ",r.a.createElement(v.A,{target:"_blank",size:"md",href:"https://support.rebrandly.com/hc/en-us/articles/360034250693-How-to-Get-Faster-Redirects-with-Branded-Domains"},"Learn more")))}}]),a}(n.Component),ri=(a(1398),function(e){var t=e.hostnames,a=e.fullName;return r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"Domain Configuration")),r.a.createElement("div",{className:"col-xs-12 col-md-9"},r.a.createElement("div",{className:"DomainSettings__content"},r.a.createElement(mn,{hostnames:t,fullName:a}),r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--grayDark m-t-16"},"Not sure how to do this?\xa0",r.a.createElement(v.A,{rel:"noopener noreferrer",target:"_blank",size:"md",href:"https://support.rebrandly.com/hc/en-us/articles/360011044397"},"Learn more")))))}),oi=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Divider,{type:"subsection"})))},si=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).restartDNS=function(t){t.preventDefault(),e.props.onRestartDNS()},e}return Object(y.a)(a,[{key:"renderDNSAlert",value:function(){var e=Object(rn.n)(this.props.domain);if(new Date>new Date(c()(this.props.domain,"expiresAt")))return r.a.createElement(v.Alert,{title:"Your domain is expired",status:"success"},r.a.createElement(v.Text,{size:"small"},"To continue using this domain you must renew it while it's still available. ",r.a.createElement("br",null),r.a.createElement(Ae.a,{size:"lg",onClick:this.props.onRenew},"Renew now")," or you risk losing it!"));var t=c()(this.props.domain,"managed",!1)||c()(this.props.domain,"parent.managed",!1);if(t&&c()(this.props.domain,"status.subscription")===rn.j)return r.a.createElement(v.Alert,{title:"Something went wrong while registering your domain name",status:"error"},r.a.createElement(v.Text,{size:"small"},"We\u2019re working on fixing it and will be in touch soon to assist further."));var a=c()(this.props.domain,"status.dns"),n=3===c()(this.props.domain,"level")?"https://rebrandly.support/DNS-subdomain":"https://rebrandly.support/DNS",o=r.a.createElement("span",{key:"dns-verifying-external"},"It seems that this domain name is not redirecting 404 traffic to the alias. Please double check the configuration. ",r.a.createElement(Ae.a,{rel:"noopener noreferrer",size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360011044397",target:"_blank"},"Learn more"));switch(a){case rn.e:return r.a.createElement(v.Alert,{title:"Domain active and ready to be used!",status:"success"});case rn.f:return e?r.a.createElement(v.Alert,{title:"Domain connection is not active",status:"warning"},o):t?r.a.createElement(v.Alert,{title:"Activation in progress",status:"warning"},r.a.createElement(v.Text,{size:"small"},"We'll email you once your domain is active and ready to be used.")):r.a.createElement(v.Alert,{title:"DNS not yet verified!",status:"warning"},r.a.createElement("span",{key:"dns-verifying-external"},"Propagation can take up to 24 hours, we'll email you once it's complete. Please ensure you've entered the correct A records. ",r.a.createElement(Ae.a,{rel:"noopener noreferrer",size:"lg",href:n,target:"_blank"},"Learn more")));case rn.d:return e?r.a.createElement(v.Alert,{title:"Domain connection is not active",status:"warning"},o):t?r.a.createElement(v.Alert,{title:"Domain suspended",status:"error"},r.a.createElement(v.Text,{size:"small"},"It seems that the ",r.a.createElement("b",null,".",c()(this.props.domain,"topLevelDomain"))," Registry has put this domain on hold. ",r.a.createElement(v.A,{size:"lg",href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},"Contact us"))):r.a.createElement(v.Alert,{title:"It seems the DNS configuration of your domain name is not correct",status:"error"},r.a.createElement("span",{key:"dns-unverified-external"},"Please ensure you've entered the correct ",r.a.createElement(v.A,{size:"lg",target:"_blank",href:n,rel:"noopener noreferrer"},"A records")," and request to ",r.a.createElement(v.A,{size:"lg",onClick:this.restartDNS},"restart DNS verification")));default:return null}}},{key:"render",value:function(){var e=this,t=c()(this.props.domain,"id"),a=c()(this.props.domain,"status"),o=c()(this.props.domain,"managed"),s=Object(rn.n)(this.props.domain),i=c()(this.props.domain,"parent.managed"),l=c()(this.props.domain,"routing.addressing");return r.a.createElement("section",{className:"DomainSettings"},r.a.createElement("div",{className:"row m-t-36"},r.a.createElement("div",{className:"col-xs-12"},this.renderDNSAlert())),!o&&!i&&!s&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"DNS Configuration")),r.a.createElement("div",{className:"col-xs-12 m-t-4"},r.a.createElement(v.Text,{size:"x-small",className:"DomainSettings__text"},"(Expert only)")))),r.a.createElement("div",{className:"col-xs-12 col-md-9 m-t-4"},r.a.createElement(on,{domain:this.props.domain,addressing:l}),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(ni,{addressing:l,onToggle:this.props.onToggleFastRedirect})))),r.a.createElement(oi,null)),o&&"active"===c()(a,"subscription")&&r.a.createElement(n.Fragment,null,r.a.createElement(_s,{status:a,expiresAt:c()(this.props.domain,"expiresAt"),autorenew:c()(this.props.domain,"autorenew"),onRenew:this.props.onRenew,onAutoRenew:function(t){return e.props.updateDomain(rn.a,t)}}),r.a.createElement(oi,null)),s&&r.a.createElement(n.Fragment,null,r.a.createElement(ri,{fullName:this.props.domain.fullName,hostnames:c()(this.props.domain,"routing.hostnames",[])}),r.a.createElement(oi,null)),r.a.createElement(Ms,{domainId:this.props.domain.id,createNotification:this.props.createNotification}),r.a.createElement(oi,null),r.a.createElement(Ws,{whitelabeled:this.props.hasMainLanding,customHomepage:c()(this.props.domain,"customHomepage"),onSaveLandingPage:function(t){return e.props.updateDomain(rn.h,t)},account:this.props.account}),r.a.createElement(oi,null),r.a.createElement(n.Fragment,null,r.a.createElement(Rs,{id:t,domain:this.props.domain,https:"https"===c()(this.props.domain,"sharing.protocol.default","https"),encryption:c()(a,"encryption"),aliased:s,hasCustomSSLFeature:this.props.hasCustomSSL,onToggleHttps:function(t){return e.props.updateDomain(rn.g,t)}}),r.a.createElement(oi,null)),r.a.createElement(Hs,{whitelabeled:this.props.hasCustom404,custom404:c()(this.props.domain,"custom404"),onSave404:function(t){return e.props.updateDomain(rn.c,t)},account:this.props.account}),r.a.createElement(oi,null),r.a.createElement(Vs,{domain:this.props.domain,account:this.props.account}),r.a.createElement(oi,null),o&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row p-t-36 p-b-36"},r.a.createElement("div",{className:"col-xs-12 col-md-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(v.Text,{size:"small",className:"DomainSettings__text DomainSettings__text--strong"},"DNS Configuration")),r.a.createElement("div",{className:"col-xs-12 m-t-4"},r.a.createElement(v.Text,{size:"x-small",className:"DomainSettings__text"},"(Expert only)")))),r.a.createElement("div",{className:"col-xs-12 col-md-9 m-t-4"},r.a.createElement(ni,{isManaged:!0,addressing:l,onToggle:this.props.onToggleFastRedirect}))),r.a.createElement(oi,null)),r.a.createElement(ai,{domain:this.props.domain,onSubmit:this.props.onSaveQrCode,onDeleteLogo:this.props.onDeleteLogo,settings:this.props.qrCodeSettings}),r.a.createElement(oi,null),!o&&r.a.createElement(n.Fragment,null,r.a.createElement(Ys,{fullName:c()(this.props.domain,"fullName"),onDelete:function(){return e.props.onDelete(e.props.domain)}}),r.a.createElement(oi,null)))}}]),a}(n.PureComponent),ii=a(506),ci=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showDeleteModal:!1,currentDomain:!1,loading:!0,isDeleting:!1,qrCodeSettings:{}},e.openModal=function(t){return e.setState({showDeleteModal:!0,currentDomain:t})},e.closeModal=function(){return e.setState({showDeleteModal:!1})},e.handleRenew=function(t){t&&t.preventDefault(),e.props.history.push("/checkout/renew/".concat(e.props.id))},e.handleDeleteQrCodeLogo=function(){return Object(b.hb)(e.props.domain.id).then((function(t){e.setState({qrCodeSettings:Object(F.a)(Object(F.a)({},e.state.qrCodeSettings),{},{logo:t.logo})}),e.props.createNotification(q.h,"QR Code logo deleted")})).catch((function(t){var a=c()(t,"e.response.data.message","Generic error");return e.props.createNotification(q.b,a)}))},e.handleSaveQrCode=function(t,a){var n=[];return T()(a)||n.push(Object(b.Vd)(e.props.domain.id,a)),t&&n.push(Object(b.Uc)(e.props.domain.id).then((function(e){var a=new File([t],e.filename,{type:t.type});return Object(ii.k)(e.signedRequest,a)}))),Promise.all(n).then((function(n){var r=e.state.qrCodeSettings.options,o=e.state.qrCodeSettings.logo;T()(a)||(r=n[0]),t&&(o=!0),e.setState({qrCodeSettings:{options:r,logo:o}}),e.props.createNotification(q.h,"QR Code updated")})).catch((function(t){if(!t.response.data.errors){var a=c()(t,"e.response.data.message","Generic error");return e.props.createNotification(q.b,a)}t.response.data.errors.map((function(t){var a=c()(t,"message","Generic error");return e.props.createNotification(q.b,a)}))}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.props.loadDomain(this.props.id),Object(b.fc)(this.props.id)]).then((function(t){return e.setState({loading:!1,qrCodeSettings:t[1]})})).catch((function(){return e.props.history.push("/not-found")}))}},{key:"renderConfirmDeleteModal",value:function(){var e=this,t=this.state,a=t.currentDomain,n=a.id,o=a.fullName,s=t.showDeleteModal,i=this.props,c=i.deleteDomain,l=i.history,u=i.onForceClose;return r.a.createElement(he.a,{isOpen:s,onClose:this.closeModal,icon:{name:"ic-warning",color:"#f6852f",size:"sm"},title:"Remove domain?",message:r.a.createElement("span",null,"Removing ",r.a.createElement("b",null,o)," will result in the permanent deletion of this domain and all of the links associated with it. You will not be able to recover this information in the future."),primaryButtonProps:{label:"Remove",theme:"delete",isLoading:this.state.isDeleting,onClick:function(){e.setState({isDeleting:!0}),c(n).then((function(){e.setState({isDeleting:!1}),u?u():l.push("/domains")}))}},secondaryButtonProps:{label:"Cancel",onClick:this.closeModal}})}},{key:"componentDidUpdate",value:function(e){var t=c()(e.domain,"routing.addressing");if(t){var a=c()(this.props.domain,"routing.addressing");c()(this.props.domain,"managed")||c()(this.props.domain,"parent.managed")||t===a||this.props.history.push({pathname:"/success/external",state:{domain:this.props.domain,addressing:a}})}}},{key:"toggleFastRedirect",value:function(){var e=c()(this.props.domain,"routing.addressing");return"unicast"===e?this.props.makeAnycastDomain(this.props.id):"anycast"===e?this.props.makeUnicastDomain(this.props.id):void 0}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement(v.Loading,{size:"lg",label:"Loading..."});if(T()(this.props.domain))return!1;var t=c()(this.props.domain,"fullName"),a=c()(this.props.domain,"managed")||c()(this.props.domain,"parent.managed"),o=Object(rn.n)(this.props.domain),s=c()(this.props.domain,"createdAt");return r.a.createElement(n.Fragment,null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),r.a.createElement(Ts,{fullName:t,managed:a,aliased:o,createdAt:s}),r.a.createElement(si,{createNotification:this.props.createNotification,domain:this.props.domain,hasMainLanding:this.props.hasMainLanding,hasCustom404:this.props.hasCustom404,hasCustomSSL:this.props.hasCustomSSL,updateDomain:function(t,a){return e.props.updateDomain(e.props.id,t,a)},onDelete:function(t){return e.openModal(t)},onRenew:this.handleRenew,onToggleFastRedirect:function(t){return e.toggleFastRedirect(t,e.props.id)},onRestartDNS:function(){return e.props.restartDnsVerification(e.props.id)},onSaveQrCode:this.handleSaveQrCode,onDeleteLogo:this.handleDeleteQrCodeLogo,qrCodeSettings:this.state.qrCodeSettings,account:this.props.account}))}}]),a}(n.PureComponent),li=Object(s.g)(Object(w.b)((function(e,t){return{account:e.account,domain:c()(e.accountDomains.items,"[".concat(t.id,"]"),{}),hasMainLanding:Object(qe.hasFeature)("domains.whitelabeled.homepage",c()(e.account,"subscription.features")),hasCustom404:Object(qe.hasFeature)("domains.whitelabeled.fallback",c()(e.account,"subscription.features")),hasCustomSSL:Object(qe.hasFeature)("domains.customSSL",c()(e.account,"subscription.features"))}}),(function(e,t){return{loadDomain:function(t){return e(Object(sa.d)(t))},updateDomain:function(t,a,n){return e(Object(sa.o)(t,a,n)).then((function(){return e(Object(W.a)(q.h,"Domain detail updated"))}))},updateSubdomainsHomepage:function(t,a){return e(Object(sa.p)(t,a)).then((function(){return e(Object(W.a)(q.h,"Updated","Domain detail updated successfully."))}))},deleteDomain:function(t){return e(Object(sa.b)(t)).then((function(){return e(Object(W.a)(q.f,"Domain removed"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while removing domain")),t}))},restartDnsVerification:function(t){return e(Object(sa.i)(t)).then((function(){return e(Object(W.a)(q.h,"DNS verification restarted"))}))},makeUnicastDomain:function(t){return e(Object(sa.g)(t)).then((function(){return e(Object(W.a)(q.f,"Faster redirect disabled."))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while disabling")),t}))},makeAnycastDomain:function(t){return e(Object(sa.f)(t)).then((function(){return e(Object(W.a)(q.h,"Faster redirect activated."))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while activating")),t}))},createNotification:function(t,a){return e(Object(W.a)(t,a))}}}))(ci)),ui=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(li,{id:c()(t.params,"id")}))},mi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(li,{id:this.props.match.params.id,onForceClose:this.back})))}}]),a}(n.PureComponent),pi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement(v.Loading,{size:"lg",label:"Logging out",withMargin:!0})}}]),a}(n.PureComponent),di=Object(w.b)(null,(function(e){return{logout:function(){return e(Object(N.e)())}}}))(pi),hi=function(){return r.a.createElement(di,null)},bi=a(689),fi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,onClose:this.back,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(bi.a,null)))}}]),a}(n.PureComponent),gi=(a(1400),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleAddToCart=function(){return e.props.onAddDealToCart(e.props.selectedDeal.id)},e}return Object(y.a)(a,[{key:"getLeftFeatures",value:function(){var e=Object(He.d)(this.props.currentSubscription),t=Object(He.d)(this.props.selectedPlan);return e.filter((function(e){return e.selected===!t.find((function(t){return t.key===e.key})).selected})).map((function(e){var a=t.find((function(t){return t.key===e.key}));return!e.selected&&a.selected?{label:"-"}:e}))}},{key:"getRightFeatures",value:function(){var e=Object(He.d)(this.props.currentSubscription);return Object(He.d)(this.props.selectedPlan).filter((function(t){return e.find((function(e){return e.key===t.key})).selected===!t.selected})).map((function(t){return e.find((function(e){return e.key===t.key})).selected&&!t.selected?Object(F.a)(Object(F.a)({},t),{},{removed:!0}):Object(F.a)(Object(F.a)({},t),{},{added:!0})}))}},{key:"renderCurrentPlanBox",value:function(){var e=this.props.currentSubscription,t=Object($e.f)(e),a=this.getLeftFeatures(),n=c()(e,"billing.cycle.price.net"),o=c()(e,"billing.cycle.recurrence.unit"),s=c()(e,"billing.cycle.recurrence.units"),i=s>1?"".concat(s," ").concat(Z()(o,s)):o;return r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("article",{className:"DealComparator__box full-height"},r.a.createElement(v.Text,{className:"DealComparatorBox__title text-uppercase"},"Current plan"),r.a.createElement(v.Text,{className:"DealComparatorBox__price"},"$ ",r.a.createElement("span",null,n),o&&s&&"/".concat(i)),r.a.createElement("ul",{className:"DealComparator__list"},t.map((function(e){var t=Z()(e.label,e.count.included);return r.a.createElement("li",{key:e.id,className:"DealComparator__item"},r.a.createElement("b",null,Object(ct.formatNumber)(e.count.included))," ",e.suffix?"".concat(t," ").concat(e.suffix):t)})),a.map((function(e,t){return r.a.createElement("li",{key:t,className:"DealComparator__item"},e.label)})))))}},{key:"renderNewPlanBox",value:function(){var e=this.props,t=e.selectedDeal,a=e.selectedPlan,n=e.currentSubscription,o=Object($e.f)(n),s=Object($e.f)(a),i=this.getRightFeatures(),l=c()(t,"cycle.price.net"),u=c()(t,"cycle.recurrence.unit"),m=c()(t,"cycle.recurrence.units"),p=m>1?"".concat(m," ").concat(Z()(u,m)):u;return r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("article",{className:"DealComparator__box DealComparator__box--new full-height"},r.a.createElement(v.Text,{className:"DealComparatorBox__title text-uppercase"},"New plan"),r.a.createElement(v.Text,{className:"DealComparatorBox__price"},"$ ",r.a.createElement("span",null,l),u&&m&&"/".concat(p)),r.a.createElement("ul",{className:"DealComparator__list"},s.map((function(e){var t=Z()(e.label,e.count.included);return r.a.createElement("li",{key:e.id,className:C()("DealComparator__item",{"DealComparator__item--decreased":c()(o.find((function(t){return t.id===e.id})),"count.included",0)>e.count.included})},r.a.createElement("b",null,Object(ct.formatNumber)(e.count.included))," ",e.suffix?"".concat(t," ").concat(e.suffix):t)})),i.map((function(e,t){return r.a.createElement("li",{key:t,className:C()("DealComparator__item",{"DealComparator__item--removed":e.removed})},r.a.createElement(v.Tooltip,{overlay:e.description},r.a.createElement("span",{className:"inline"},e.label)))})))))}},{key:"render",value:function(){this.props.skipComparison&&this.handleAddToCart();var e=this.props,t=e.selectedPlan,a=e.currentSubscription,n=fe()(fe()()).diff(fe()(a.createdAt),"days")<7;return r.a.createElement("section",{className:"DealContainer"},n&&!Object($e.g)(a)&&r.a.createElement(v.Alert,{className:"m-b-16",title:"Warning",status:"warning"},r.a.createElement("span",null,"You\u2019re already subscribed to a ",r.a.createElement("b",null,Object(ct.capitalize)(a.category))," plan (created ",r.a.createElement("b",null,Object(je.a)(a.createdAt,"past",!1)),", next billing due on ",r.a.createElement("b",null,Object(je.a)(a.billing.cycle.expiresAt),")"),", are you sure you want to purchase this ",r.a.createElement("b",null,Object(ct.capitalize)(t.category))," subscription?",r.a.createElement("br",null),"Please don\u2019t hesitate to  ",r.a.createElement(Ae.a,{size:"lg",to:{pathname:"/contact-us",state:{modal:!0}}},"contact us")," if you\u2019re experiencing trouble with the checkout process.")," "),r.a.createElement(v.Text,{size:"x-large",className:"Text-Title m-b-36"},"What will change in your plan"),r.a.createElement("div",{className:"DealComparator"},r.a.createElement("div",{className:"row"},this.renderCurrentPlanBox(),this.renderNewPlanBox())),r.a.createElement("div",{className:"row end-xs m-t-64"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Button,{label:"Next",size:"lg",onClick:this.handleAddToCart,block:!0}))))}}]),a}(n.PureComponent)),vi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,plan:null,deal:null},e.setPlanAndDeal=function(t,a){var n=t.deals.find((function(e){return e.id===a}));n&&e.setState({plan:t,deal:n})},e.handleAddDealToCart=function(t){return e.props.history.push({pathname:"/checkout/plan/".concat(t)})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=this.props.planId?function(){return Object(b.bc)(t.props.planId).then((function(e){return t.setPlanAndDeal(e,t.props.dealId)})).catch((function(){return t.props.history.push("/error/not-found")}))}:function(){return Object(b.dc)().then((function(e){e.forEach((function(e){return t.setPlanAndDeal(e,t.props.dealId)}))}))},this.setState({isLoading:!0}),e().catch((function(){})).finally((function(){return t.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement(v.Loading,null):this.props.currentSubscription&&this.state.plan&&this.state.deal?r.a.createElement(gi,{currentSubscription:this.props.currentSubscription,selectedDeal:this.state.deal,selectedPlan:this.state.plan,onAddDealToCart:function(t){return e.handleAddDealToCart(t)},skipComparison:this.props.skipComparison}):null}}]),a}(n.PureComponent),Ei=Object(s.g)(Object(w.b)((function(e){return{currentSubscription:e.account.subscription}}),null)(vi)),yi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.history.location,t=e.pathname,a=e.search,n=e.state,o=new u.a(t+a,!0),s=o.query.deal,i=o.query.plan,l=o.query.skipComparison||c()(n,"skipComparison",!1);return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(Ei,{dealId:s,planId:i,skipComparison:l})))}}]),a}(n.PureComponent),ki=function(){return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(Nn,null))},Oi=(a(1401),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showBackToTop:!1},e.shouldShowBackToTop=function(){window.scrollY>4*window.innerHeight?e.setState({showBackToTop:!0}):e.setState({showBackToTop:!1})},e.scrollToTop=function(e){e.preventDefault(),window.scrollTo(0,0)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.scrollListener=window.addEventListener("scroll",(function(){return setTimeout(e.shouldShowBackToTop,0)}))}},{key:"componentWillUnmount",value:function(){this.scrollListener&&window.removeEventListener("scroll")}},{key:"render",value:function(){return r.a.createElement("footer",{className:"Footer line-top"},r.a.createElement("div",{className:"Container--wide"},r.a.createElement("div",{className:"Footer__content"},r.a.createElement(v.Text,{size:"small",className:"Footer__copy"},r.a.createElement(v.A,{size:"lg",href:m.a.websiteUrl},"Rebrandly")," \xa9 ",(new Date).getFullYear()," - All Right Reserved."),r.a.createElement("ul",{className:"Footer__links"},r.a.createElement("li",null,r.a.createElement(v.A,{rel:"noopener noreferrer",size:"lg",href:"".concat(m.a.websiteUrl,"/terms-conditions"),target:"_blank"},"Terms & Conditions")),r.a.createElement("li",null,r.a.createElement(v.A,{rel:"noopener noreferrer",size:"lg",href:"".concat(m.a.websiteUrl,"/privacy-policy"),target:"_blank"},"Privacy Policy")),r.a.createElement("li",null,r.a.createElement(v.A,{rel:"noopener noreferrer",size:"lg",href:"https://blog.rebrandly.com/",target:"_blank"},"Blog")),r.a.createElement("li",null,r.a.createElement(Ae.a,{to:"/pricing",size:"lg"},"Pricing"))),this.state.showBackToTop&&r.a.createElement(v.A,{size:"lg",onClick:this.scrollToTop,icon:{name:"ic-back-top",position:"right"},className:"Footer__to-top"},"Back to top"))))}}]),a}(n.PureComponent)),wi=a(734),ji=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={domain:"",subdomain:"",step:1,transferStatus:null,checkedIndex:null,aliasedDomain:!1,workspace:e.props.defaultWorkspace},e.getQuestions=function(){var t=Object(nn.getSubdomain)(e.state.domain),a="\ud83d\udc4d Super! You\u2019ll be able to use this domain to create branded links";return t&&"www"!==t?[{index:0,label:"Yes, this is a spare domain.",ComponentToCheck:v.Checkbox}]:[{index:0,label:"Yes, this is a spare domain.",description:a,ComponentToCheck:v.Radio,"rb-test-id":"setup-dns-spare-domain"},{index:1,label:"No, it\u2019s being used for my website, blog, etc...",extra:r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"DoubleToggle__tabs m-t-24 m-b-24"},r.a.createElement("li",{className:C()("DoubleToggle__tab",{"DoubleToggle__tab--active":!e.state.aliasedDomain}),onClick:function(){return e.setState({aliasedDomain:!1})}},r.a.createElement(v.Text,{size:"small"},"Use a subdomain")),r.a.createElement("li",{className:"DoubleToggle__tab DoubleToggle__tab__toggle"},r.a.createElement("label",null,r.a.createElement(v.Toggle,{onChange:function(){return e.setState({aliasedDomain:!e.state.aliasedDomain})},checked:e.state.aliasedDomain}))),r.a.createElement("li",{className:C()("DoubleToggle__tab",{"DoubleToggle__tab--active":e.state.aliasedDomain}),onClick:function(){return e.setState({aliasedDomain:!0})}},r.a.createElement(v.Text,{size:"small"},"Use ",r.a.createElement("span",null,e.state.domain)," directly"))),r.a.createElement("div",{className:"m-t-8"},!e.state.aliasedDomain&&r.a.createElement(v.Text,{size:"small",className:"Text--Detail"},"Choose a name for your subdomain (link, go, click). It will look something like: link.mydomainname.com"),e.state.aliasedDomain?r.a.createElement(v.Text,{size:"small",className:"Text--Detail"},a):r.a.createElement("div",{className:"row middle-xs m-t-16"},r.a.createElement("div",{className:"col-xs-8"},r.a.createElement(v.Label,{size:"lg",value:"Subdomain"},r.a.createElement(v.Input,{value:e.state.subdomain,placeholder:"mysubdomain",onChange:e.handleChangeSubdomain}))),r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Text,{className:"Text--Detail m-t-24",singleLine:!0},".",Object(nn.getDomain)(e.state.domain)))))),ComponentToCheck:v.Radio}]},e.handleSelectAnswer=function(t){if(t===e.state.checkedIndex)return e.setState({checkedIndex:null});e.setState({checkedIndex:t})},e.handleChangeDomain=function(t){return e.setState({domain:t})},e.handleChangeSubdomain=function(t){return e.setState({subdomain:t})},e.goOnPrevStep=function(){e.setState({checkedIndex:null,subdomain:""}),e.setState({step:e.state.step-1})},e.goOnNextStep=function(){var t="www"===Object(nn.getSubdomain)(e.state.domain)?Object(nn.getDomain)(e.state.domain):e.state.domain;e.setState({domain:t,step:e.state.step+1})},e.handleSubmit=function(t){e.setState({transferStatus:"pending"}),(e.state.aliasedDomain?e.props.submitAliasedDomain(e.state.domain):e.props.submitDomain(e.state.subdomain?"".concat(e.state.subdomain,".").concat(e.state.domain):e.state.domain,t)).then((function(t){if(e.state.workspace){var a=t.value;return e.props.attachToWorkspace(a,e.state.workspace.id).then((function(){return t}))}return Promise.resolve(t)})).then((function(t){e.setState({transferStatus:null}),"managed"===c()(t,"value.parent.managed")?e.props.history.push({pathname:"/success/managed"}):e.props.history.push({pathname:"/success/external",state:{domain:t.value}})})).catch((function(){e.setState({transferStatus:null}),e.setState({step:1})}))},e.isValid=function(){return Object(wi.isFQDN)(e.state.subdomain?"".concat(e.state.subdomain,".").concat(e.state.domain):e.state.domain,{allow_trailing_dot:!0})},e.isRightLevel=function(){return Object(rn.l)(e.state.subdomain?"".concat(e.state.subdomain,".").concat(e.state.domain):e.state.domain)<=3},e.toggleWorkspace=function(){return e.state.workspace?e.setState({workspace:null}):e.setState({workspace:e.props.defaultWorkspace})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new u.a(this.props.location.pathname+this.props.location.search,!0).query,a=t.domain,n=t.ref;if(a){if(!this.props.isLogged)return zt.b.redirectToLogin({path:"/connect",search:this.props.location.search});this.setState({domain:a},(function(){e.isValid()&&e.isRightLevel()&&e.handleSubmit(n)}))}}},{key:"render",value:function(){var e=this;if(!this.props.isLogged)return null;var t="pending"===this.state.transferStatus,a=this.isRightLevel(),o=this.isValid(),s=this.state.checkedIndex&&!this.state.aliasedDomain?o&&a&&this.state.subdomain:o&&a,i={"rb-test-id":"setup-dns-domain-input",name:"domain",value:this.state.domain,placeholder:"mydomainname.com",onChange:this.handleChangeDomain};switch(!s&&this.state.domain&&(i=Object(F.a)(Object(F.a)({},i),{},{message:a?"Domain not valid":"Insert at most a 3rd level domain",theme:"warning"})),this.state.step){case 1:return mt.a.track("setup-dns-step-1-loaded"),r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"m-b-36"},r.a.createElement(v.Text,{size:"large",className:"Text--SubTitle m-b-8"},"Connect a domain name you already own"),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"Configure a domain name you already own to use as a ",r.a.createElement(v.A,{size:"lg",target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/224917167-What-is-a-Custom-Branded-Domain-Name"},"branded domain")," for ",r.a.createElement("br",null),"your links. Please note that this is a technical procedure and DNS experience ",r.a.createElement("br",null),"is recommended. As an alternative, ",r.a.createElement(Ae.a,{size:"lg",to:"/domains/new"},"register a new domain"),".")),t?r.a.createElement(v.Loading,{size:"md",label:"Processing domain...",withMargin:!0}):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),s&&e.goOnNextStep()}},r.a.createElement(v.Label,{size:"lg",value:"What is your domain name"},r.a.createElement(v.Input,i)),r.a.createElement("div",{className:"row m-t-64"},r.a.createElement("div",{className:"col-xs-12 col-sm-6 col-sm-offset-6"},r.a.createElement(v.Button,{"rb-test-id":"setup-dns-next-step-button",type:"submit",theme:"primary",label:"Next",size:"lg",disabled:!s,block:!0})))));case 2:return mt.a.track("setup-dns-step-2-loaded"),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"SetupDnsFormCheck m-b-36"},r.a.createElement(v.Text,{singleLine:!0,className:"Text--Detail m-b-8"},"Is ",this.state.domain," a spare domain name?"),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},'A domain is "spare" when it is not associated with a website, a blog or anything else.')),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),s&&e.handleSubmit()}},this.getQuestions().map((function(t){var a=t.index,n=t.label,o=t.description,s=t.extra,i=t.ComponentToCheck,c=Object(ea.a)(t,["index","label","description","extra","ComponentToCheck"]),l=a===e.state.checkedIndex;return r.a.createElement("div",{key:a,className:"SetupDnsAnswer m-b-24"},r.a.createElement(v.Label,Object.assign({className:C()("SetupDnsAnswer__title",{"SetupDnsAnswer__title--checked":l}),value:n},c),r.a.createElement(i,{checked:l,onChange:function(){return e.handleSelectAnswer(a)}})),l&&(o||s)&&r.a.createElement("div",{className:"m-t-8 m-l-24"},o&&r.a.createElement(v.Text,{size:"small",className:"Text--Detail"},o),s))})),r.a.createElement("div",{className:"Button__list m-t-64"},r.a.createElement(v.Button,{label:"Back",size:"lg",block:!0,onClick:this.goOnPrevStep}),r.a.createElement(v.Button,{isLoading:"pending"===this.state.transferStatus,"rb-test-id":"setup-dns-next-step-button",theme:"primary",label:"Next",size:"lg",type:"submit",block:!0,disabled:!s||null===this.state.checkedIndex||"pending"===this.state.transferStatus}))),r.a.createElement(he.a,{isOpen:this.state.aliasedDomain&&!this.props.hasAliasedDomainFeature,onClose:function(){return e.setState({aliasedDomain:!1})},icon:{name:"ic-information",color:"#2281c2",size:"md"},title:"This is a paid feature",message:r.a.createElement("span",null,"In order to use ",r.a.createElement("strong",null,this.state.domain)," directly, you will need to activate the domain alias feature. ",r.a.createElement(v.A,{size:"lg",href:"https://support.rebrandly.com/hc/en-us/articles/360011137478",target:"_blank"},"Learn more")),primaryButtonProps:{label:"Talk to sales",theme:"primary",onClick:function(){e.props.history.push({pathname:"/contact-us",state:{modal:!0}})}},secondaryButtonProps:{label:"Cancel",onClick:function(){return e.setState({aliasedDomain:!1})}}}));default:return null}}}]),a}(n.PureComponent),Ci=Object(s.g)(Object(w.b)((function(e){return{defaultWorkspace:Object.values(e.workspaces.items).find((function(e){return e.default})),isLogged:e.session.isLogged,hasAliasedDomainFeature:Object(qe.hasFeature)("extra.custom_domain_hostnames",c()(e.account,"subscription.features"))}}),(function(e){return{submitDomain:function(t,a){return e(Object(sa.n)(t,a))},submitAliasedDomain:function(t){return e(Object(sa.m)(t))},attachToWorkspace:function(t,a){return e(Object(Qa.a)(t,a))}}}))(ji)),Ni=function(){return mt.a.track("setup-dns-page-loaded",{location:window.location.href,page:window.location.pathname}),r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(Ci,null))},Si=(a(1473),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).loadBrokenLinks=function(e){n.state.hasBrokenLinksFeature?Object(b.Zb)(n.props.id,{limit:25,archived:e}).then((function(e){n.setState({isLoading:!1,data:e.records,count:e.count,last:e.last,allResourcesLoaded:T()(e.records)})})).catch((function(){n.setState({isLoading:!1})})).finally((function(){Object(b.Jb)(n.props.id).then((function(e){n.setState({updatedAt:fe()(e.updatedAt).format("HH:mm A - MMM DD, YYYY")})}))})):n.setState({isLoading:!1})},n.onRepair=function(e){n.state.workspaces.length?n.props.history.push({pathname:"/links/new",search:"?broken=true&slash="+e.path+"&domain="+n.props.domain.id,state:{modal:!0,broken:!0}}):Object(b.Xb)(n.props.id,{"correlation.status":"attached",owner:!0}).then((function(e){e.length?n.setState({workspaces:e}):n.setState({showWsAssign:!0})}))},n.onArchive=function(e){Object(b.e)(n.props.id,{path:e,archive:!n.state.tab}).then((function(){n.props.createNotification(q.g,n.state.tab?"Link reactivated":"Link archived"),n.setState({isLoading:!0,data:[]}),n.loadBrokenLinks(!!n.state.tab)}))},n.state={showWsAssign:!1,isLoading:!0,data:[],tab:!1,workspaces:[],updatedAt:fe()().format("HH:mm A - MMM DD, YYYY"),hasBrokenLinksFeature:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(b.Xb)(this.props.id,{"correlation.status":"attached",owner:!0}).then((function(t){e.setState({workspaces:t})})),this.props.loadDomain(this.props.id),this.setState({hasBrokenLinksFeature:Object(qe.hasFeature)("extra.domain_404_clicks_tracking",c()(this.props.account,"subscription.features"))},(function(){return e.loadBrokenLinks(!1)}))}},{key:"loadMore",value:function(e){var t=this;this.setState({isLoading:!0}),Object(b.Zb)(this.props.id,{limit:25,last:e,archived:this.state.tab}).then((function(e){t.setState({isLoading:!1,data:[].concat(Object(U.a)(t.state.data),Object(U.a)(e.records)),last:e.last,allResourcesLoaded:T()(e.records)})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(v.Modal,{size:"md",isOpen:this.state.showWsAssign,onClose:function(){return e.setState({showWsAssign:!1})},middle:!0,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(v.Icon,{name:"ic-warning",color:"#f6852f",size:"md"}),r.a.createElement(v.Text,{size:"large",className:"font-light m-t-16 Text--SubDetail"},"No workspaces"),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail m-t-12"},"In order to repair this link ",r.a.createElement(Ms,{domainId:this.props.domain.id,inline:!0})))),r.a.createElement("div",{className:"Container--wide"},r.a.createElement(v.Text,{size:"large",className:"Text--SubTitle"},"Broken links for ",this.props.domain.fullName,r.a.createElement(v.Tooltip,{overlay:r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:"font-semibold"},"Last update at ",this.state.updatedAt," - UTC",r.a.createElement("br",null)),r.a.createElement("span",null,"Broken links clicked in the last 30 days",r.a.createElement("br",null),"Clicks exclude visits from bots/spiders."))},r.a.createElement(v.Icon,{name:"ic-information",className:"m-l-8",size:"xsmall",color:"#c7c9cb"}))),r.a.createElement("div",{className:"HeaderWrapper m-t-24"},r.a.createElement(v.ButtonGroup,null,r.a.createElement(v.Button,{onClick:function(){e.state.tab&&e.setState({isLoading:!0,data:[],tab:!1},(function(){return e.loadBrokenLinks(!1)}))},active:!this.state.tab},"Active"),r.a.createElement(v.Button,{onClick:function(){e.state.tab||e.setState({isLoading:!0,data:[],tab:!0},(function(){return e.loadBrokenLinks(!0)}))},active:this.state.tab},"Archived")))),r.a.createElement(Se.a,{className:"ApiKeysCollection m-t-24"},r.a.createElement(Se.d,{className:"Container--wide"}),r.a.createElement(Se.f,null,this.state.isLoading&&r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Loading,null)),this.state.data.filter((function(e){return!!e.path})).map((function(t,a){var n=Object(ya.j)(t.path).valid;return r.a.createElement(Se.e,{key:a,className:"Container--wide"},r.a.createElement("div",{className:"ellipsis col-sm-8 col-xs-6 Text--SubTitle"},t.path),r.a.createElement("div",{className:"col-sm-2 col-xs-4 flex"},r.a.createElement(v.Tooltip,{overlay:n?"Repair":"This path cannot be repaired, as it contains not allowed characters",placement:"bottom"},r.a.createElement(v.IconButton,{theme:"ghost",onClick:function(){return e.onRepair(t)},icon:{name:"ic-edit",color:n?"var(--color-grey-400)":"var(--color-grey-150)"},disabled:!n})),r.a.createElement(v.Tooltip,{overlay:e.state.tab?"Reactivate":"Archive",placement:"bottom"},r.a.createElement("div",{className:"Archive Archive-".concat(e.state.tab)},r.a.createElement(De.a,{icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:e.state.tab?"Activate again":"Archive this broken link",message:e.state.tab?"This link will be listed in the 'Active' tab":"This link will be listed in the 'Archived' tab ",primaryButtonProps:{label:e.state.tab?"Reactivate":"Archive",theme:e.state.tab?"primary":"delete",onClick:function(){return e.onArchive(t.path)}},secondaryButtonProps:{label:"Cancel"}},r.a.createElement(v.IconButton,{theme:"ghost",icon:{name:e.state.tab?"ic-archive-false":"ic-archive-true",color:"var(--color-grey-400)"}}))))),r.a.createElement("div",{className:"col-xs-2 "},r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Last click at ",fe()(t.latestRequestAt).format("HH:mm A - MMM DD, YYYY")," - UTC"),placement:"bottom"},r.a.createElement("div",{className:"text-center Text--SubTitle"},Object(ct.formatNumber)(t.hits),"\xa0",Z()("click",+t.hits)))))})))),!T()(this.state.data)&&r.a.createElement("div",{className:"m-t-12"},r.a.createElement(cr.a,{key:this.state.data.length.toString(),isLoading:this.state.isLoading,canLoadMore:!this.state.allResourcesLoaded,loader:r.a.createElement(v.Loading,null),onLoadMore:function(){return e.loadMore(e.state.last)},infinite:!0})))}}]),a}(n.PureComponent)),xi=Object(s.g)(Object(w.b)((function(e,t){return{account:e.account,domain:c()(e.accountDomains,"items[".concat(t.id,"]"),{})}}),(function(e,t){return{loadDomain:function(){return e(Object(sa.d)(t.id))},createNotification:function(t,a,n,r){return e(Object(W.a)(t,a,n,r))}}}))(Si)),Li=function(e){var t=e.match;return r.a.createElement("div",{className:"Page"},r.a.createElement(xi,{id:c()(t.params,"id")}))},Ti=function(e){var t,a=e.match,n=e.location,o=c()(a.params,"type")||c()(n.state,"type");switch(mt.a.track("success-page-loaded",{location:window.location.href,page:window.location.pathname}),o){case"renew":mt.a.track("checkout-domain-renew-succeeded"),t=r.a.createElement(dn,null);break;case"plan":mt.a.track("checkout-subscription-succeeded"),t=r.a.createElement(hn,null);break;case"domains":mt.a.track("checkout-domains-succeeded"),t=r.a.createElement(fn,null);break;case"external":mt.a.track("setup-domain-external-succeeded"),t=r.a.createElement(gn,n.state);break;case"managed":mt.a.track("setup-domain-managed-succeeded"),t=r.a.createElement(vn,null);break;case"import":mt.a.track("bulk-link-import-succeeded"),t=r.a.createElement(En,n.state);break;case"custom-plan":mt.a.track("checkout-custom-plan-succeeded"),t=r.a.createElement(yn,null);break;case"links-export":mt.a.track("bulk-links-export-succeeded"),t=r.a.createElement(bn,n.state);break;case"leads-data":mt.a.track("contact-form-submitted"),t=r.a.createElement(kn,null);break;case"leads-data-not-logged":mt.a.track("contact-form-submitted"),t=r.a.createElement(On,null);break;case"order":mt.a.track("checkout-transaction-succeeded"),t=r.a.createElement(hn,null);break;default:t=r.a.createElement(hn,null)}return r.a.createElement("div",{className:"Container--narrow Page"},t)},_i=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(Qr,null)))}}]),a}(n.PureComponent),Di=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"sm",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(oe,{id:this.props.match.params.id})))}}]),a}(n.PureComponent),Ai=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.onClose=function(){e.setState({open:!1},(function(){setTimeout((function(){return e.props.history.push("/domains")}),250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.onClose},r.a.createElement(v.ModalContent,null,r.a.createElement(Ci,null)))}}]),a}(n.PureComponent),Ii=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t&&t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(xi,{id:this.props.match.params.id,onForceClose:this.back})))}}]),a}(n.PureComponent),Mi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLinkCreated=function(t){return e.props.history.replace({pathname:"/links/".concat(t.id),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.history.location,t=new u.a(e.pathname+e.search,!0).query.url;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(en,{workspaceId:this.props.match.params.id,onAlreadyCreatedLinkClick:this.onLinkCreated,destination:t}))}}]),a}(n.PureComponent),Ri=[{label:"Active",value:"teammates"},{label:"Invited",value:"invites"}],Pi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showSearchOnMobile:!1,allResourcesLoaded:!1},e.debouncedLoadInvites=za()(e.loadInvites,m.a.debounceSearchTime),e.handleSearchChange=function(t){T()(t)&&(t=null),t!==e.props.params.term&&(e.props.setParams({term:t}),(!t||t.length>2)&&e.debouncedLoadInvites())},e.changeFilter=function(t){var a=t.value;return e.props.history.push("/workspaces/".concat(e.props.id,"/").concat(a))},e.handleInviteClick=function(){return e.props.history.push({pathname:"/workspaces/".concat(e.props.id,"/invite"),state:{modal:!0}})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.getTermFromQueryString();t&&this.props.setParams({term:t}),this.props.loadWorkspace().catch((function(){return e.props.history.push("/error/workspaces-not-available")})),this.loadInvites()}},{key:"getTermFromQueryString",value:function(){var e=this.props.location,t=e.pathname,a=e.search;return new u.a(t+a,!0).query.term||""}},{key:"loadInvites",value:function(e){var t=this;return e||this.props.resetList(),this.props.load(e).then((function(e){return t.setState({allResourcesLoaded:T()(e.value)})}))}},{key:"render",value:function(){var e=this,t=0===this.props.count.results&&!this.props.isLoading,a=this.props.count.results>0;return r.a.createElement(n.Fragment,null,r.a.createElement(Un.b,null,r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(Ur,{label:c()(this.props.workspace,"name"),pathname:"/workspaces"})),r.a.createElement(Un.a,null,a&&r.a.createElement(v.Text,{className:"Toolbar_text"},r.a.createElement("span",null,this.props.count.results," ",Z()("Teammate",this.props.count.results))),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(Fn.a,{"rb-test-id":"teammates-and-invites-filter",options:Ri,value:Ri.find((function(e){return"invites"===e.value})),onChange:this.changeFilter,iconName:"ic-sort"})),!1),!Ve.h&&a&&r.a.createElement(Un.a,{align:"right"},r.a.createElement(Fr.a,{workspaceId:this.props.id},r.a.createElement(v.Button,{theme:"primary",label:"Invite teammates",onClick:this.handleInviteClick}))),this.state.showSearchOnMobile&&r.a.createElement(Un.a,{fullWidthSmall:!0},r.a.createElement(v.Input,{icon:"ic-search",type:"search",value:this.props.params.term,placeholder:"Search teammates...",onChange:this.handleSearchChange,onClose:function(){e.setState({showSearchOnMobile:!1}),e.handleSearchChange()},showClose:!0,autoFocus:!0}))),t?r.a.createElement(Kt.h,{workspaceId:this.props.id}):r.a.createElement(n.Fragment,null,r.a.createElement(hs,{invites:this.props.invites,onRemove:function(t){return e.props.remove(t)},onReinvite:this.props.resendInvites}),r.a.createElement(cr.a,{key:this.props.invites.length.toString(),isLoading:this.props.isLoading,canLoadMore:!this.state.allResourcesLoaded,onLoadMore:function(){return e.loadInvites(c()(Ra()(e.props.invites),"id"))},infinite:!0})))}}]),a}(n.PureComponent),zi=Object(s.g)(Object(w.b)((function(e,t){var a=e.invites,n=a.params,r=a.list,o=a.items,s=a.count,i=a.isLoading;return{workspace:e.workspaces.items[t.id],isLoading:i,invites:r.map((function(e){return o[e]})),params:n,count:s}}),(function(e,t){return{loadWorkspace:function(){return e(Object(Gt.o)(t.id))},load:function(a){return e(Object(G.g)(t.id,a))},setParams:function(t){return e(Object(G.l)(t))},resetList:function(){return e(Object(G.i)())},resendInvites:function(a){return e(Object(G.h)(t.id,a)).then((function(){return e(Object(W.a)(q.a,"Done","A new invite has been sent"))}))},remove:function(a){return e(Object(G.d)(t.id,a)).then((function(){return e(Object(W.a)(q.a,"Invite rescinded"))}))}}}))(Pi)),Fi=function(e){var t=e.match;return r.a.createElement(zi,{id:t.params.id})},Ui=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(E.a)(this,a),n=t.call(this,e);var r=e.history.location.search,o=e.match.params.name;return o?zt.b.redirectToLogin({path:"/links",search:"",sso:o}):zt.b.redirectToLogin({path:"/links",search:r}),n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Loading,{size:"lg",label:"Loading",withMargin:!0})}}]),a}(n.PureComponent),Bi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),n=t.call(this,e),mt.a.track("deal-comparator-page-loaded",{location:window.location.href}),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.history.location,t=e.pathname,a=e.search,n=e.state,o=new u.a(t+a,!0),s=o.query.deal,i=o.query.plan,l=o.query.skipComparison||c()(n,"skipComparison",!1);return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(Ei,{dealId:s,planId:i,skipComparison:l}))}}]),a}(n.PureComponent),Wi=a(701),Gi=(a(1474),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={workspaceName:e.props.workspace.name||"",isEditing:!1},e.changeWorkspaceName=function(t){return e.setState({workspaceName:t})},e.handleSubmit=function(t){e.changeWorkspaceName(t),e.props.onEditName(t)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=c()(this.props.workspace,"type")===hr.c,a=!0===c()(this.props.workspace,"default"),n=c()(H.c,"[".concat(this.props.role,"].label"));return r.a.createElement("div",{className:"row middle-xs"},r.a.createElement("div",{className:"col-xs-12 col-sm-9 flex middle-xs"},this.props.canEditWorkspace?r.a.createElement(v.ImageUpload,{name:"avatar",title:"Team avatar",note:"It\u2019s easier for everyone to recognize your team with an avatar. (Max size 1MB, 256x256px)",onUpload:this.props.onUpload,imgUrl:this.props.workspace.avatarUrl,sizeLimit:1024}):r.a.createElement(v.Avatar,{profile:!0,img:this.props.workspace.avatarUrl}),r.a.createElement("div",{"rb-test-id":"workspace-name",className:"WorkspaceHeader__name col-xs p-0 m-l-24 overflow-hidden"},r.a.createElement("div",{className:"flex middle-xs"},this.props.canEditWorkspace?r.a.createElement(v.InlineInput,{className:"Text-Title",value:this.state.workspaceName,label:"Workspace name",onSubmit:this.handleSubmit,onStatusChanged:function(t){var a=t.isEditing;return e.setState({isEditing:a})},showButtons:!0,singleLine:!0}):r.a.createElement(v.Text,{className:"Text-Title",size:"large",singleLine:!0},this.state.workspaceName),a&&!this.state.isEditing&&r.a.createElement(v.Tag,{className:"m-l-4",label:"Default",color:"green",size:"sm"}),t&&!this.state.isEditing&&r.a.createElement(v.Tag,{className:"m-l-4",label:"Extended",color:"purple",size:"sm"})),!this.state.isEditing&&r.a.createElement(v.Tag,{className:"WorkspaceHeader__tag",color:"#eaf6ff",label:n,size:"sm"}))),r.a.createElement("div",{className:"col-xs-12 col-sm-3"},r.a.createElement("div",{className:"WorkspaceHeader__actions end-sm"},r.a.createElement(Wi.a,{workspace:this.props.workspace,onGoToStats:this.props.goOnReportsWorkspace,onInvite:this.props.inviteWorkspace,onDelete:this.props.deleteWorkspace,onLeave:this.props.leaveWorkspace,onGoToLinks:this.props.switchWorkspace,showStatAction:"development"===m.a.env,showLinksAction:!t}))))}}]),a}(n.PureComponent)),Hi=a(377),qi=a(264),Vi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={defaultViewMode:"select",viewMode:"select",formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){return e.setState({viewMode:"create",formIsOpen:!0})},e.handleOpenEdit=function(t){e.setState({currentOption:t,viewMode:"edit",formIsOpen:!0})},e.handleCloseForm=function(){return e.setState({currentOption:null,viewMode:e.state.defaultViewMode,formIsOpen:!1})},e.renderComponent=function(){return r.a.createElement(v.Tooltip,{overlay:e.props.tooltip,display:e.props.children.props.disabled,placement:"right"},r.a.cloneElement(e.props.children,{isLoading:e.props.isLoading,theme:e.props.isLoading?"link":"select"}))},e.handleSuccess=function(){e.setState({currentOption:null,viewMode:"select",selectorOpen:!0})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWorkspaceTags()}},{key:"loadTags",value:function(e){return e||this.props.resetList(),this.props.fetchWorkspaceTags(e)}},{key:"render",value:function(){var e=this,t={isLoading:this.props.isLoading,onLoadMore:function(){return e.loadTags(c()(Ra()(e.props.workspaceTags),"id"))},isOpen:this.state.selectorOpen,triggerSize:"large",showSearch:this.props.count.total>15,renderTrigger:this.renderComponent,onChange:this.handleOpenEdit,footer:this.props.canManageOptions&&r.a.createElement(qi.a,null,r.a.createElement(v.Button,{"rb-test-id":"new-tag-button",theme:"link",icon:{name:"ic-add"},label:"Create new tag",onClick:this.handleOpenCreate}))};return T()(this.props.workspaceTags)||(t=Object(F.a)(Object(F.a)({},t),{},{options:this.props.workspaceTags.map((function(e){return t=e,Object(F.a)(Object(F.a)({},t),{},{label:t.name,value:t.id});var t})),renderOption:function(t){return r.a.createElement("div",{className:"OptionsRow flex middle-xs"},r.a.createElement("div",null,r.a.createElement(v.Tag,{className:"OptionsRow__tag",label:t.label,color:t.color,size:"lg"})),e.props.canManageOptions&&r.a.createElement(v.Icon,{className:"OptionsRow__icon m-l-8",name:"ic-edit",size:"xsmall",color:"var(--color-grey-400)"}))},showLoadMore:this.props.count.total>this.props.workspaceTags.length})),this.props.children.props.disabled?this.renderComponent():r.a.createElement(n.Fragment,null,"select"===this.state.viewMode&&r.a.createElement(v.Selector,t),("edit"===this.state.viewMode||"create"===this.state.viewMode)&&r.a.createElement(v.Dropdown,{isOpen:this.state.formIsOpen},r.a.createElement(v.Trigger,null,this.renderComponent()),r.a.createElement(v.Content,null,r.a.createElement(Hi.a,Object.assign({},this.state.currentOption,{workspaceId:this.props.workspaceId,onSuccess:this.handleSuccess,onCancel:this.handleCloseForm,onDelete:this.handleCloseForm})))))}}]),a}(n.PureComponent),Yi=Object(w.b)((function(e){var t=e.tags,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceTags:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e,t){return{fetchWorkspaceTags:function(a){return e(Object(Dn.i)(a,t.workspaceId))},resetList:function(){return e(Object(Dn.k)())}}}))(Vi),Ki=(a(1475),[{value:"android",label:r.a.createElement(n.Fragment,null,r.a.createElement(v.Icon,{className:"m-r-4",name:"ic-os-android",size:"tiny"})," Android")},{value:"ios",label:r.a.createElement(n.Fragment,null,r.a.createElement(v.Icon,{className:"m-r-4",name:"ic-os-ios",size:"tiny"})," iOS")}]),Ji=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(E.a)(this,a),(n=t.call(this,e)).debouncedhandleAppUrl=za()((function(){return n.handleAppUrl()}),m.a.debounceSearchTime),n.searchInstallUrl=function(e){n.setState({installUrl:e},(function(){e.length>=4&&n.debouncedhandleAppUrl()}))},n.handleChange=function(e){return n.setState({type:e})},n.handleUpdate=function(){var e=n.state.name;n.props.onUpdateApp({name:e,id:n.props.app.id}),n.props.onClose()},n.handleNewApp=function(){var e=n.state,t=e.name,a=e.namespace,r=e.scheme,o=e.hash,s=e.type,i=e.installUrl;n.props.onAttachApp({name:"".concat(t," for ").concat("android"===s?"Android":"iOS"),namespace:a,type:s,scheme:r,hash:o,installUrl:i.startsWith("http")?i:"https://".concat(i)}),n.props.onClose()};var r=n.props.app,o=r.name,s=r.namespace,i=r.installUrl,c=r.type,l=r.scheme;return n.state={apps:[],name:o||null,namespace:s||null,aasa:null,installUrl:i||null,sha256:null,isLoading:!1,type:c||null,scheme:l||null,displayAppsSelector:!1,hash:null,installUrlUI:{}},n}return Object(y.a)(a,[{key:"handleInput",value:function(e,t){return this.setState(Object($t.a)({},e,t))}},{key:"handleAppUrl",value:function(){var e=this;this.setState({isLoading:!0,installUrlUI:{theme:"warning",icon:""}},(function(){Object(b.Hb)({url:e.state.installUrl,target:"appTitle",type:e.state.type}).then((function(t){var a=t.recommendations,n=a.name,r=a.namespace,o=a.scheme,s=a.hash;e.setState({name:n,namespace:r,scheme:o,hash:s,isLoading:!1,installUrlUI:{icon:"ic-checkmark",theme:"success"}})}),(function(){e.setState({name:"",namespace:"",scheme:"",hash:null,isLoading:!1,installUrlUI:{icon:"ic-warning",theme:"error"}})}))}))}},{key:"renderAppConfigurator",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v.Text,{size:"small",className:"m-b-24"},r.a.createElement(v.Icon,{className:"m-r-4",name:"ic-os-".concat(this.state.type),size:"tiny"}),this.state.type),r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Label,{className:"StoreUrl-label",theme:this.state.installUrlUI.theme,value:r.a.createElement("div",null,"App install uri",r.a.createElement(v.Tooltip,{overlay:"ios"===this.state.type?r.a.createElement("span",null,"The iTunes URL associated with your app.",r.a.createElement("br",null),r.a.createElement(v.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Learn more")):r.a.createElement("span",null,"The Play Store URL associated with your app.",r.a.createElement("br",null),r.a.createElement(v.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Learn more")),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"})))},r.a.createElement(v.Input,{onChange:this.searchInstallUrl,icon:this.state.installUrlUI.icon,value:this.state.installUrl,message:this.state.installUrlUI.message,disabled:this.state.isLoading||this.props.app.id,placeholder:"ios"===this.state.type?"https://itunes.apple.com/us/app/rebrandly/id1103787320?mt=8":"https://play.google.com/store/apps/details?id=com.yourapp"}))),r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Label,{value:r.a.createElement("div",null,"API URI SCHEME",r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Your app URI scheme is crucial",r.a.createElement("br",null)," for deep links to work, make",r.a.createElement("br",null)," sure is correct. ",r.a.createElement(v.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Learn more")),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"})))},r.a.createElement(v.Input,{onChange:function(t){return e.handleInput("scheme",t)},value:this.state.scheme,disabled:this.state.isLoading||this.props.app.id,placeholder:"ios"===this.state.type?"ios-deep-link-path://":"android-deep-link-path://"}))))}},{key:"renderFooter",value:function(){var e=this.state,t=e.name,a=e.namespace,n=e.scheme,o=e.hash,s=this.props.app.id?t&&a&&n:t&&a&&n&&o;return r.a.createElement("div",{className:"row end-xs middle-xs m-t-36"},r.a.createElement(v.Button,{className:"col-xs-12 col-sm-6",label:this.props.app.id?"Close":"Create app",theme:"primary",onClick:this.props.app.id?this.handleUpdate:this.handleNewApp,disabled:!s}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.Modal,{className:"ManageAppsModal",size:"md",showClose:!0,isOpen:!0,onClose:this.props.onClose},this.props.app.id?r.a.createElement(n.Fragment,null,r.a.createElement(v.ModalContent,null,r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,{className:"ManageAppsModal_title"},this.props.app.name),r.a.createElement(v.Text,{className:"m-t-24"},this.renderAppConfigurator())),this.renderFooter())):r.a.createElement(n.Fragment,null,r.a.createElement(v.ModalContent,null,r.a.createElement(n.Fragment,null,r.a.createElement(v.Text,null,"Configure a new app",r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Once the app is configured you'll be able",r.a.createElement("br",null)," to create deep link rules within",r.a.createElement("br",null)," this workspace. ",r.a.createElement(v.A,{href:"https://rebrandly.support/DeepLinksNewApp",target:"_blank"},"Learn more")),placement:"top"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"}))),r.a.createElement(v.Text,{className:"m-t-24"},this.state.type?this.renderAppConfigurator():r.a.createElement(v.Selector,{closeOnSelect:!0,onChange:function(t){return e.handleChange(t.value)},renderTrigger:function(){return r.a.createElement(v.Button,{"rb-test-id":"link-add-options",label:"Add new app",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"}})},options:Ki}))),this.renderFooter())))}}]),a}(n.PureComponent);Ji.defaultProps={app:{}};var Qi=Object(s.g)(Object(w.b)((function(e){return{isLoading:e.apps.isLoading}}),(function(e,t){return{scrapeTitle:function(t){return e(Object(b.Hb)(t))}}}))(Ji)),Xi=a(101),Zi=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).fetchInstances=function(){Object(b.r)(n.props.app.id).then((function(e){var t=e.count;n.setState({hasApps:!!t,isLoading:!1})}))},n.state={hasApps:!1,isLoading:!0},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.app,a=e.primaryButtonProps;return this.state.isLoading?r.a.createElement(xe.c,{iconName:"ic-trash-bin",className:"m-l-8 Delete-Deep-App",iconSize:"xsmall",onInit:this.fetchInstances,style:{padding:"0"},confirmableProps:{noPrimaryButton:!0,icon:{name:"ic-warning",color:"#f6852f",size:"md"},message:r.a.createElement(v.Loading,{size:"md",withMargin:!0}),secondaryButtonProps:null},onDelete:this.props.onDelete}):r.a.createElement(xe.c,{iconName:"ic-trash-bin",className:"m-l-8 Delete-Deep-App",iconSize:"xsmall",style:{padding:"0"},confirmableProps:{noPrimaryButton:this.state.hasApps,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:this.state.hasApps?"App cannot be deleted":"Delete configured app?",message:this.state.hasApps?r.a.createElement("span",null,"Deleting ",r.a.createElement("b",null,t.namespace)," is not permitted at this moment as there are instances used elsewhere in your links. In order to remove this app you need to delete all the deep link rules associated with it in other branded links."):r.a.createElement("span",null,"Deleting ",r.a.createElement("b",null,t.namespace)," is a permanent action and cannot be undone. It will result in you and all of your teammates losing access to it and you will not be able to recover this information later."),primaryButtonProps:this.state.hasApps?null:a,secondaryButtonProps:{label:this.state.hasApps?"Ok":"Cancel"}},onDelete:this.props.onDelete})}}]),a}(n.PureComponent),$i=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={defaultViewMode:"select",viewMode:"select",formIsOpen:!1,deleteIsOpen:!1,currentOption:null,hasApps:!1,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){return e.setState({currentOption:{},viewMode:"create",formIsOpen:!0})},e.handleOpenEdit=function(t){e.setState({currentOption:t,viewMode:"review",formIsOpen:!0})},e.handleDelete=function(t){e.props.onDetachApp(t.id)},e.handleCloseForm=function(){return e.setState({currentOption:null,viewMode:e.state.defaultViewMode,formIsOpen:!1})},e.renderComponent=function(){var t=r.a.cloneElement(e.props.children,{isLoading:e.props.isLoading,disabled:e.props.children.props.disabled,theme:e.props.isLoading?"link":"select"});return e.props.tooltip?r.a.createElement(v.Tooltip,{overlay:e.props.tooltip,display:e.props.children.props.disabled,placement:"right"},t):t},e.handleUpdate=function(t){var a=t.id,n=t.name;e.setState({currentOption:null,viewMode:"select",selectorOpen:!1}),e.props.onUpdateApp(a,{name:n})},e.handleSuccess=function(t){e.setState({currentOption:null,viewMode:"select",selectorOpen:!0}),e.props.onAttachApp(t)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWorkspaceApps()}},{key:"loadApps",value:function(e){return e||this.props.resetList(),this.props.fetchWorkspaceApps(e)}},{key:"renderDeleteAction",value:function(e){var t=this;return r.a.createElement(Zi,{app:e,primaryButtonProps:{label:"Delete",theme:"delete"},onDelete:function(){return t.handleDelete(e)}})}},{key:"render",value:function(){var e=this;if(this.props.disabled)return this.renderComponent();var t={isLoading:this.props.isLoading,onLoadMore:function(){return e.loadApps(c()(Ra()(e.props.workspaceApps),"id"))},isOpen:this.props.selectorOpen,triggerSize:"large",showSearch:this.props.count.total>15,renderTrigger:this.renderComponent,footer:this.props.canManageOptions&&r.a.createElement(qi.a,null,r.a.createElement(v.Button,{"rb-test-id":"new-app-button",theme:"link",icon:{name:"ic-add"},label:"Configure new app",onClick:this.handleOpenCreate}))};return T()(this.props.workspaceApps)||(t=Object(F.a)(Object(F.a)({},t),{},{options:this.props.workspaceApps.map((function(e){return t=e,Object(F.a)(Object(F.a)({},t),{},{label:r.a.createElement(n.Fragment,null,r.a.createElement(v.Icon,{className:"OptionsRow__icon m-r-8",name:"ic-os-".concat(t.type),size:"xsmall"}),t.namespace),value:t.id});var t})),renderOption:function(t){return r.a.createElement("div",{className:"OptionsRow flex middle-xs"},r.a.createElement("div",{onClick:function(){return e.handleOpenEdit(t)}},t.label),e.props.canManageOptions&&e.renderDeleteAction(t))},showLoadMore:this.props.count.total>this.props.workspaceApps.length})),r.a.createElement(n.Fragment,null,"select"===this.state.viewMode&&r.a.createElement(v.Selector,t),("review"===this.state.viewMode||"create"===this.state.viewMode)&&r.a.createElement(Qi,{app:this.state.currentOption,onClose:this.handleCloseForm,onAttachApp:this.handleSuccess,onUpdateApp:this.handleUpdate}))}}]),a}(n.PureComponent),ec=Object(w.b)((function(e){var t=e.apps,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceApps:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e,t){return{fetchWorkspaceApps:function(a){return e(Object(Xi.e)(a,t.workspaceId))},resetList:function(){return e(Object(Xi.g)())}}}))($i),tc=a(380),ac=a(381),nc=a(94),rc=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={defaultViewMode:"select",viewMode:"select",formIsOpen:!1,deleteIsOpen:!1,currentOption:null,selectorOpen:e.props.forceOpen},e.handleOpenCreate=function(){return e.setState({viewMode:"create",formIsOpen:!0})},e.handleOpenEdit=function(t){e.setState({currentOption:t,viewMode:"edit",formIsOpen:!0})},e.handleCloseForm=function(){return e.setState({currentOption:null,viewMode:e.state.defaultViewMode,formIsOpen:!1})},e.renderComponent=function(){return r.a.createElement(v.Tooltip,{overlay:e.props.tooltip,display:e.props.children.props.disabled,placement:"right"},r.a.cloneElement(e.props.children,{isLoading:e.props.isLoading,theme:e.props.isLoading?"link":"select"}))},e.handleSuccess=function(){e.setState({currentOption:null,viewMode:"select",selectorOpen:!0})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchWorkspaceScripts()}},{key:"loadScripts",value:function(e){return e||this.props.resetList(),this.props.fetchWorkspaceScripts(e)}},{key:"render",value:function(){var e=this,t={isLoading:this.props.isLoading,onLoadMore:function(){return e.loadScripts(c()(Ra()(e.props.workspaceScripts),"id"))},isOpen:this.state.selectorOpen,triggerSize:"large",showSearch:this.props.count.total>15,renderTrigger:this.renderComponent,onChange:this.handleOpenEdit,footer:this.props.canManageOptions&&r.a.createElement(ac.a,null,r.a.createElement(v.Button,{theme:"link",icon:{name:"ic-add"},label:"Create new script",onClick:this.handleOpenCreate}))};return T()(this.props.workspaceScripts)||(t=Object(F.a)(Object(F.a)({},t),{},{options:this.props.workspaceScripts.map((function(e){return t=e,Object(F.a)(Object(F.a)({},t),{},{label:t.name,value:t.id});var t})),renderOption:function(t){return r.a.createElement("div",{className:"OptionsRow flex middle-xs"},r.a.createElement("div",null,r.a.createElement(v.Tag,{className:"OptionsRow__tag",label:t.label,color:t.color,size:"lg"})),e.props.canManageOptions&&r.a.createElement(v.Icon,{className:"OptionsRow__icon m-l-8",name:"ic-edit",size:"xsmall",color:"var(--color-grey-400)"}))},showLoadMore:this.props.count.total>this.props.workspaceScripts.length})),this.props.children.props.disabled?this.renderComponent():r.a.createElement(n.Fragment,null,"select"===this.state.viewMode&&r.a.createElement(v.Selector,t),("edit"===this.state.viewMode||"create"===this.state.viewMode)&&r.a.createElement(v.Dropdown,{isOpen:this.state.formIsOpen},r.a.createElement(v.Trigger,null,this.renderComponent()),r.a.createElement(v.Content,null,r.a.createElement(tc.a,Object.assign({},this.state.currentOption,{workspaceId:this.props.workspaceId,onSuccess:this.handleSuccess,onCancel:this.handleCloseForm,onDelete:this.handleCloseForm})))))}}]),a}(n.PureComponent),oc=Object(w.b)((function(e){var t=e.scripts,a=t.params,n=t.list,r=t.items,o=t.count,s=t.isLoading;return{workspaceScripts:n.map((function(e){return r[e]})),count:o,isLoading:s,params:a}}),(function(e,t){return{fetchWorkspaceScripts:function(a){return e(Object(nc.g)(a,t.workspaceId))},resetList:function(){return e(Object(nc.i)())}}}))(rc),sc=[{label:"never expire",expiration:null},{label:"expire in 30 days",expiration:{ttl:2592e3}},{label:"expire in 60 days",expiration:{ttl:5184e3}},{label:"expire in 90 days",expiration:{ttl:7776e3}},{label:"expire in 180 days",expiration:{ttl:15552e3}},{label:"expire in 365 days",expiration:{ttl:31536e3}}],ic=Object(w.b)((function(e){return{account:e.account}}),(function(e,t){return{removeExpirationTtl:function(){return e(Object(Gt.r)(t.workspace.id))},setExpirationTtl:function(a){return e(Object(Gt.m)(t.workspace.id,{expiration:{ttl:a},name:t.workspace.name}))}}}))((function(e){var t=Object(n.useState)(null),a=Object(sn.a)(t,2),o=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(sn.a)(i,2),u=l[0],m=l[1],p=Object(n.useCallback)((function(){return c()(e.workspace.expiration,"ttl",null)}),[e.workspace.expiration]);Object(n.useEffect)((function(){var e=p();s(e)}),[p]);return r.a.createElement(v.Modal,{isOpen:e.isOpen,showClose:!0,onClose:function(){var t=p();s(t),e.onClose()},size:"sm"},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"flex middle-xs m-b-8"},r.a.createElement(v.Text,{className:"Text-Title",size:"medium"},"Links Expiration"),r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Set your links to be automatically deleted after a set period",r.a.createElement("br",null),"of time from their creation date. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360002915158",target:"_blank"},"Learn more")),placement:"right"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-help",size:"tiny",color:"#c7c9cb"}))),r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Text,{className:"Text--SubDetail",size:"small"},"Changes to expiration dates only apply to links created after the changes have been made.")),sc.filter((function(t){var a=Object(qe.getFeatureConfig)("links.expiration",c()(e.account.subscription,"features"));console.log(a);var n=c()(a,"ttl.min",null),r=c()(a,"ttl.max",null),o=c()(t,"expiration.ttl",null);return!(o&&n&&r)||n<=o&&o<=r})).map((function(e,t){return r.a.createElement("div",{className:"OptionRow",key:t},r.a.createElement("div",{className:"OptionRow__body"},r.a.createElement(v.Label,{size:"lg",value:Object(ct.capitalize)(e.label)},r.a.createElement(v.Radio,{checked:ce()(o,c()(e,"expiration.ttl",null)),onClick:function(){s(c()(e,"expiration.ttl",null))}}))))})),r.a.createElement("div",{className:"row end-xs middle-xs m-t-36"},r.a.createElement(v.Button,{className:"col-xs-12 col-sm-6",theme:"primary",label:"Save",isLoading:u,disabled:ce()(o,p()),onClick:function(){var t=o?e.setExpirationTtl:e.removeExpirationTtl;m(!0),t(o).then((function(){e.onTtlChange&&e.onTtlChange(),e.onClose()})).finally((function(){return m(!1)}))}}))))})),cc=a(116),lc=a(56),uc=(a(356),function(e){var t=e.label,a=e.value;return r.a.createElement("div",null,t&&r.a.createElement(v.Text,{size:"x-small",className:"Text--Label"},t),r.a.createElement(v.Text,{size:"small",className:"Text--SubTitle"},a||"-"))}),mc=function(e){var t=e.param,a=e.onDelete,o=e.onEdit,s=e.onChangeVisibility,i=Object(n.useState)(!0),l=Object(sn.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),d=Object(sn.a)(p,2),h=d[0],b=d[1],f=Object(n.useRef)(null),g=c()(t,"extra.metadata.family","custom"),E=[{icon:{name:c()(t,"extra.disabled",!1)?"ic-eye-off":"ic-eye",size:"xsmall"},theme:"ghost",onClick:s,tooltip:{overlay:"Change visibility"}},{icon:{name:"ic-edit",size:"xsmall"},theme:"ghost",onClick:o,tooltip:{overlay:"Edit parameter"}},r.a.createElement(De.a,{ref:f,key:"delete",icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Are you sure?",message:"This action cannot be undone.",tooltip:{overlay:Object(lc.l)(t)?r.a.createElement("span",null,"UTM parameters",r.a.createElement("br",null),"cannot be deleted"):"Delete parameter"},disabled:Object(lc.l)(t),primaryButtonProps:{label:"Delete",theme:"delete",isLoading:h,onClick:function(){b(!0),a().then((function(){b(!1),f.current&&f.current.hideModal()}))}},secondaryButtonProps:{label:"Cancel"}},r.a.createElement(v.IconButton,{theme:"dangerGhost",icon:{name:"ic-trash-bin",size:"xsmall"}})),{icon:{name:u?"ic-chevron-down":"ic-chevron-up",size:"sm"},theme:"ghost",onClick:function(){return m((function(e){return!e}))},tooltip:{overlay:u?"Expand":"Collapse"}}];return r.a.createElement(cc.a,{className:C()("ParamItem__box",{"ParamItem__box--hidden":c()(t,"extra.disabled",!1)}),actions:E,showActions:!0},u?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Text,{className:"Text-SemiHero",size:"small"},g.toUpperCase())),r.a.createElement("div",{className:"col-xs-8"},r.a.createElement(v.Text,{className:"Text-Hero",size:"small"},t.label))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"ParameterField__column col-xs-12 col-sm-6"},r.a.createElement(uc,{label:"Label",value:t.label}),r.a.createElement(uc,{label:"Type",value:"preset"===t.format?"Dropdown selector":"Text"})),r.a.createElement("div",{className:"ParameterField__column col-xs-12 col-sm-6"},r.a.createElement(uc,{label:"Key",value:t.key}),r.a.createElement(uc,{label:"Placeholder",value:t.placeholder}))))},pc=(a(302),function(e){e.structures;var t=e.metadata,a=e.onChangeVisibility,n=[{icon:{name:t.visible?"ic-eye":"ic-eye-off",size:"xsmall"},theme:"ghost",onClick:a,tooltip:{overlay:"Change visibility"}},{icon:{name:"ic-edit",size:"xsmall"},theme:"ghost",disabled:!0,tooltip:{overlay:r.a.createElement("span",null,"To edit URL structure please ",r.a.createElement(v.A,{href:"https://rebrandly.support/contact",target:"_blank"},"contact us"))}},{icon:{name:"ic-trash-bin",size:"xsmall"},theme:"ghost",disabled:!0,tooltip:{overlay:r.a.createElement("span",null,"To delete URL structure please ",r.a.createElement(v.A,{href:"https://rebrandly.support/contact",target:"_blank"},"contact us"))}}];return r.a.createElement(cc.a,{className:C()("ParamItem__box",{"ParamItem__box--hidden":!t.visible}),actions:n,showActions:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement(v.Text,{className:"Text-SemiHero",size:"small"},"URL STRUCTURE")),r.a.createElement("div",{className:"col-xs-8"},r.a.createElement(v.Text,{className:"Text-Hero",size:"small"},t.name))))}),dc=a(140),hc=a.n(dc),bc=function(e){var t=e.preset,a=e.queryParams,o=e.patterns,s=e.onDelete,i=e.onEdit,c=Object(n.useState)(!1),l=Object(sn.a)(c,2),u=l[0],m=l[1],p=Object(lc.k)(t.data.query,a),d=Object(n.useRef)(null),h=hc()(o,{id:t.data.pattern}),b=h?h.pattern:Object.keys(p).map((function(e){return e+"="+Object(lc.n)(encodeURIComponent(p[e]))})).join("&");return r.a.createElement(cc.a,{showActions:!0,actions:[{icon:{name:"ic-edit",size:"xsmall"},theme:"ghost",onClick:i},r.a.createElement(De.a,{ref:d,key:"delete",icon:{name:"ic-warning",color:"var(--color-orange-600)",size:"md"},title:"Are you sure?",message:"This preset will be permanently deleted.",primaryButtonProps:{label:"Delete",theme:"delete",isLoading:u,onClick:function(){m(!0),s().then((function(){m(!1),d.current&&d.current.hideModal()}))}},secondaryButtonProps:{label:"Cancel"}},r.a.createElement(v.IconButton,{theme:"dangerGhost",icon:{name:"ic-trash-bin",size:"xsmall"}}))]},r.a.createElement("div",null,r.a.createElement(v.Text,{className:"Text-SemiHero",size:"small"},t.name),(!T()(p)||h)&&r.a.createElement(v.Text,{className:"PresetPreview Text--note m-t-8",size:"small"},"?",b)))},fc=a(393),gc=a(394),vc=function(e){var t=e.templateId,a=e.workspaceId,o=e.queryParams,s=e.patterns,i=Object(w.d)((function(e){var t=e.paramsTemplates,a=t.list,n=t.items;return c()(n,"[".concat(a[0],"]"),{})})),l=Object(w.c)(),u=Object(n.useCallback)((function(e){return Object(b.de)(t,e.id,e,a).catch((function(){return l(Object(W.a)(q.b,"Sorry, error while updating your preset.")),Promise.reject()}))}),[l,t,a]),m=Object(n.useCallback)((function(e){return Object(b.W)(t,e,a).catch((function(){return l(Object(W.a)(q.b,"Sorry, error while creating your preset.")),Promise.reject()}))}),[l,t,a]),p=Object(n.useCallback)((function(e){return Object(b.qb)(t,e,a).catch((function(){return l(Object(W.a)(q.b,"Sorry, error while deleting your preset.")),Promise.reject()}))}),[l,t,a]),d=Object(n.useState)(!1),h=Object(sn.a)(d,2),f=h[0],g=h[1],E=Object(n.useState)(!1),y=Object(sn.a)(E,2),k=y[0],O=y[1],j=Object(n.useState)([]),C=Object(sn.a)(j,2),N=C[0],S=C[1],x=Object(n.useState)(null),L=Object(sn.a)(x,2),_=L[0],D=L[1];Object(n.useEffect)((function(){a&&t&&(g(!0),Object(b.Dc)(t,a).then((function(e){S(e)})).catch((function(){return l(Object(W.a)(q.b,"Sorry, an error occurred."))})).finally((function(){return g(!1)})))}),[a,t,l]);var A=o.filter((function(e){return!c()(e,"extra.disabled",!1)})),I=c()(_,"data.query",{}),M=c()(_,"data.pattern",null),R=(!T()(I)||M)&&!!_.name;return r.a.createElement("div",{className:"ManagePresets"},r.a.createElement("div",{className:"m-b-24 flex middle-xs"},r.a.createElement(v.Text,{className:"Text--SubDetail m-r-8"},"Presets list"),r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Presets are visible in the URL parameter",r.a.createElement("br",null),"builder of this workspace")},r.a.createElement(v.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"}))),r.a.createElement("div",{className:"inline"},r.a.createElement(fc.a,{onClick:function(e){return D(e),Promise.resolve()},buttonProps:{label:"Add New Preset",icon:{name:"ic-plus",size:"xsmall"}},disabled:N.length>=lc.c||f})),r.a.createElement("div",{className:"PresetsList m-t-36"},f?r.a.createElement(v.Loading,null):N.length?N.map((function(e,t){return r.a.createElement(bc,{key:e.id,preset:e,queryParams:A,patterns:s,onDelete:function(){return a=e.id,n=t,p(a).then((function(){S((function(e){return[].concat(Object(U.a)(e.slice(0,n)),Object(U.a)(e.slice(n+1)))}))}));var a,n},onEdit:function(){return D(e)}})})):r.a.createElement(Kt.k,{title:"No presets",message:"You have not created any preset for this query parameters.",illustration:"ill-spot-empty-list-generic"}),r.a.createElement(v.Modal,{isOpen:!!_,onClose:function(){return D(null)},showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("div",null,r.a.createElement(v.Label,{value:"Preset title"},r.a.createElement(v.Input,{value:_&&_.name,placeholder:"Preset name",onChange:function(e){D((function(t){return Object(F.a)(Object(F.a)({},t),{},{name:e})}))}})),r.a.createElement(gc.a,{queryParams:A,urlStructure:Object(F.a)(Object(F.a)({},c()(i,"extra.urlStructure",{name:"URL structure"})),{},{patterns:s}),data:c()(_,"data",{}),showVariables:c()(i,"extra.variables",!1),onChange:function(e){D((function(t){return Object(F.a)(Object(F.a)({},t),{},{data:e})}))},editMode:!0}),r.a.createElement("div",{className:"Button__list row m-t-36"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Button,{label:"Cancel",onClick:function(){return D(null)},block:!0})),r.a.createElement("div",{className:"col-xs"},r.a.createElement(v.Button,{label:"Done",theme:"primary",onClick:function(){var e=_.id?N.findIndex((function(e){return e.id===_.id})):N.length,t=_.id?u:m,a=Object(F.a)({},_);return a.data.query&&(a.data.query=Object(lc.j)(a.data.query,o)),O(!0),t(a).then((function(t){S((function(a){return[].concat(Object(U.a)(a.slice(0,e)),[t],Object(U.a)(a.slice(e+1)))})),D(null)})).catch((function(){})).finally((function(){return O(!1)}))},isLoading:k,disabled:!R,block:!0}))))))))},Ec=function(e){var t=Object(n.useState)({}),a=Object(sn.a)(t,2),o=a[0],s=a[1];Object(n.useEffect)((function(){var t=e.option,a=t.label,n=t.value;s({label:a,value:n})}),[e.option]);var i=function(t){var a=t.value,n=t.name;s((function(t){var r=Object(F.a)(Object(F.a)({},t),{},Object($t.a)({},n,a));return e.onChange(r),r}))},c=function(e,t){var a={valid:!0};return e&&e.length>t&&(a={valid:!1,message:"Max ".concat(t," characters")}),a},l=c(o.label,lc.d),u=c(o.value,lc.e);return r.a.createElement("div",{className:"ParamItem__options-input row flex-baseline"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Input,{value:o.label||"",placeholder:"My value",onChange:function(e){return i({name:"label",value:e})},theme:l.valid?null:"warning",message:l.message})),r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(v.Input,{value:o.value||"",placeholder:"my-value",onChange:function(e){return i({name:"value",value:e})},theme:u.valid?null:"warning",message:u.message,button:r.a.createElement(v.IconButton,{theme:"dangerGhost",icon:{name:"ic-trash-bin",size:"xsmall"},onClick:e.onDelete})})))},yc=[{label:"Text",value:"string"},{label:"Dropdown selector",value:"preset"},{label:"URL structure",value:"structure"}],kc=function(e){var t=e.param,a=e.isOpen,o=e.onSubmit,s=e.onCancel,i=Object(n.useState)(!1),l=Object(sn.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)({}),d=Object(sn.a)(p,2),h=d[0],b=d[1],f=Object(n.useState)({}),g=Object(sn.a)(f,2),E=g[0],y=g[1];Object(n.useEffect)((function(){b(t||{})}),[t]);var k=function(e){var t=e.target,a=t.value,n=t.name,r=t.checked,o=t.type;n&&b((function(e){var t=Object(F.a)(Object(F.a)({},e),{},Object($t.a)({},n,a));return"checkbox"===o&&(t[n]=r),"format"===n&&(t="preset"===a?Object(F.a)(Object(F.a)({},t),{},{options:[]}):Zs()(t,"options")),w(t),t}))},O=function(){s&&s(),b({})},w=function(e){var t={};e.label&&e.label.length>lc.f&&(t.label={theme:"warning",message:"Max ".concat(lc.f," characters")}),h.placeholder&&h.placeholder.length>lc.g&&(t.placeholder={theme:"warning",message:"Max ".concat(lc.g," characters")});var a=Object(ya.k)(h.key);a.valid||(t.key={theme:"warning",message:a.message}),y(t)},j="preset"===h.format,C="structure"===h.format,N=h.label&&h.key&&(!ce()(t,h)||!t.id)&&T()(E)&&!C;return r.a.createElement(v.Modal,{isOpen:a,onClose:O,showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"m-b-24"},r.a.createElement(v.Text,{className:"Text-Title",size:"medium"},h.id?"Edit":"Create"," URL parameter")),r.a.createElement("form",{className:"ParamItemForm",id:"param",onSubmit:function(e){e&&e.preventDefault(),u||(m(!0),o(h).then((function(){m(!1),O()})).catch((function(){return m(!1)})))},onChange:k},r.a.createElement("div",{className:"ParamItem__row row flex-baseline"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Parameter label",tooltip:{placement:"top",overlay:r.a.createElement("span",null,"This is a human-friendly name",r.a.createElement("br",null),"for the query parameter")}},r.a.createElement(v.Input,Object.assign({name:"label",value:h.label,placeholder:"Human friendly label"},E.label)))),r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Parameter key",tooltip:{placement:"top",overlay:r.a.createElement("span",null,"This is the actual key for",r.a.createElement("br",null),"the query parameter")}},r.a.createElement(v.Input,Object.assign({name:"key",value:h.key,placeholder:"URL parameter key",disabled:Object(lc.l)(t)},E.key))))),r.a.createElement("div",{className:"ParamItem__row row flex-baseline"},r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Parameter type",tooltip:{placement:"top",overlay:r.a.createElement("span",null,"This is the query parameter type")}},r.a.createElement(v.Selector,{name:"format",value:yc.find((function(e){return e.value===h.format})),options:yc,onChange:function(e){return k({target:{value:e.value,name:"format"}})},closeOnSelect:!0}))),r.a.createElement("div",{className:"col-xs-12 col-sm-6"},r.a.createElement(v.Label,{value:"Parameter placeholder",tooltip:{overlay:r.a.createElement("span",null,"This is the string that the user",r.a.createElement("br",null),"will see in input placeholder")}},r.a.createElement(v.Input,Object.assign({name:"placeholder",value:h.placeholder||"",placeholder:"Parameter placeholder"},E.placeholder))))),C&&r.a.createElement(v.Alert,{className:"m-t-12",title:"Custom URL structure",status:"info"},r.a.createElement(v.Text,{size:"small"},"For customized URL structure please contact Rebrandly engineers team. Only available for custom enterprise plans. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360006946217",target:"_blank",size:"lg"},"Read more"))),j&&r.a.createElement("div",{className:"UrlParamForm__options-block"},r.a.createElement(v.Label,{value:r.a.createElement("span",null,"Options",r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Allows to add an option to a preset of values",r.a.createElement("br",null),"for this parameter. First input is the human",r.a.createElement("br",null),"friendly description of your preset option.",r.a.createElement("br",null),"Second input is the actual value that a user",r.a.createElement("br",null),"can use as query parameter value")},r.a.createElement(v.Icon,{className:"m-l-8 m-r-8",name:"ic-help",size:"tiny",color:"var(--color-grey-200)"})),r.a.createElement(v.IconButton,{theme:"ghost",icon:{name:"ic-add",size:"sm"},onClick:function(){return b((function(e){return Object(F.a)(Object(F.a)({},e),{},{options:[].concat(Object(U.a)(c()(e,"options",[])),[{}])})}))}}))},r.a.createElement("div",{className:"ParamItem__options"},h.options.map((function(e,t){return r.a.createElement("div",{key:t,className:"ParamItem__options-row flex-baseline"},r.a.createElement(Ec,{option:e,onChange:function(e){return function(e,t){b((function(a){return Object(F.a)(Object(F.a)({},a),{},{options:[].concat(Object(U.a)(a.options.slice(0,t)),[e],Object(U.a)(a.options.slice(t+1)))})}))}(e,t)},onDelete:function(){return e=t,void b((function(t){return Object(F.a)(Object(F.a)({},t),{},{options:[].concat(Object(U.a)(t.options.slice(0,e)),Object(U.a)(t.options.slice(e+1)))})}));var e}}))}))))))),r.a.createElement(v.ModalFooter,null,r.a.createElement("div",{className:"Button__list"},r.a.createElement(v.Button,{label:"Cancel",onClick:O}),r.a.createElement(v.Button,{form:"param",type:"submit",theme:"primary",label:"Save",disabled:!N,isLoading:u}))))},Oc=a(169),wc=Object(w.b)((function(e,t){return{template:e.paramsTemplates.items[t.templateId]}}),(function(e,t){return{createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,n))},updateTemplate:function(a){return e(Object(Oc.d)(a,t.workspaceId))},createParam:function(a){return Object(b.V)(t.templateId,a,t.workspaceId).then((function(t){return e(Object(W.a)(q.g,"URL parameters created")),t})).catch((function(){return e(Object(W.a)(q.b,"Sorry, error while creating your new query parameters")),Promise.reject()}))},updateParam:function(a){return Object(b.ce)(t.templateId,a.id,a,t.workspaceId).then((function(t){return e(Object(W.a)(q.g,"URL parameters updated")),t})).catch((function(){return e(Object(W.a)(q.b,"Sorry, error while updating your query parameters")),Promise.reject()}))},loadParams:function(){return Object(b.Cc)(t.templateId,t.workspaceId)},loadPatterns:function(){return Object(b.ac)(t.templateId,t.workspaceId)},removeParam:function(a){return Object(b.pb)(t.templateId,a,t.workspaceId).then((function(){return e(Object(W.a)(q.f,"URL parameter deleted."))}))}}}))((function(e){var t=e.createNotification,a=e.workspaceId,o=e.templateId,s=e.template,i=e.createParam,l=e.updateParam,u=e.updateTemplate,m=e.removeParam,p=e.loadParams,d=e.loadPatterns,h=Object(n.useState)(!1),b=Object(sn.a)(h,2),f=b[0],g=b[1],E=Object(n.useState)([]),y=Object(sn.a)(E,2),k=y[0],O=y[1],w=Object(n.useState)([]),j=Object(sn.a)(w,2),C=j[0],N=j[1],S=Object(n.useState)(!1),x=Object(sn.a)(S,2),L=x[0],T=x[1],_=Object(n.useState)(null),D=Object(sn.a)(_,2),A=D[0],I=D[1],M=Object(n.useState)(c()(s,"extra.variables",!1)),R=Object(sn.a)(M,2),P=R[0],z=R[1],B=Object(n.useState)(c()(s,"extra.presets.hidden",!1)),W=Object(sn.a)(B,2),G=W[0],H=W[1];Object(n.useEffect)((function(){g(!0),Promise.all([p(),d()]).then((function(e){var t=e[0],a=e[1];O(t),N(a)})).catch((function(){return t(q.b,"Sorry, we can't load your query parameters at the moment.")})).finally((function(){return g(!1)}))}),[]),Object(n.useEffect)((function(){z(c()(s,"extra.variables",!1))}),[s]);var V=function(e,t){u(Object(F.a)(Object(F.a)({},s),{},{extra:Object(F.a)(Object(F.a)({},s.extra),{},Object($t.a)({},e,t))}))},Y=c()(s,"extra.urlStructure",{name:"URL structure"});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ManageParamsMask__ParamItem m-b-36"},f?r.a.createElement(v.Loading,null):r.a.createElement(n.Fragment,null,!!C.length&&r.a.createElement(pc,{metadata:Y,structures:C,onChangeVisibility:function(){return V("urlStructure",{name:Y.name,visible:!Y.visible})}}),k.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(mc,{param:e,onDelete:function(){return n=e.id,r=a,m(n).then((function(){O((function(e){return[].concat(Object(U.a)(e.slice(0,r)),Object(U.a)(e.slice(r+1)))}))})).catch((function(){return t(q.b,"Sorry, we can't delete your query parameter at the moment.")}));var n,r},onEdit:function(){return I(e)},onChangeVisibility:function(){return function(e){var t=k.findIndex((function(t){return t.id===e})),a=k[t],n=c()(a,"extra",{}),r=Object(F.a)(Object(F.a)({},a),{},{extra:Object(F.a)(Object(F.a)({},n),{},{disabled:!n.disabled})});return O((function(e){return[].concat(Object(U.a)(e.slice(0,t)),[r],Object(U.a)(e.slice(t+1)))})),l(r).catch((function(){return O((function(e){return[].concat(Object(U.a)(e.slice(0,t)),[a],Object(U.a)(e.slice(t+1)))}))}))}(e.id)}}))})))),r.a.createElement("div",{className:"ManageParams__buttons flex middle-xs flex-baseline"},r.a.createElement(v.Button,{className:"m-r-36",label:"Add URL parameter",theme:"link",icon:{name:"ic-add",position:"left",size:"xsmall"},disabled:k.length>=lc.b,onClick:function(){return I(lc.a)}}),r.a.createElement("div",{className:"ManageParams__toggles flex middle-xs"},r.a.createElement("div",null,r.a.createElement(v.Label,{value:"Presets",tooltip:{overlay:r.a.createElement("span",null,"Show presets in URL parameters builder")}},r.a.createElement(v.Toggle,{checked:!G,onChange:function(e){H(!e),V("presets",{hidden:!e})}}))),r.a.createElement("div",{className:"m-l-36"},r.a.createElement(v.Label,{value:"Variables",tooltip:{overlay:r.a.createElement("span",null,"Show variables in URL parameters builder")}},r.a.createElement(v.Toggle,{checked:P,onChange:function(e){z(e),V("variables",e)}}))))),r.a.createElement("div",{className:"m-t-36"},r.a.createElement(v.Button,{label:"Manage Presets",icon:{name:"ic-mixer",position:"left",size:"xsmall"},onClick:function(){return T(!0)},disabled:!k.length})),r.a.createElement(v.Modal,{isOpen:L,onClose:function(){return T(!1)},showClose:!0},r.a.createElement(v.ModalContent,null,r.a.createElement(vc,{templateId:o,workspaceId:a,queryParams:k,patterns:C}))),r.a.createElement(kc,{isOpen:!!A,param:A,onSubmit:function(e){return(e.id?l:i)(e).then((function(t){return O((function(a){var n=e.id?a.findIndex((function(t){return t.id===e.id})):a.length;return[].concat(Object(U.a)(a.slice(0,n)),[t],Object(U.a)(a.slice(n+1)))}))}))},onCancel:function(){return I(null)}}))})),jc=function(e){var t=Object(w.d)((function(e){var t=e.paramsTemplates,a=t.list,n=t.items,r=t.isLoading;return{template:c()(n,"[".concat(a[0],"]"),{}),isLoading:r}})),a=t.template,o=t.isLoading,s=Object(w.d)((function(t){return Object(H.d)(t,e.workspaceId,"edit","workspaces.utm")})),i=Object(w.c)(),l=Object(n.useCallback)((function(){e.workspaceId&&i(Object(Oc.c)(e.workspaceId)).then((function(t){T()(t.value)&&s&&i(Object(Oc.a)("Main Template",e.workspaceId))})).catch((function(){return i(Object(W.a)(q.b,"Sorry, we can't load your query parameters templates at the moment."))}))}),[i,e.workspaceId,s]);Object(n.useEffect)((function(){e.isOpen&&l()}),[l,e.isOpen]);var u=function(){e.onClose&&e.onClose()};return r.a.createElement(v.Modal,{isOpen:e.isOpen,showClose:!0,onClose:u,size:"md"},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"m-b-36 flex middle-xs"},r.a.createElement(v.Text,{className:"Text-Title m-r-8",size:"medium"},"Configure URL parameters"),r.a.createElement(v.Tooltip,{overlay:r.a.createElement("span",null,"Configure URL parameters for teammates",r.a.createElement("br",null),"of this specific workspace. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360006946217",target:"_blank"},"Learn more"))},r.a.createElement(v.Icon,{name:"ic-help",color:"#c7c9cb",size:"tiny"}))),o?r.a.createElement(v.Loading,null):e.isOpen&&a.id&&r.a.createElement(wc,{workspaceId:e.workspaceId,templateId:a.id})),r.a.createElement(v.ModalFooter,null,r.a.createElement("div",{className:"Button__list"},r.a.createElement(v.Button,{label:"Done",onClick:u}))))},Cc=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={isLoading:!0,showManageDomainsModal:!1,showManageAppsModal:!1,sharedDomainsCount:0,showLinksExpirationModal:!1},e.componentDidMount=function(){e._isMounted=!0;var t=-1!==e.props.location.search.indexOf("lookup");e.props.loadWorkspace().then((function(){e._isMounted&&e.setState({isLoading:!1},(function(){e.countWorkspaceDomains(),e.props.loadWorkspaceApps(),e.props.countWorkspaceTags(),e.props.countWorkspaceScripts()}))})).catch((function(){return e.props.history.push(t?"/workspaces":"/not-found")}))},e.componentWillUnmount=function(){e._isMounted=!1},e.countWorkspaceDomains=function(){return Object(b.A)({detached:!1,type:"user"},e.props.workspace.id).then((function(t){return e._isMounted&&e.setState({sharedDomainsCount:t.count})}))},e.handleUpload=function(t){return Object(b.fe)(t).then((function(t){var a=t.avatarUri;return e.props.editWorkspace({avatarUrl:a,name:e.props.workspace.name})}))},e.switchWorkspace=function(){return e.props.setContext(e.props.id).then((function(){return e.props.history.push("/links")}))},e.goOnReportsWorkspace=function(){return e.props.history.push({pathname:"/reports/workspaces",search:"?id=".concat(e.props.id)})},e.goToBulkImport=function(){return e.props.history.push({pathname:"/workspaces/".concat(e.props.id,"/import"),state:{modal:!0}})},e.attachApp=function(t){return e.props.attachApp(t).then((function(){return e.props.countWorkspaceApps()}))},e.goOnTeammatesWorkspace=function(){return e.props.history.push("/workspaces/".concat(e.props.id,"/teammates"))},e.handleInvite=function(){return e.props.history.push({pathname:"/workspaces/".concat(e.props.id,"/invite"),state:{modal:!0}})},e.handleLeave=function(){return e.props.leaveWorkspace().then((function(){e.props.history.push("/workspaces"),e.props.setContext()}))},e.handleDelete=function(){return e.props.deleteWorkspace().then((function(){e.props.history.push("/workspaces"),e.props.setContext()}))},e.requestLinksExport=function(){e.setState({requestLinksExportPending:!0}),Object(b.i)(e.props.id).then((function(t){t.length?(e.props.showError("An export is already running for this workspace"),e.setState({requestLinksExportPending:!1})):Object(b.Nd)(e.props.workspace.id).then((function(){return e.props.history.push({pathname:"/success/links-export",state:{ws:e.props.workspace.id}})})).catch((function(){return e.props.showError("Error while processing your request")})).finally((function(){e.setState({requestLinksExportPending:!1})}))}))},e.getExpirationLabel=function(){if(!e.props.hasLinksExpirationFeature)return"Links Expiration";var t=sc.find((function(t){return c()(e.props.workspace,"expiration.ttl",null)===c()(t,"expiration.ttl",null)}));return"Links "+c()(t,"label","Expiration")},e.openManageDomainsModal=function(){return e.setState({showManageDomainsModal:!0})},e.closeManageDomainsModal=function(){return e.setState({showManageDomainsModal:!1})},e.openManageAppsModal=function(){return e.setState({showManageAppsModal:!0})},e.closeManageAppsModal=function(){return e.setState({showManageAppsModal:!1})},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;if(this.state.isLoading)return r.a.createElement(v.Loading,{size:"lg",label:"Loading..."});var t=c()(this.props.workspace,"type")===hr.c,a="".concat(this.props.workspace.teammates-1," ").concat(Object(ct.capitalize)(Z()("teammate",this.props.workspace.teammates-1))),o="".concat(this.props.appsCount," ").concat(Z()("App",this.props.appsCount)," configured"),s=!!c()(this.props.workspace,"extra.grants",[]).find((function(e){return"read"===e.type&&e.resources.includes("link-stats")&&e.grantees.includes("anonymous")})),i=this.props.hasPublicStatsFeature?r.a.createElement("span",null,"Click stats are visible to the public by adding ",r.a.createElement("br",null)," \u201c+\u201d symbol or \u201c.stats\u201d to the end of the ",r.a.createElement("br",null)," branded link. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011664033-How-to-Make-Your-Link-Stats-Public ",target:"_blank",rel:"noopener noreferrer"},"Learn more")):r.a.createElement("span",null,"Click stats are hidden from",r.a.createElement("br",null),"the public. ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011664033",target:"_blank",rel:"noopener noreferrer"},"Learn more")),l=this.props.role===H.b,u=l&&!this.props.hasDeeplinksFeature||!l&&!this.props.appsCount,m=this.props.hasBulkImportFeature&&(this.props.role===H.b||this.props.role===H.a),p=this.props.hasLinksExportFeature&&(this.props.role===H.b||this.props.role===H.a)&&this.props.workspace.type!==hr.c,d={icon:{name:"ic-information",color:"#2281c2",size:"md"},title:"Request link export?",message:r.a.createElement("span",null,"An email will be sent to ",r.a.createElement("b",null,this.props.account.email)," with a .CSV file containing all links from this workspace."),primaryButtonProps:{label:"Export links",onClick:this.requestLinksExport,isLoading:this.state.requestLinksExportPending},disabled:!p,tooltip:{display:!p,overlay:this.props.workspace.type===hr.c?r.a.createElement("span",null,"You can\u2019t export links from",r.a.createElement("br",null),"an \u201cextended workspace\u201d."):this.props.workspace.owner?r.a.createElement("span",null,"Your current plan doesn't",r.a.createElement("br",null),"include Link export."," ",r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options")):r.a.createElement("span",null,"You can't export links from this workspace"),placement:"right"}};return r.a.createElement(n.Fragment,null,r.a.createElement(Gi,{role:this.props.role,workspace:this.props.workspace,onUpload:this.handleUpload,goOnReportsWorkspace:this.goOnReportsWorkspace,inviteWorkspace:this.handleInvite,deleteWorkspace:this.handleDelete,canEditWorkspace:this.props.canEditWorkspace,leaveWorkspace:this.handleLeave,switchWorkspace:this.switchWorkspace,onEditName:function(t){return e.props.editWorkspace({name:t})}}),r.a.createElement("div",{className:"m-t-48"},r.a.createElement("div",{className:"WorkspaceDetails"},r.a.createElement("ul",{className:"p-t-16"},this.props.workspace.createdAt&&r.a.createElement("li",{className:"flex middle-xs m-b-16"},r.a.createElement(v.Icon,{name:"ic-calendar",color:"#c7c9cb",size:"xsmall"}),r.a.createElement(v.Text,{"rb-test-id":"workspace-created-on",size:"small",className:"Text--SubDetail m-l-12"},"Created on ",Object(je.a)(this.props.workspace.createdAt)," by ",this.props.workspace.email)),r.a.createElement("li",{className:"flex middle-xs"},r.a.createElement(v.Icon,{name:"ic-link",color:"#c7c9cb",size:"xsmall"}),t?r.a.createElement(v.Text,{"rb-test-id":"workspace-created-links",size:"small",className:"Text--SubDetail m-l-12"},Object(ct.formatNumber)(this.props.workspace.links)," ",Z()("Link",this.props.workspace.links)," (current  ",r.a.createElement(v.Tooltip,{overlay:"Ends ".concat(Object(je.a)(c()(this.props.account.subscription,"billing.cycle.resetsAt"))),placement:"right"},r.a.createElement("span",{className:"Text--UnderlineDash"},"billing cycle")),")"):r.a.createElement(Ae.a,{size:"lg",className:"m-l-12",onClick:this.switchWorkspace},Object(ct.formatNumber)(this.props.workspace.links)," ",Z()("Link",this.props.workspace.links))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Tooltip,{overlay:this.props.workspace.owner?r.a.createElement("span",null,"Your current plan doesn't",r.a.createElement("br",null),"include Public link stats."," ",r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options")):r.a.createElement("span",null,"You can't change Public link stats from this workspace"),placement:"right",display:!this.props.workspace.owner||!this.props.hasPublicStatsFeature},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Icon,{name:s?"ic-eye":"ic-eye-off",color:"var(--color-grey-200)",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Label,{value:"Public link stats",disabled:!this.props.workspace.owner||!this.props.hasPublicStatsFeature},r.a.createElement(v.Toggle,{onChange:function(){return e.props.toggleWorkspaceStatsPrivacy(s)},checked:s}))))),r.a.createElement(v.Tooltip,{overlay:i,placement:"right"},r.a.createElement(v.Icon,{className:"m-l-4",name:"ic-information",color:"var(--color-grey-200)",size:"tiny"}))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-link",color:"#c7c9cb",size:"xsmall"}),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(v.Tooltip,{placement:"right",overlay:r.a.createElement("span",null,"You are not allowed to import",r.a.createElement("br",null),"links to this workspace."," ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360011401694",target:"_blank",rel:"noopener noreferrer"},"Learn more")),display:!m},r.a.createElement("span",null,r.a.createElement(Ae.a,{className:"m-l-12",size:"lg",onClick:this.goToBulkImport,disabled:!m},"Import new links")))))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-link",color:"#c7c9cb",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(De.a,d,r.a.createElement(v.Button,{theme:"link",label:"Export all links"})))),!t&&r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-link",color:"#c7c9cb",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Tooltip,{placement:"right",display:!this.props.hasLinksExpirationFeature,overlay:this.props.workspace.owner?r.a.createElement("span",null,"Your current plan doesn't include Link Expiration.",r.a.createElement("br",null),r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options")):r.a.createElement("span",null,"You can't change links expiration time in this workspace")},r.a.createElement(v.Button,{theme:"select",label:this.getExpirationLabel(),disabled:!this.props.canEditWorkspace||!this.props.hasLinksExpirationFeature,onClick:function(){return e.setState({showLinksExpirationModal:!0})}})))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-people",color:"#c7c9cb",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Tooltip,{placement:"right",display:!this.props.canViewTeammates||!this.props.hasTeammatesFeature,overlay:r.a.createElement("span",null,"Your current plan doesn't include Teammates.",r.a.createElement("br",null),r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options"))},r.a.createElement(v.Button,{theme:"link",label:a,disabled:!this.props.canViewTeammates||!this.props.hasTeammatesFeature,onClick:this.goOnTeammatesWorkspace})))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-domain",color:"#c7c9cb",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},!this.props.canEditWorkspace&&r.a.createElement(v.Text,{className:"Text--SubDetail",size:"small"},"".concat(this.state.sharedDomainsCount," Branded ").concat(Z()("domain",this.state.sharedDomainsCount)," included")),this.props.canEditWorkspace&&!this.props.hasDomains&&r.a.createElement(Ae.a,{to:"/domains/new",size:"lg"},"Register new domain"),this.props.canEditWorkspace&&this.props.hasDomains&&r.a.createElement(v.Button,{"rb-test-id":"workspace-select-domains-button",onClick:this.openManageDomainsModal,theme:this.props.isLoadingDomains?"link":"select",label:"".concat(this.state.sharedDomainsCount," Branded ").concat(Z()("domain",this.state.sharedDomainsCount)," included")}))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-device-default",color:"#c7c9cb",size:"xsmall"}),r.a.createElement(ec,{workspaceId:this.props.id,disabled:u,canManageOptions:this.props.canEditApps,tooltip:this.props.hasDeeplinksFeature?l?r.a.createElement("span",null,"You are all set to configure deeplinks for your workspace.",r.a.createElement(Ae.a,{to:"/pricing"},"Learn more")):r.a.createElement("span",null,"No apps configured for this workspace"):r.a.createElement("span",null,"Your current plan doesn't include deep links.",r.a.createElement("br",null),r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options")),onAttachApp:this.attachApp,onUpdateApp:this.props.updateApp,onDetachApp:this.props.detachApp},r.a.createElement(v.Button,{theme:"link",label:o,disabled:u}))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-tags",size:"xsmall",color:"#c7c9cb"}),this.props.isLoadingTags||this.props.canEditWorkspace&&(this.props.hasTagsFeature||this.props.workspace.owner)?r.a.createElement(Yi,{workspaceId:this.props.id,canManageOptions:this.props.canEditWorkspace,tooltip:r.a.createElement("span",null,"Your current plan doesn't include Tags.",r.a.createElement("br",null),r.a.createElement(Ae.a,{to:"/pricing"},"View our plan options"))},r.a.createElement(v.Button,{label:"".concat(this.props.tagsCount," ").concat(Z()("Tag",this.props.tagsCount)),disabled:this.props.workspace.owner&&!this.props.hasTagsFeature})):r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"".concat(this.props.tagsCount," ").concat(Z()("Tag",this.props.tagsCount)))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-retarget",size:"xsmall",color:"#c7c9cb"}),this.props.isLoadingScripts||this.props.canEditWorkspace&&(this.props.hasScriptsFeature||this.props.workspace.owner)?r.a.createElement(oc,{workspaceId:this.props.id,canManageOptions:this.props.canEditWorkspace,tooltip:r.a.createElement("span",null,"Your current plan doesn't include Retargeting.",r.a.createElement("br",null),"You can add Retargeting to get more out of your",r.a.createElement("br",null),"branded links. ",r.a.createElement(v.Button,{theme:"link",size:"sm",onClick:function(){return e.props.history.push("/pricing")},label:"View our plan options"}))},r.a.createElement(v.Button,{disabled:!this.props.canEditWorkspace&&!this.props.isLoadingScripts||!this.props.hasScriptsFeature,label:"".concat(this.props.scriptsCount," Retargeting ").concat(Z()("script",this.props.scriptsCount))})):r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"".concat(this.props.scriptsCount," ").concat(Z()("Script",this.props.scriptsCount)))),r.a.createElement("li",{className:"flex middle-xs m-t-16"},r.a.createElement(v.Icon,{name:"ic-mixer",color:"#c7c9cb",size:"xsmall"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Tooltip,{placement:"right",overlay:r.a.createElement("span",null,"You are not allowed to manage URL",r.a.createElement("br",null),"parameters in this workspace."," ",r.a.createElement(v.A,{href:"https://support.rebrandly.com/hc/en-us/articles/360006946217",target:"_blank",rel:"noopener noreferrer"},"Learn more")),display:!this.props.canEditUrlParams||!this.props.hasUrlParamsFeature},r.a.createElement(v.Button,{theme:"select",label:"Manage URL parameters",onClick:function(){return e.setState({showParamsTemplating:!0})},disabled:!this.props.canEditUrlParams||!this.props.hasUrlParamsFeature,isLoading:this.props.isLoadingTemplates&&!this.state.showParamsTemplating}))))))),this.props.workspaceLimitReached&&r.a.createElement("div",{className:"Container--narrow m-t-36"},r.a.createElement(v.Alert,{status:"info",title:"Workspaces and Teammates"},r.a.createElement(v.Text,{size:"small"},r.a.createElement(v.A,{size:"md",target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/115006305067-Why-should-I-create-a-Workspace-",rel:"noopener noreferrer"},"Workspaces")," are like folders for your links. They\u2019re great for organising your campaigns, collaborating with multiple teams and creating new projects. ",r.a.createElement(Ae.a,{to:"/pricing",size:"lg"},"Upgrade your plan")," to add workspaces to your Rebrandly account."))),r.a.createElement(Ja.a,{workspaceId:this.props.id,onClose:this.closeManageDomainsModal,onAttachDomain:function(t){return e.countWorkspaceDomains()},onDetachDomain:function(t){return e.countWorkspaceDomains()},isOpen:this.state.showManageDomainsModal}),r.a.createElement(ic,{workspace:this.props.workspace,onClose:function(){return e.setState({showLinksExpirationModal:!1})},isOpen:this.state.showLinksExpirationModal}),r.a.createElement(jc,{workspaceId:this.props.workspace.id,onClose:function(){return e.setState({showParamsTemplating:!1})},isOpen:this.state.showParamsTemplating}))}}]),a}(n.PureComponent),Nc=Object(s.g)(Object(w.b)((function(e,t){var a=c()(e.workspaces.items,"[".concat(t.id,"]"),{}),n=c()(e.workspaces.features,"[".concat(t.id,"]"),[]);return{role:Object(H.e)(e.account.id,t.id,e),account:e.account,workspace:a,tagsCount:e.tags.count.total,appsCount:e.apps.count.total,scriptsCount:e.scripts.count.total,isLoadingTags:e.tags.isLoading,isLoadingTemplates:e.paramsTemplates.isLoading,isLoadingScripts:e.scripts.isLoading,hasDomains:Object(He.c)("domains",e.account)>0,params:e.accountDomains.params,isLoadingDomains:e.accountDomains.isLoading||e.domains.isLoading,canViewTeammates:Object(H.d)(e,t.id,"view","workspaces.teammates"),canEditUrlParams:Object(H.d)(e,t.id,"edit","workspaces.utm"),canEditWorkspace:Object(H.d)(e,t.id,"edit","workspaces"),canEditApps:Object(H.d)(e,t.id,"edit","workspaces.deeplinks"),hasTeammatesFeature:Object(qe.hasFeature)("collaboration.teammates",n),hasBulkImportFeature:Object(qe.hasFeature)("links.import",n),hasLinksExportFeature:Object(qe.hasFeature)("links.export",n),hasPublicStatsFeature:Object(qe.hasFeature)("reports.public",n),hasTagsFeature:Object(qe.hasFeature)("links.tags",n),hasDeeplinksFeature:Object(qe.hasFeature)("links.apps",n),hasScriptsFeature:Object(qe.hasFeature)("links.scripts",n),hasLinksExpirationFeature:Object(qe.hasFeature)("links.expiration",n),hasUrlParamsFeature:Object(qe.hasFeature)("links.utm",n),workspaceLimitReached:0===Object(He.b)("workspaces",e.account)}}),(function(e,t){return{editWorkspace:function(a){return e(Object(Gt.m)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"Workspace details updated"))})).catch((function(){e(Object(W.a)(q.b,"Error while updating workspace"))}))},attachDomain:function(a){return e(Object(Gt.f)(t.id,a.id)).then((function(){return e(Object(W.a)(q.h,"Workspace domains updated"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while updating workspace domains")),t}))},detachDomain:function(a){return e(Object(Gt.l)(t.id,a.id)).then((function(){return e(Object(W.a)(q.h,"Workspace domains updated"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while updating workspace domains")),t}))},attachApp:function(a){return e(Object(Xi.b)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"App configured"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while creating workspace app")),t}))},updateApp:function(a,n){return e(Object(Xi.d)(a,n,t.id)).then((function(){return e(Object(W.a)(q.h,"App updated"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while updating workspace app")),t}))},detachApp:function(a){return e(Object(Xi.f)(t.id,a)).then((function(){return e(Object(W.a)(q.h,"App deleted"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while updating workspace app")),t}))},setContext:function(t){return e(Object(N.g)(t))},loadWorkspace:function(){return e(Object(Gt.o)(t.id))},deleteWorkspace:function(){return e(Object(Gt.s)(t.id)).then((function(){return e(Object(W.a)(q.f,"Workspace deleted"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while deleting workspace")),t}))},leaveWorkspace:function(){return e(Object(Gt.n)(t.id)).then((function(){return e(Object(W.a)(q.h,"Workspace leaved"))})).catch((function(t){throw e(Object(W.a)(q.b,"Error while leaving workspace")),t}))},countWorkspaceTags:function(){return e(Object(Dn.c)(t.id))},countWorkspaceApps:function(){return e(Object(Xi.a)(t.id))},loadWorkspaceApps:function(){return e(Object(Xi.e)(null,t.id))},countWorkspaceScripts:function(){return e(Object(nc.b)(t.id))},showError:function(t){return e(Object(W.a)(q.b,t))},toggleWorkspaceStatsPrivacy:function(a){return e(a?Object(Gt.v)(t.id):Object(Gt.w)(t.id))}}}))(Cc)),Sc=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!0},e.back=function(t){t.stopPropagation(),e.setState({open:!1},(function(){setTimeout(e.props.history.goBack,250)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Modal,{size:"lg",isOpen:this.state.open,showClose:!0,onClose:this.back},r.a.createElement(v.ModalContent,null,r.a.createElement(Nc,{id:this.props.match.params.id})))}}]),a}(n.PureComponent),xc=function(e){var t=e.match;return r.a.createElement("div",{className:"Container--narrow Page"},r.a.createElement(Nc,{id:t.params.id}))},Lc=a(226),Tc=a.n(Lc),_c=(a(1476),[q.a,q.h,q.f,q.g]),Dc=[q.c],Ac=[q.b,q.e,q.d],Ic=m.a.notifications.defaultDuration,Mc=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showOfflineAlert:!1},e.offlineLstener=function(){e.setState({showOfflineAlert:!0})},e.onlineLstener=function(){e.setState({showOfflineAlert:!1})},e.hidePopup=function(t){var a=document.getElementById("".concat(t));if(a){var n=a.childNodes[0].className;a.childNodes[0].className="".concat(n," Toast--exit")}setTimeout((function(){return e.props.onDelete(t)}),750)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("offline",this.offlineLstener),window.addEventListener("online",this.onlineLstener);var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t&&t.addEventListener("change",(function(a){var n=t.effectiveType;n&&"4g"!==n&&"3g"!==n&&e.props.createNotification(q.c,"Slow network connection detected!")}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.onlineLstener),window.removeEventListener("offline",this.offlineLstener)}},{key:"componentDidUpdate",value:function(e){var t=this,a=Object.values(e.notifications),n=Object.values(this.props.notifications);Tc()(n,a,"id").map((function(e){return-1!==e.duration&&setTimeout((function(){return t.hidePopup(e.id)}),e.duration||function(e){var t;switch(e){case q.a:case q.h:case q.f:t=4e3;break;default:t=Ic}return t}(e.type))}))}},{key:"renderNotification",value:function(e){var t,a=this,n={showClose:!0,onDismiss:function(){return a.hidePopup(e.id)},title:e.title,message:e.message,type:(t=e.type,Ac.includes(t)?"error":Dc.includes(t)?"warning":_c.includes(t)?"success":"info"),cta:e.cta};return r.a.createElement("div",{key:e.id,id:e.id},r.a.createElement(v.Toast,n))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ToastContainer"},this.state.showOfflineAlert&&r.a.createElement("div",null,r.a.createElement(v.Toast,{showClose:!0,title:"You are offline",onDismiss:function(){return e.setState({showOfflineAlert:!1})},type:"error"})),!T()(this.props.notifications)&&Object.values(this.props.notifications).slice(0,5).map((function(t){return e.renderNotification(t)})))}}]),a}(n.PureComponent),Rc=Object(w.b)((function(e){return{notifications:e.notifications.items}}),(function(e){return{createNotification:function(t,a,n){return e(Object(W.a)(t,a,null,null,n))},onDelete:function(t){return e(Object(W.c)(t))}}}))(Mc),Pc=function(e){var t=e.isOpen,a=e.viewBills,o=Object(n.useState)(t),s=Object(sn.a)(o,2),i=s[0],c=s[1];return Object(n.useEffect)((function(){c(t)}),[t]),r.a.createElement(he.a,{isOpen:i,onClose:function(){return c(!1)},icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Payment overdue",message:r.a.createElement("span",null,"One or more bills are unpaid. Please proceed with payment immediately in order to keep your account active."),primaryButtonProps:{label:"View bills",onClick:function(){c(!1),a()},theme:"primary"},secondaryButtonProps:{label:"Ok, got it",onClick:function(){return c(!1)}}})},zc=function(e){var t=e.icann,a=e.icannData,n=e.sendEmailChallenges,o=e.isLoading,s=e.isSuspended,i=e.onClose,c=e.smallestDate,l=a&&a.map((function(e){return e.email})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e,t,a){return 0===t?r.a.createElement("span",null,r.a.createElement("b",{className:"linebreak",key:e},e)):t>0&&a.length>2&&t<a.length-2?r.a.createElement("span",null,", ",r.a.createElement("b",{className:"linebreak",key:e},e)):r.a.createElement("span",null," and ",r.a.createElement("b",{className:"linebreak",key:e},e))}));if(t){if(1===t)return r.a.createElement(he.a,{isOpen:!0,onClose:i,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:s?"Domain(s) suspended":"Domain(s) verification missing",message:s?r.a.createElement("span",null,"The email associated to one or more domain names you  registered with Rebrandly has not been verified. The ICANN authority requires all domain name owners to validate their contact information. If you need more info ",r.a.createElement(v.A,{href:"https://rebrandly.support/contact",size:"md",target:"_blank",rel:"noopener noreferrer"},"contact support.")):r.a.createElement("span",null,"The email associated to one or more domain names you recently registered with Rebrandly has not been verified. The ICANN authority requires all domain name owners to validate their contact information. If you don't take action your domain name(s) will be suspended on ",c,". If you need more info ",r.a.createElement(v.A,{href:"https://rebrandly.support/contact",size:"md",target:"_blank",rel:"noopener noreferrer"},"contact support.")),primaryButtonProps:{label:"Resend verification email",onClick:n,theme:"primary",isLoading:o},secondaryButtonProps:{label:"Ok, got it",isLoading:o,onClick:i}});if(2===t)return r.a.createElement(he.a,{isOpen:!0,onClose:i,icon:{name:"ic-warning",color:"#f6852f",size:"md"},title:"Verification email sent",message:r.a.createElement("span",null,"An email with the verification link has been sent to ",l,". Make sure to check both your inbox and your junk/spam folder, and to click on the verification link, If you need more info ",r.a.createElement(v.A,{href:"https://rebrandly.support/contact",size:"md",target:"_blank",rel:"noopener noreferrer"},"contact support.")),noPrimaryButton:!0,secondaryButtonProps:{label:"Ok, got it",onClick:i}})}return null},Fc=(a(1477),function(){return r.a.createElement("div",{className:"ClickTrackedLimitBanner p-t-12 p-b-12"},r.a.createElement("div",{className:"Container--wide"},r.a.createElement("div",{className:"flex between-xs"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Icon,{className:"m-r-12",name:"ic-warning",color:"#f6852f",size:"xsmall"}),r.a.createElement(v.Text,{size:"small",className:"font-semibold"},"You\u2019ve reached your plan\u2019s monthly click tracking limit - new clicks are not being tracked! ",r.a.createElement(v.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/360009636513",size:"lg"},"Learn more"))),r.a.createElement(Ae.a,{to:"/pricing"},r.a.createElement(v.Button,{theme:"checkout",label:"Upgrade"})))))}),Uc=function(e){var t=e.onClose,a=e.onUpgrade,o=e.isOpen;return r.a.createElement(he.a,{icon:{name:"ic-warning",color:"#f6852f",size:"sm"},title:"Click limit reached",message:r.a.createElement(n.Fragment,null,"You hit your click limit. Links will continue to redirect to their destination but new clicks are not being tracked. ",r.a.createElement(v.A,{target:"_blank",href:"https://support.rebrandly.com/hc/en-us/articles/360009636513",size:"lg"},"Learn more")),secondaryButtonProps:{label:"Close",onClick:t},primaryButtonProps:{label:"Upgrade",theme:"checkout",onClick:a},isOpen:o,onClose:t})},Bc=(a(1478),Object(s.g)((function(e){var t=e.hasCreatedALink,a=e.hasAddedADomain,n=e.hasInstalledAnExtension,o=(e.steps,e.onCloseSetup),s=e.history,i={label:"Get Bookmarklet",onClick:function(){Object(Ft.f)(),s.push("/apps/bookmarklet")}};switch(Ve.i){case"chrome":i={label:"Get Chrome extension",href:m.a.extensions.chrome,target:"_blank"};break;case"firefox":i={label:"Get Firefox extension",href:m.a.extensions.firefox,target:"_blank"}}return r.a.createElement("div",{className:"SetupBanner"},r.a.createElement(v.Text,{size:"small",className:"Text--Negative"},"Complete Dashboard setup:"),r.a.createElement("ol",{className:"SetupBanner__steps"},r.a.createElement("li",{className:C()("SetupBanner__step",{"SetupBanner__step--disabled":a})},r.a.createElement(Ae.a,{size:"lg",to:"/domains/new"},"1. Add a branded domain")),r.a.createElement("li",{className:C()("SetupBanner__step",{"SetupBanner__step--disabled":t})},r.a.createElement(Ae.a,{size:"lg",to:{pathname:"/links/new",state:{modal:!0}}},"2. Rebrand your first link")),r.a.createElement("li",{className:C()("SetupBanner__step",{"SetupBanner__step--disabled":n})},r.a.createElement(Ae.a,Object.assign({size:"lg"},i),"3. ",i.label))),r.a.createElement(v.IconButton,{className:"SetupBanner__close",theme:"ghost",icon:{name:"ic-cross",color:"#fff",size:"xsmall"},onClick:o}))}))),Wc=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={skipOnBoarding:!1,skipClickLimitModal:!1,dueOrders:0,icann:0},e.handleUpgradeClickLimitModal=function(){return e.props.history.push("/pricing")},e.handleCloseClickLimitModal=function(){e.setState({skipClickLimitModal:!0}),Object(Ft.l)(fe()(e.props.nextResets).diff(fe()(),"days"))},e.handleCloseSetup=function(){e.setState({skipOnBoarding:!0}),Object(Ft.n)()},e.sendEmailChallenges=function(){e.setState({isSendingChallenges:!0});var t=e.state.icannData.filter((function(e){return fe()().diff(e.challengedAt,"h")>24})).map((function(e){return Object(b.Bd)({email:e.email})}));return Promise.all(t).then((function(){e.setState({isSendingChallenges:!1,icann:2})}))},e.handleCloseICANNVerificationBanner=function(){Object(Ft.m)("development"===m.a.env?new Date((new Date).getTime()+12e4):1,e.props.accountId),e.setState({icann:0})},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(Ft.i)(this.props.accountId)&&Object(b.Lb)().then((function(t){if(!T()(t)&&t.some((function(e){return fe.a.utc().diff(e.challengedAt,"h")>24}))){var a=t.reduce((function(e,t){return fe()(e).isBefore(fe()(t.deadline))?e:t.deadline}),t[0].deadline);e.setState({icann:1,icannData:t,isSuspended:fe()(a).isBefore(fe()()),smallestDate:a})}})),Object(b.s)().then((function(t){return e.setState({dueOrders:t.count})})).catch((function(){}))}},{key:"render",value:function(){var e=this,t=c()(this.state,"dueOrders",0)>0;return r.a.createElement(n.Fragment,null,this.props.shouldShowSetup(this.props.location.pathname)&&!this.state.skipOnBoarding&&r.a.createElement("div",{className:"display-none display-md-block overflow-hidden"},r.a.createElement(Bc,{hasCreatedALink:this.props.hasCreatedALink,hasAddedADomain:this.props.hasAddedADomain,hasInstalledAnExtension:this.props.hasInstalledAnExtension,steps:this.props.steps,onCloseSetup:this.handleCloseSetup})),this.props.shouldShowClickLimitBanner&&!Ve.g&&!Ve.h&&r.a.createElement(Fc,null),r.a.createElement(Uc,{onUpgrade:this.handleUpgradeClickLimitModal,onClose:this.handleCloseClickLimitModal,isOpen:this.props.shouldShowClickLimitModal&&!this.state.skipClickLimitModal}),this.state.icann&&"/approved"!==location.pathname?r.a.createElement(zc,{icann:this.state.icann,isSuspended:this.state.isSuspended,onClose:this.handleCloseICANNVerificationBanner,smallestDate:fe()(this.state.smallestDate).format("MMMM DD, YYYY"),isLoading:this.state.isSendingChallenges,icannData:this.state.icannData,sendEmailChallenges:this.sendEmailChallenges}):null,r.a.createElement(Pc,{viewBills:function(){return e.props.history.push("/account/billing-history")},isOpen:"/pricing/compare"!==location.pathname&&t&&!this.props.hidePaymentOverdue}))}}]),a}(n.PureComponent),Gc=Object(s.g)(Object(w.b)((function(e){return{accountId:e.account.id,hidePaymentOverdue:Object(qe.hasFeature)("extra.hide_payment_overdue",c()(e.account,"subscription.features")),hasCreatedALink:Object(Ft.d)(e),hasAddedADomain:Object(Ft.c)(e),hasInstalledAnExtension:Object(Ft.e)(),steps:Object(Ft.a)(e),shouldShowSetup:function(t){return Object(Ft.j)(e,t)},shouldShowClickLimitBanner:Object(Ft.g)(e),shouldShowClickLimitModal:Object(Ft.h)(e),nextResets:c()(e.account.subscription,"billing.cycle.resetsAt",fe()().add(7,"days"))}}))(Wc)),Hc=(a(1479),[{id:1,href:"https://www.google.com/chrome",button:{label:"Chrome",icon:{name:"ic-browser-chrome",position:"left"}}},{id:2,href:"https://www.mozilla.org/firefox",button:{label:"Firefox",icon:{name:"ic-browser-firefox",position:"left"}}},{id:3,href:"https://www.apple.com/safari",button:{label:"Safari",icon:{name:"ic-browser-safari",position:"left"}}},{id:4,href:"https://www.microsoft.com/windows/microsoft-edge",button:{label:"Edge",icon:{name:"ic-browser-edge",position:"left"}}},{id:5,href:"https://www.opera.com",button:{label:"Opera",icon:{name:"ic-browser-opera",position:"left"}}}]),qc=function(e){var t=e.onContinue;return r.a.createElement("div",{className:"Container--narrow"},r.a.createElement(de.a,{size:"lg",illustration:r.a.createElement(v.Logo,{size:"lg"}),title:"Your browser is not-compatible",message:r.a.createElement(v.Text,{className:"BrowserCompatibility__message m-t-4"},"The Rebrandly dashboard works with the latest technology to bring you the best and safest experience.",r.a.createElement("br",null),"However, our technology is not compatible with your browser version."),button:r.a.createElement("div",{className:"BrowserCompatibility__cta m-t-12"},r.a.createElement(v.Text,{size:"small"},"Rebrandly works with the latest version of the following browsers, please select one"),r.a.createElement("ul",{className:"m-t-16"},Hc.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(v.A,{href:e.href,target:"_blank"},r.a.createElement(v.Button,e.button)))}))),r.a.createElement(v.Text,{size:"small",className:"m-t-48"},"Alternatively ",r.a.createElement(Ae.a,{size:"lg",href:m.a.websiteUrl},"visit Rebrandly.com")," or ",r.a.createElement(Ae.a,{size:"lg",onClick:t},"proceed to your dashboard anyway")))}))},Vc=function(e){var t=e.history;return r.a.createElement(qc,{onContinue:function(){js.a.set(Ll,!0),t.push("/links")}})},Yc=a(145),Kc=["/links/new"],Jc=Object(s.g)((function(e){var t=e.location,a=e.previousLocation,n={path:Object(Yc.get)(t,"state.next.path")||Object(Yc.get)(a,"pathname"),search:Object(Yc.get)(t,"state.next.search")||Object(Yc.get)(a,"search")};return n.skipVerification=Object(Yc.get)(n,"path","").startsWith("/checkout/plan")||"/pricing/compare"===Object(Yc.get)(n,"path","")||"/newdomain"===Object(Yc.get)(n,"path",""),"/pricing/compare"===Object(Yc.get)(n,"path","")&&(n.search=n.search?n.search+"&skipComparison=true":"?skipComparison=true"),-1!==Kc.indexOf(n.path)?(zt.b.redirectToSignUp(Object(F.a)({},n)),null):r.a.createElement("div",{className:"Container--wide Page","rb-test-id":"unauthorized-page"},r.a.createElement("div",{className:"row p-t-128 p-b-48"},r.a.createElement("div",{className:"col-xs-12 center-xs"},r.a.createElement(v.A,{size:"lg",href:m.a.websiteUrl},r.a.createElement(v.SpotIllustration,{name:"ill-spot-rebrandly",size:"lg"})),r.a.createElement(v.Text,{className:"m-t-48 Text-Title",size:"x-large"},"You're not logged in!"),r.a.createElement(v.Text,{className:"m-t-16 Text--Detail"},"You need to log in to your account or create a new one to continue."),r.a.createElement("div",{className:"Button__list Button__list--centered m-t-48"},r.a.createElement(v.Button,{"rb-test-id":"unauthorized-page-login-button",size:"lg",theme:"secondary",label:"I have an account",onClick:function(){return zt.b.redirectToLogin(n)}}),r.a.createElement(v.Button,{size:"lg",theme:"primary",label:"Create a new account",onClick:function(){return zt.b.redirectToSignUp(n)}})))))})),Qc=(a(1480),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showMenu:!1},e.openMenu=function(){return e.setState({showMenu:!0})},e.closeMenu=function(){return e.setState({showMenu:!1})},e}return Object(y.a)(a,[{key:"renderMenu",value:function(){var e=this,t=this.props.location.pathname,a=this.props.navbarItems.filter((function(e){return!T()(e.children)||!Ye(t,e.activeIfRouteIs)}));return r.a.createElement(v.Modal,{isOpen:this.state.showMenu},r.a.createElement(v.ModalContent,null,r.a.createElement("div",{className:"NativeTabBarNavigation"},r.a.createElement("div",{className:"flex middle-xs"},r.a.createElement(v.Avatar,{img:this.props.account.avatarUrl,size:"small"}),r.a.createElement("div",{className:"m-l-12"},r.a.createElement(v.Text,{className:"Text--Detail"},this.props.account.fullName),r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},this.props.account.email))),r.a.createElement("ul",{className:"NavigationTagBar__list m-t-48"},a.map((function(a){var n=c()(a,"children",[]).filter((function(e){return e.visible}));return r.a.createElement("li",{key:a.id},T()(n)?r.a.createElement(Ae.a,Object.assign({size:"x-lg",onClick:e.closeMenu,className:a.disabled?"Text--Disable":"Text-SemiHero",disabled:a.disabled},a.link),a.name):r.a.createElement(v.Dropdown,null,r.a.createElement(v.Trigger,null,r.a.createElement(Ae.a,{size:"x-lg",className:a.disabled?"Text--Disable":"Text-SemiHero",disabled:a.disabled},a.name)),r.a.createElement(v.Menu,null,n.map((function(a){return r.a.createElement("li",{key:a.id,className:C()({"Navbar--active":Ye(t,a.activeIfRouteIs)}),"data-toggle":!0},r.a.createElement(Ae.a,Object.assign({className:"Navbar__link",size:"x-lg",onClick:e.closeMenu,disabled:a.disabled},a.link),a.name))})))))}))),r.a.createElement("div",{className:"m-t-48"},r.a.createElement(Ae.a,{to:"/sign-out"},r.a.createElement(v.Button,{label:"Sign out",theme:"deleteInverted",block:!0}))))))}},{key:"render",value:function(){var e=Ye(this.props.location.pathname,"/links");return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"NavigationTagBar p-t-4 p-b-4 full-width"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(Ae.a,{to:"/links",onClick:this.closeMenu,className:C()("NavigationTagBar__item",{"NavigationTagBar__item--active":e&&!this.state.showMenu})},r.a.createElement(v.Icon,{name:"ic-link",color:"#909398"}),r.a.createElement(v.Text,{size:"xx-small",className:"Text--Label m-t-4"},"Links"))),r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("div",{onClick:this.openMenu,className:C()("NavigationTagBar__item",{"NavigationTagBar__item--active":this.state.showMenu})},r.a.createElement(v.Icon,{name:"ic-menu",color:"#909398"}),r.a.createElement(v.Text,{size:"xx-small",className:"Text--Label m-t-4"},"Menu"))))),this.state.showMenu&&this.renderMenu())}}]),a}(n.PureComponent)),Xc=Object(s.g)(Object(w.b)((function(e){return{navbarItems:Qe(e),account:e.account}}))(Qc)),Zc={to:{pathname:"/account/billing-history",state:{modal:!0}}},$c={href:"https://rebrandly.support/contact",target:"_blank",rel:"noopener noreferrer"},el={to:{pathname:"/domains/%domain.id",state:{modal:!0}}},tl={to:{pathname:"/teammates/%user.id",state:{modal:!1}}},al={to:{pathname:"/workspaces/%workspace.id",state:{modal:!0}}},nl={to:{pathname:"/teammates/%member.id",state:{modal:!1}}},rl={"new-account":{img:"BOT",type:"success",message:"You have joined rebrandly"},"account-overflown":{img:"BOT",type:"warning",message:"Your account reached its monthly clicks quota limit. "},"account-overflowing":{img:"BOT",type:"warning",message:"Your account is close to reaching the monthly clicks quota limit"},"new-workspace":{img:"BOT",type:"info",message:"You created the [[%workspace.name]] workspace",routerLinks:[al]},"workspace-delete":{img:"BOT",type:"info",message:"You deleted the [[%workspace.name]] workspace",routerLinks:[Object(F.a)(Object(F.a)({},al),{},{disabled:!0})],deletionEvent:{deletedResource:"workspace"}},"new-signin":{img:"BOT",type:"info",message:"New sign in detected from %country via %appName",options:{country:{optional:" from %country"},appName:{optional:" via %appName"}}},"domain-delete":{img:"BOT",type:"info",message:"Your [[%domain.fullName]] domain was removed from your account",routerLinks:[Object(F.a)(Object(F.a)({},el),{},{disabled:!0})],deletionEvent:{deletedResource:"domain"}},"new-domain":{img:"BOT",type:"info",message:"The [[%domain.fullName]] domain was added to your account",routerLinks:[el]},"account-whois-data-verified":{img:"BOT",type:"success",message:"You have completed the ICANN WHOIS data verification process. [[Learn more]]",routerLinks:[{href:"https://www.icann.org/en/resources/registrars/raa/approved-with-specs-27jun13-en.htm#whois-accuracy",className:"linker",target:"_blank",rel:"noopener noreferrer"}]},"workspace-member-attached":{img:"BOT",type:"info",message:"[[%member.fullName]] joined the [[%workspace.name]] workspace as: %role",options:{role:{optional:" as: %role"}},routerLinks:[nl,al]},"workspace-member-detached":{img:"BOT",type:"info",message:"[[%member.fullName]] left the [[%workspace.name]] workspace",routerLinks:[nl,al]},"import-done":{img:"BOT",type:"success",message:"The links that [[%user.fullName]] requested were successfully imported into the [[%workspace.name]] workspace",routerLinks:[tl,al]},"export-done":{img:"BOT",type:"success",message:"The links that [[%user.fullName]] requested were successfully exported from the [[%workspace.name]] workspace",routerLinks:[tl,al,{href:m.a.downloadJobReportBaseURL+"/%job.id",className:"linker"}]},"bulk-done":{img:"BOT",type:"info",message:"Changes were made in bulk to links in your [[%workspace.name]] workspace by [[%user.fullName]]",options:{role:{optional:" by [[%user.fullName]]"}},routerLinks:[al,tl]},"domain-certificate-generated":{img:"BOT",message:"A new SSL certificate has been generated and installed for your [[%domain.fullName]] domain",routerLinks:[el]},"subscription-change":{img:"BOT",type:"success",message:"A [[%category subscription]] was activated",options:{category:{optional:"%category "}},routerLinks:[{to:{pathname:"/account/subscription",state:{modal:!0}}}]},"link-block-request":{img:"BOT",type:"info",message:"The destination %destination has been detected as potentially malicious from %systems. Links pointing to this domain won't redirect properly"},"domain-autorenew-on":{img:"BOT",type:"info",message:"Renewal preference updated. Your [[%domain.fullName]] domain will be automatically renewed prior to its expiration date",routerLinks:[el]},"domain-autorenew-off":{img:"BOT",type:"info",message:"Renewal preference updated. Your [[%domain.fullName]] domain will be deleted automatically when it expires",routerLinks:[el]},"domain-ready":{img:"BOT",type:"success",message:"The [[%domain.fullName]] domain was successfully verified for use in your account",routerLinks:[el]},"make-succeeded-transaction":{img:"BOT",type:"success",message:"A new payment was successfully processed in your account"},"new-successful-transaction":{img:"BOT",type:"success",message:"A new payment was successfully processed in your account"},"teammate-left":{img:"BOT",type:"info",message:"%teammate.fullName was removed from your account as a teammate",options:{"teammate.fullName":{alternative:{remove:"%teammate.fullName",replaceWith:"Someone"}}},deletionEvent:{deletedResource:"teammate"}},"new-appkey":{img:"BOT",type:"info",message:"A new API key was created in your account. [[Manage your API keys]]",routerLinks:[Object(F.a)(Object(F.a)({},{to:{pathname:"/account/api-keys",state:{modal:!0}}}),{},{className:"linker"})]},"new-invoice":{img:"BOT",type:"info",message:"A new invoice was made available. [[View billing history]]",routerLinks:[Object(F.a)(Object(F.a)({},Zc),{},{className:"linker"})]},"invite-accepted-invitee":{img:"BOT",type:"success",message:"You were added to %invitor.fullName's teammates!",options:{"invitor.fullName":{alternative:{remove:"%invitor.fullName",replaceWith:"someone"}}}},"invite-accepted-invitor":{img:"BOT",type:"success",message:"[[%invitee.fullName]] was added to your account as new teammate",options:{"invitee.fullName":{alternative:{remove:"[[%invitee.fullName]]",replaceWith:"Someone"}}},routerLinks:[{to:{pathname:"/teammates/%invitee.id",state:{modal:!1}}}]},"invite-sent":{img:"BOT",type:"info",message:"A new invite to collaborate was sent"},"make-refunded-transaction":{img:"BOT",message:"A refund has been issued on the payment method on file. [[View billing history]]",routerLinks:[Object(F.a)(Object(F.a)({},Zc),{},{className:"linker"})]},"domain-dns-misconfigured":{img:"BOT",type:"error",message:"Your [[%domain.fullName]] domain is unresponsive to the Rebrandly verification. [[Contact us]]",routerLinks:[el,Object(F.a)(Object(F.a)({},$c),{},{className:"linker"})]},"domain-no-longer-responsive":{img:"BOT",type:"error",message:"Your [[%domain.fullName]] domain is unresponsive to the Rebrandly verification. [[Contact us]]",routerLinks:[el,Object(F.a)(Object(F.a)({},$c),{},{className:"linker"})]},"domain-unverified":{img:"BOT",type:"error",message:"Your [[%domain.fullName]] domain is unresponsive to the Rebrandly verification. [[Contact us]]",routerLinks:[el,Object(F.a)(Object(F.a)({},$c),{},{className:"linker"})]},"domain-certificate-renewed":{img:"BOT",type:"info",message:"The SSL certificate for your [[%domain.fullName]] domain has been renewed",routerLinks:[el]},"domain-routing-enabled":{img:"BOT",type:"info",message:"Faster redirect feature has been enabled for [[%domain.fullName]] domain",routerLinks:[el]},"domain-name-registered":{img:"BOT",type:"info",message:"[[%domain.fullName]] domain name has been registered",routerLinks:[el]},"domain-name-renewed":{img:"BOT",type:"success",message:"[[%domain.fullName]] domain name has been renewed",routerLinks:[el]},"domain-name-registration-failed":{img:"BOT",type:"error",message:"There were issues while registering the [[%domain.fullName]] domain name. Contact us",routerLinks:[el,Object(F.a)(Object(F.a)({},$c),{},{className:"linker"})]},"domain-routing-disabled":{img:"BOT",type:"info",message:"Faster redirect feature has been disabled for [[%domain.fullName]] domain",routerLinks:[el]}},ol=(a(1481),["workspace","domain","teammate"]),sl=function(e){var t=e.img,a=e.type,o=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"avatar-wrapper m-l-16"},r.a.createElement(v.Avatar,{img:t}),r.a.createElement(v.Icon,Object.assign({className:"type-icon",size:"tiny"},Object(bt.b)(a)))),r.a.createElement(v.Text,{size:"small",className:"m-l-16"},o))},il=function(e){return Array.isArray(e)&&0!==e.length?e.map((function(t,a){var n;switch(t){case"rebrandly":n="Rebrandly";break;case"google-safe-browsing":n="Google Safe Browsing";break;default:n="Unknown system"}return"".concat(n).concat(a<e.length-1?", ":"")})):"our system"},cl=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={allResourcesLoaded:!1,loading:!0},e.loadActivities=function(t){e.setState({loading:!0},(function(){return e.props.loadActivities(t).then((function(t){e.setState({loading:!1}),t&&e.setState({allResourcesLoaded:T()(c()(t,"value.results"))})}))}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.loadActivities()}},{key:"render",value:function(){var e=this;if(!bt.e)return r.a.createElement(v.Loading,{withMargin:!0});if(!this.state.loading&&0===this.props.activities.length)return r.a.createElement(Kt.e,null);var t=function(e){var t={};return function(a){var n=a.verb,o=c()(a,"payload.invitor",{}),s=c()(a,"payload.invitee",{});if("invite-accepted"===n&&(e.id===s.id?n="invite-accepted-invitee":"invite-accepted"===n&&e.id===o.id&&(n="invite-accepted-invitor")),"domain-routing"===n){var i=c()(a,"payload.routing",{});if(!c()(i,"addressing"))return null;n="anycast"===i.addressing?"domain-routing-enabled":"domain-routing-disabled"}var l=rl[n];if(!l)return null;var u=c()(a,"payload.country"),m=c()(a,"payload.user",{}),p=c()(a,"payload.link.destination",""),d=c()(a,"payload.rbls",[]),h={account:e,workspace:c()(a,"payload.workspace",{}),appName:c()(a,"payload.appName"),country:c()(Object(ia.a)(u),"country"),domain:c()(a,"payload.domain",{}),member:c()(a,"payload.member",{}),teammate:c()(a,"payload.teammate",{}),invitor:o,invitee:s,user:Object(F.a)(Object(F.a)({},m),{},{avatarUrl:e.avatarUrl,fullName:m.id===e.id?"you":m.fullName}),job:c()(a,"payload.job",{}),category:Object(ct.capitalize)(c()(a,"payload.category","")),destination:Object(nn.getDomain)(p),systems:il(d)};l.deletionEvent?t[l.deletionEvent.deletedResource]=[].concat(Object(U.a)(c()(t,l.deletionEvent.deletedResource,[])),[h[l.deletionEvent.deletedResource].id]):ol.forEach((function(e){c()(t,e,[]).find((function(t){return t===c()(h,"".concat(e,".id"))}))&&delete h[e].id}));var b=At(l,h);return r.a.createElement(sl,{img:b.avatarUrl,type:b.type},b.message)}}(this.props.account);return r.a.createElement("div",{className:"TimelineContainer"},r.a.createElement(Se.a,null,r.a.createElement(Se.d,{className:"Container--wide"},r.a.createElement(Se.b,{className:"col-xs-11"},"Event"),r.a.createElement(Se.b,{className:"col-xs-1 text-right"},"Time")),r.a.createElement(Se.f,null,this.props.activities.map((function(e,a){var n=t(e);return n?r.a.createElement(Se.e,{key:a,className:"Container--wide",containerClassName:"ListRow--full"},r.a.createElement(Se.c,{className:"TimelineContainer__Activity col-xs-12 col-sm-10 col-md-11"},r.a.createElement("div",{className:"flex middle-xs Text--Detail"},n)),r.a.createElement(Se.c,{className:"TimelineContainer__TimeColumn col-xs-12 col-sm-2 col-md-1 text-right"},r.a.createElement(v.Text,{size:"x-small",className:"Text--Detail"},function(e){var t=(e.time||e.updated_at)+"Z";return r.a.createElement(v.Tooltip,{overlay:Object(je.a)(t,"MMMM DD, YYYY HH:mm:ss")},r.a.createElement("span",null,Object(je.a)(t,"past",!1)))}(e)))):null})))),r.a.createElement(cr.a,{key:this.props.activities.length.toString(),isLoading:this.state.loading,canLoadMore:!this.state.allResourcesLoaded,loadingLabel:"Loading...",onLoadMore:function(){return e.loadActivities(c()(Ra()(e.props.activities),"id"))},infinite:!0}))}}]),a}(n.PureComponent),ll=Object(w.b)((function(e){return{account:e.account,activities:e.feed.timeline.activities}}),(function(e){return{loadActivities:function(t){return bt.e?e(Object(ht.d)(t)):Promise.resolve()}}}))(cl),ul=function(e){e.match;return r.a.createElement(ll,null)},ml=(a(1482),function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e={path:"/linkgallery",search:""};return r.a.createElement("div",{className:"LinkGallery__oauth Page"},r.a.createElement("div",{className:"center-xs"},r.a.createElement("div",{className:"LinkGallery__brand flex center-xs"},r.a.createElement(v.SpotIllustration,{name:"ill-spot-linkgallery-by-rb"})),r.a.createElement(v.Text,{size:"large",className:"Text-SemiHero m-t-24"},"Create a ",r.a.createElement("span",null,r.a.createElement("strong",null,"free")," account for LinkGallery")),r.a.createElement("div",{className:"LinkGallery__oauth--text m-t-12"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"You need a ",r.a.createElement(v.A,{size:"lg",href:"https://rebrandly.com",target:"_blank"},"Rebrandly")," account in order to use LinkGallery",r.a.createElement("br",null),"Already have an account? ",r.a.createElement(v.A,{size:"lg",onClick:function(){return zt.b.redirectToLogin(e)}},"Login in here"))),r.a.createElement("div",{className:"LinkGallery__oauth--buttons m-t-16 flex middle-xs"},r.a.createElement(v.Button,{className:"LinkGallery__oauth--social-button",theme:"filter",icon:{name:"ic-social-twitter",size:"xsmall"},onClick:function(){return zt.b.redirectToSignUp(Object(F.a)(Object(F.a)({},e),{},{provider:"twitter"}))}}),r.a.createElement(v.Button,{className:"LinkGallery__oauth--social-button",theme:"filter",icon:{name:"ic-social-facebook",size:"xsmall"},onClick:function(){return zt.b.redirectToSignUp(Object(F.a)(Object(F.a)({},e),{},{provider:"facebook"}))}}),r.a.createElement(v.Button,{className:"LinkGallery__oauth--social-button",theme:"filter",icon:{name:"ic-social-google-g",size:"xsmall"},onClick:function(){return zt.b.redirectToSignUp(Object(F.a)(Object(F.a)({},e),{},{provider:"google"}))}}),r.a.createElement(v.Button,{className:"LinkGallery__oauth--social-button",theme:"filter",icon:{name:"ic-social-instagram",size:"xsmall"},onClick:function(){return zt.b.redirectToSignUp(Object(F.a)(Object(F.a)({},e),{},{provider:"instagram"}))}}),r.a.createElement(v.Button,{className:"LinkGallery__oauth--social-button LinkGallery__oauth__mail-button",theme:"filter",icon:{name:"ic-mail",size:"xsmall",color:"var(--color-grey-400)"},onClick:function(){return zt.b.redirectToSignUp(e)}})),r.a.createElement("div",{className:"m-t-24"},r.a.createElement(v.Text,{size:"small",className:"Text--SubDetail"},"By creating an account you agree to",r.a.createElement("br",null),"our ",r.a.createElement(v.A,{size:"lg",href:"https://www.rebrandly.com/terms-conditions",target:"_blank"},"terms")," and\xa0",r.a.createElement(v.A,{size:"lg",href:"https://www.rebrandly.com/privacy-policy",target:"_blank"},"privacy policy")))))}}]),a}(n.PureComponent)),pl=r.a.lazy((function(){return a.e(24).then(a.bind(null,1709))})),dl=r.a.lazy((function(){return a.e(22).then(a.bind(null,1691))})),hl=r.a.lazy((function(){return a.e(16).then(a.bind(null,1706))})),bl=r.a.lazy((function(){return Promise.all([a.e(13),a.e(12)]).then(a.bind(null,1700))})),fl=r.a.lazy((function(){return a.e(15).then(a.bind(null,1707))})),gl=r.a.lazy((function(){return Promise.all([a.e(1),a.e(10)]).then(a.bind(null,1708))})),vl=r.a.lazy((function(){return Promise.all([a.e(0),a.e(20)]).then(a.bind(null,1692))})),El=r.a.lazy((function(){return Promise.all([a.e(0),a.e(25)]).then(a.bind(null,1693))})),yl=r.a.lazy((function(){return a.e(18).then(a.bind(null,1694))})),kl=r.a.lazy((function(){return a.e(19).then(a.bind(null,1695))})),Ol=r.a.lazy((function(){return a.e(23).then(a.bind(null,1696))})),wl=r.a.lazy((function(){return a.e(26).then(a.bind(null,1697))})),jl=r.a.lazy((function(){return a.e(11).then(a.bind(null,1702))})),Cl=r.a.lazy((function(){return a.e(9).then(a.bind(null,1703))})),Nl=r.a.lazy((function(){return a.e(21).then(a.bind(null,1698))})),Sl=r.a.lazy((function(){return Promise.all([a.e(1),a.e(14)]).then(a.bind(null,1710))})),xl=r.a.lazy((function(){return Promise.all([a.e(7),a.e(8)]).then(a.bind(null,1699))})),Ll="skipBrowserCompatibilityCheck",Tl=function(e){Object(k.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e.previousLocation=e.props.location,e.onRKeyDown=function(t){t.metaKey||82!==t.keyCode||"/links/new"===e.props.location.pathname||"BODY"!==document.activeElement.tagName.toUpperCase()&&"A"!==document.activeElement.tagName.toUpperCase()||(t.preventDefault(),e.props.contextId&&e.props.history.push({pathname:"/links/new",state:{modal:!0}}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function e(t){t&&t.data&&t.data["rb-extension-version-code"]&&(window.hasInstalledAnExtension=t.data["rb-extension-version-code"],window.removeEventListener("message",e,!1))},window.addEventListener("message",t,!1),js.a.checkVersion(),e.next=5,zt.b.parseOauthRedirectParams();case 5:a=e.sent,this.props.history.replace({pathname:c()(a,"state.path",this.props.location.pathname),search:c()(a,"state.search",this.props.location.search)}),this.initSession().then((function(){return g.init(n.props.user,n.props.isLogged)})),c()(this.props.location,"state.modal")&&delete this.props.location.state.modal,Ve.d&&document.body.classList.add("desktop-app"),Ve.g&&document.body.classList.add("mobile-app"),("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("touch-enabled"),Ve.h&&document.body.classList.add("webview-app"),document.addEventListener("keydown",this.onRKeyDown);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Ve.d&&document.body.classList.remove("desktop-app"),Ve.g&&document.body.classList.remove("mobile-app"),Ve.h&&document.body.classList.remove("webview-app")}},{key:"componentDidUpdate",value:function(e){this.props.user,e.user,e.isLogged&&!this.props.isLogged&&g.shutdown(),this.props.pushNewLocation(this.props.location),this.props.location.state&&this.props.location.state.modal||(this.previousLocation=this.props.location),window.postMessage({"rb-extension-version":!0},"*")}},{key:"initSession",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location,a=t.pathname,n=t.search,r=new u.a(a+n,!0),o=r.query.workspace,e.prev=3,!zt.b.getToken()){e.next=13;break}if(!zt.b.isTokenExpired()){e.next=8;break}return e.next=8,zt.b.refreshToken();case 8:return e.next=10,this.props.load();case 10:if(!o){e.next=13;break}return e.next=13,this.props.updatePreferences({lastUsedWorkspace:o});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log("ERROR: unable to load session: ",e.t0);case 18:this.setState({loading:!1});case 19:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderAuthenticatedRoutes",value:function(){var e=this,t=!(!this.props.location.state||!this.props.location.state.modal||this.previousLocation===this.props.location),a=["public","error","checkout","success","accept-invite","firstlogin","sign-out","approved","unauthorized","extension-installed","setup","on-boarding-data","plan","pricing/compare"],o=[].concat(a),i=[].concat(a,["links","reports"]),c="/(".concat(o.join("|"),")"),l="/(".concat(i.join("|"),")");return r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/sso/:name",component:Ui}),r.a.createElement(s.b,{path:"/login",component:Ui}),r.a.createElement(s.b,{path:"/sign-up",component:Bo}),r.a.createElement(s.b,{path:"/extension",component:Ss}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Gc,null),Ve.h?r.a.createElement(Xc,null):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:c,render:function(){return r.a.createElement(Bt,{className:"MainHeader--clean"})}}),r.a.createElement(s.b,{path:"/",component:Bt})),r.a.createElement("div",{className:"Main__content"},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(s.d,{location:t?e.previousLocation:e.props.location},r.a.createElement(s.a,{exact:!0,from:"/",to:"/links"}),r.a.createElement(s.a,{exact:!0,from:"/linkgallery/oauth",to:"/linkgallery"}),r.a.createElement(s.a,{exact:!0,from:"/apps/linkgallery",to:"/linkgallery"}),r.a.createElement(s.b,{path:"/links/new",component:Ol}),r.a.createElement(s.b,{path:"/links/:id/share",component:z}),r.a.createElement(s.b,{path:"/links/:id",component:dl}),r.a.createElement(s.b,{path:"/workspaces/:workspaceId/links/:id",component:dl}),r.a.createElement(s.b,{path:"/links",component:gr}),r.a.createElement(s.b,{path:"/account/:route",component:vl}),r.a.createElement(s.a,{from:"/account",to:"/account/settings"}),r.a.createElement(s.b,{path:"/sign-out",component:hi}),r.a.createElement(s.b,{path:"/reports/custom/new",component:Xr}),r.a.createElement(s.b,{path:"/reports/custom/:userId/:executionId/download",component:is}),r.a.createElement(s.b,{path:"/custom-reports/:userId/:executionId/download",component:is}),r.a.createElement(s.b,{path:"/reports/custom/:id/:route",component:Be}),r.a.createElement(s.a,{from:"/reports/custom/:id",to:"/reports/custom/:id/reports"}),r.a.createElement(s.b,{path:"/reports/custom",component:Qo}),r.a.createElement(s.b,{path:"/reports/:type",component:bl}),r.a.createElement(s.b,{path:"/reports",component:bl}),r.a.createElement(s.b,{path:"/workspaces/new",component:yl}),r.a.createElement(s.b,{path:"/workspaces/:id/invite",component:uo}),r.a.createElement(s.b,{path:"/workspaces/:id/import",component:Mi}),r.a.createElement(s.b,{path:"/workspaces/:id/teammates",component:qr}),r.a.createElement(s.b,{path:"/teammates/invites",component:vs}),r.a.createElement(s.b,{path:"/teammates/:id/invite",component:se}),r.a.createElement(s.b,{path:"/teammates/invite",component:se}),r.a.createElement(s.b,{path:"/teammates/:id",component:rs}),r.a.createElement(s.b,{path:"/teammates",component:oo}),r.a.createElement(s.b,{path:"/workspaces/:id/invites",component:Fi}),r.a.createElement(s.b,{path:"/accept-invite/:id",component:Yt}),r.a.createElement(s.b,{path:"/workspaces/:id",component:xc}),r.a.createElement(s.b,{path:"/workspaces",component:hl}),r.a.createElement(s.b,{path:"/coupon-search",component:Lr}),r.a.createElement(s.a,{from:"/domains/:id/renewal",to:"/checkout/renew/:id"}),r.a.createElement(s.b,{path:"/domains/setup-dns",component:Ni}),r.a.createElement(s.b,{path:"/connect",component:Ni}),r.a.createElement(s.b,{path:"/(domains/new|newdomain)",component:pl}),r.a.createElement(s.b,{path:"/domains/:id/broken",component:Li}),r.a.createElement(s.b,{path:"/domains/:id",component:ui}),r.a.createElement(s.b,{path:"/domains",component:fl}),r.a.createElement(s.b,{path:"/linkgallery",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(xl,e))}}),r.a.createElement(s.b,{path:"/apps/category/:id",component:Cl}),r.a.createElement(s.b,{path:"/apps/:id",component:zo}),r.a.createElement(s.b,{path:"/apps",component:Cl}),r.a.createElement(s.b,{path:"/pricing/compare",component:Bi}),r.a.createElement(s.b,{path:"/contact-us",component:Nl}),r.a.createElement(s.b,{path:"/delete-account",component:ki}),r.a.createElement(s.b,{path:"/pricing",component:jl}),r.a.createElement(s.b,{path:"/plan",component:Pr}),r.a.createElement(s.b,{path:"/checkout/:type/:id",component:Ia}),r.a.createElement(s.b,{path:"/checkout/:type",component:Ia}),r.a.createElement(s.b,{path:"/success/:type",component:Ti}),r.a.createElement(s.b,{path:"/approved",component:lo}),r.a.createElement(s.b,{path:"/setup",component:gl}),r.a.createElement(s.b,{path:"/timeline",component:ul}),Ve.h&&r.a.createElement(s.b,{path:"/welcome",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(Sl,e))}}),r.a.createElement(s.b,{path:"/error/:type",component:ms}),r.a.createElement(s.b,{path:"/extension-installed",component:ds}),r.a.createElement(s.a,{to:"/error/not-found"})))),t&&r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/reports/custom/new",component:_i}),r.a.createElement(s.b,{path:"/links/new",component:wl}),r.a.createElement(s.b,{path:"/links/:id/share",component:Es}),r.a.createElement(s.b,{path:"/links/:id",component:cs}),r.a.createElement(s.b,{path:"/workspaces/new",component:kl}),r.a.createElement(s.b,{path:"/workspaces/:id/import",component:tn}),r.a.createElement(s.b,{path:"/workspaces/:id/invite",component:Q}),r.a.createElement(s.b,{path:"/teammates/:id/invite",component:Di}),r.a.createElement(s.b,{path:"/teammates/invite",component:Di}),r.a.createElement(s.b,{path:"/domains/:id/broken",component:Ii}),r.a.createElement(s.b,{path:"/workspaces/:id",component:Sc}),r.a.createElement(s.b,{path:"/reports/custom/:id/:route",component:Tr}),r.a.createElement(s.b,{path:"/contact-us",component:fi}),r.a.createElement(s.b,{path:"/delete-account",component:Sn}),r.a.createElement(s.a,{from:"/reports/custom/:id",to:{pathname:"/reports/custom/:id/reports",state:e.props.location.state}}),r.a.createElement(s.b,{path:"/domains/setup-dns",component:Ai}),r.a.createElement(s.b,{path:"/domains/:id",component:mi}),r.a.createElement(s.b,{path:"/account/:route",component:El}),r.a.createElement(s.a,{from:"/account",to:{pathname:"/account/settings",state:e.props.location.state}}),r.a.createElement(s.b,{path:"/pricing/compare",component:yi}))),!Ve.h&&r.a.createElement(s.d,null,r.a.createElement(s.b,{path:l}),r.a.createElement(s.b,{path:"/",component:Oi})))}}))}},{key:"renderAnonymousRoutes",value:function(){var e=this,t=!(!this.props.location.state||!this.props.location.state.modal||this.previousLocation===this.props.location),a=c()(this.props.location,"pathname"),o=["error","success","firstlogin","approved","signed-out","unauthorized","checkout","extension-installed","linkgallery/oauth"],i=["/suspended","/coupon-search","/plan","/reports/custom/.*/.*/download"],l=["/coupon-search","/plan","/reports/custom/.*/.*/download"],u=[].concat(o),m=[].concat(o,["newdomain","suspended","coupon-search","plan","public"]),p="/(".concat(u.join("|"),")"),d="/(".concat(m.join("|"),")"),h=[this.props.location.pathname,"/","/unauthorized"].includes(this.previousLocation.pathname)?null:this.previousLocation;return r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/sso/:name",component:Ui}),r.a.createElement(s.b,{path:"/login",component:Ui}),r.a.createElement(s.b,{path:"/sign-up",component:Bo}),r.a.createElement(s.b,{path:"/extension",render:function(){return Object(an.a)("oauth_url=".concat(Object(zt.a)()))}}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:p}),r.a.createElement(s.b,{path:"/",render:function(){return r.a.createElement(Bt,{className:C()("MainHeader--clean",{"MainHeader--noEngage":!!i.find((function(e){return new RegExp(e).test(a)})),"MainHeader--showOtherInformations":!!l.find((function(e){return new RegExp(e).test(a)}))})})}})),r.a.createElement("div",{className:"Main__content"},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(s.d,{location:t?e.previousLocation:e.props.location},r.a.createElement(s.a,{exact:!0,from:"/",to:"/unauthorized"}),r.a.createElement(s.a,{from:"/pricing/contact-us",to:"/contact-us"}),r.a.createElement(s.b,{path:"/linkgallery/oauth",component:ml}),r.a.createElement(s.a,{from:"/linkgallery",to:"/linkgallery/oauth"}),r.a.createElement(s.a,{from:"/apps/linkgallery",to:"/linkgallery/oauth"}),r.a.createElement(s.b,{path:"/apps/category/:id",component:Cl}),r.a.createElement(s.b,{path:"/apps/:id",component:zo}),r.a.createElement(s.b,{path:"/apps",component:Cl}),r.a.createElement(s.b,{path:"/suspended",component:Wt}),r.a.createElement(s.b,{path:"/sign-out",component:hi}),r.a.createElement(s.b,{path:"/signed-out",component:us}),r.a.createElement(s.b,{path:"/reports/custom/:userId/:executionId/download",component:is}),r.a.createElement(s.b,{path:"/custom-reports/:userId/:executionId/download",component:is}),r.a.createElement(s.b,{path:"/coupon-search",component:Lr}),r.a.createElement(s.a,{exact:!0,from:"/firstlogin",to:"/login?p=firstlogin"}),r.a.createElement(s.b,{path:"/approved",component:lo}),r.a.createElement(s.b,{path:"/connect",component:Ni}),r.a.createElement(s.b,{path:"/(domains/new|newdomain)",component:pl}),r.a.createElement(s.b,{path:"/plan",component:Pr}),r.a.createElement(s.b,{path:"/contact-us",component:Nl}),r.a.createElement(s.b,{path:"/extension-installed",component:ds}),r.a.createElement(s.b,{path:"/unauthorized",render:function(){return r.a.createElement(Jc,{previousLocation:h})}}),r.a.createElement(s.b,{path:"/error/:type",component:ms}),r.a.createElement(s.b,{path:"/success/:type",component:Ti}),r.a.createElement(s.a,{to:"/unauthorized"})))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:d}),r.a.createElement(s.b,{path:"/",component:Oi})),t&&r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/contact-us",component:fi}))))}}))}},{key:"renderContent",value:function(){return this.state.loading?r.a.createElement(v.Loading,{size:"lg",label:"Loading application...",withMargin:!0}):this.props.isLogged?this.renderAuthenticatedRoutes():this.renderAnonymousRoutes()}},{key:"render",value:function(){var e=js.a.get(Ll);return Ve.a||e?r.a.createElement("div",{className:"Main"},r.a.createElement(Rc,null),this.renderContent()):r.a.createElement(Vc,{history:this.props.history})}}]),a}(n.PureComponent),_l=Object(w.b)((function(e){return{contextId:e.session.currentWorkspaceId,isLogged:e.session.isLogged,user:e.account}}),(function(e){return{load:function(){return e(Object(N.d)()).then((function(t){return Object(bt.d)(t.id).then((function(){e(Object(ht.c)()),e(Object(ht.d)()),Object(bt.a)("notification-listener",(function(t){e(Object(ht.a)(t))}))})).catch((function(e){return console.error("Cannot start feed",e)})),t})).catch((function(e){}))},pushNewLocation:function(t){return e(Object(N.f)(t))},updatePreferences:function(t){return e(Object(Xa.c)(t))}}}))(Tl),Dl=(a(1483),function(e){var t=e.logo;return r.a.createElement("header",{className:"PublicMainHeader"},r.a.createElement("div",{className:"Container--wide"},r.a.createElement("div",{className:"flex between-xs"},r.a.createElement("img",{alt:"header-img",onClick:t.onClick,src:t.url,style:{width:"109px",height:"28px",backgroundSize:"contain",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(t.url,")")}}),r.a.createElement("div",{className:"flex end-xs"},r.a.createElement(Ae.a,{size:"lg",href:"https://rebrandly.rocks/LearnMore",target:"_blank"},"Learn more about Rebrandly")))))}),Al=r.a.lazy((function(){return a.e(17).then(a.bind(null,1704))}));t.a=function(){var e={};try{var t=function(e){return{header:JSON.parse(window.atob(e.split(".")[0])),body:JSON.parse(window.atob(e.split(".")[1]))}}(new u.a(window.location.href,!0).query.token).body,a=c()(t,"wId"),i=c()(t,"oId");e.url=m.a.cdn.logoBaseUrl+"?owner="+i+"&workspace="+a}catch(p){e.url=m.a.cdn.logoBaseUrl}if("/public/links/share"===window.location.pathname){var l=new u.a(window.location.href,!0).query.href;return window.location.href="https://"+l+"+",null}return r.a.createElement(o.a,{basename:"".concat("")},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/public",render:function(){return g.shutdown(),r.a.createElement(n.Fragment,null,r.a.createElement(Dl,{logo:e}),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/public/links/:id",render:function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(v.Loading,null)},r.a.createElement(Al,e))}})))}}),r.a.createElement(s.b,{component:_l})))}},738:function(e,t,a){"use strict";var n=a(227),r=a(739),o=a(710),s=a(3),i=a.n(s),c=a(9),l=a.n(c),u=a(18),m=a(12),p=a(42);var d=[function(e,t){return!1===navigator.onLine&&void 0===e.response&&(e.type=m.e),e},function(e,t,a){var n=i()(e,"raw",{}).response;if(n)switch(e.type=m.d,i()(n,"status")){case 401:a().session.isLogged&&t(Object(p.l)());break;case 403:var r=function(e){var t=function(e){return{message:e||"Error",showNotification:!1,type:m.b}},a=[];if(!i()(e,"response.data"))return a;var n=e.response.data,r=n.code,o=n.source,s=n.errors,c=n.message,u=n.limit,p=i()(u,"name");return l()(s)?a.push(p&&i()(m.j[o],[p,r])||i()(m.j[o],[r])||t(c)):s.forEach((function(e){a.push(i()(m.j[o],[e.property,e.code])||t(e&&e.message))})),a}(e.raw);r&&r.forEach((function(e){e.showNotification&&t(Object(u.a)(e.type,e.title,e.message,e.cta,e.duration||8e3))}));break;default:console.log("ERROR: Unhandled HTTP error")}return e}],h=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){var r,o=e(n);return!n.type||!(r=o)||"object"!==typeof r&&"function"!==typeof r||"function"!==typeof r.then?o:o.catch((function(e){throw d.reduce((function(e,n){return n(e,t,a)}),{raw:e,originator:n,type:null}).raw.response}))}}},b=a(112),f=a(43),g=a(83),v=a(84),E=a(81),y=a(101),k=a(94),O=a(15),w=a(2),j=a(53),C=a.n(j),N=a(10),S=(a(8),a(41)),x=Object(N.b)("LOAD_UTM_PRESETS"),L=Object(N.b)("CREATE_UTM_PRESET"),T=Object(N.b)("DELETE_UTM_PRESET"),_={isLoading:!1,items:{}};var D=a(618),A=a(40),I=a(93),M=a(67),R=a(85),P=a(50),z=a.n(P),F=a(98),U=a.n(F),B=Object(N.b)("LOAD_SUBSCRIPTIONS");Object(N.b)("FORCE_DOWNGRADE");var W=a(99),G=a(97),H=a(373),q=a(156),V=a(169),Y=a(656),K=Object(n.c)({account:p.d,cart:b.b,links:f.j,accountDomains:g.a,domains:v.c,session:S.c,notifications:u.b,payments:D.a,tags:E.e,apps:y.c,scripts:k.d,utm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FULFILLED:return _;case x.PENDING:return Object(w.a)(Object(w.a)({},e),{},{isLoading:!0});case x.FULFILLED:return Object(w.a)(Object(w.a)({},e),{},{isLoading:!1,items:t.payload.reduce((function(e,t){return Object.assign(e,Object(O.a)({},t.id,t))}),{})});case x.REJECTED:return Object(w.a)(Object(w.a)({},e),{},{isLoading:!1,items:{}});case L.FULFILLED:return Object(w.a)(Object(w.a)({},e),{},{items:Object.assign({},Object(O.a)({},t.payload.id,t.payload),e.items)});case T.FULFILLED:return Object(w.a)(Object(w.a)({},e),{},{items:C()(e.items,t.payload.id)});default:return e}},workspaces:A.j,teammates:M.e,roles:I.a,invites:R.c,subscriptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.FULFILLED:return z()(U()(t.payload,(function(e){return e.deals[0].cycle.price.net}),["asc"]),"id");default:return e}},preferences:W.a,reportTemplates:G.c,reportExecutions:H.a,feed:q.b,paramsTemplates:V.b,trendingLinks:Y.a}),J=[h,Object(r.a)(),o.a],Q=n.a.apply(void 0,J),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.d,Z=Object(n.e)(K,X(Q));t.a=Z},742:function(e,t,a){},751:function(e,t,a){e.exports=a(1485)},77:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return d}));var n=a(2),r=a(145),o=a(11),s=a(22),i="extended",c={classic:"classic",extended:"extended"},l=c.classic,u="".concat(o.a.cdn.baseUrl,"/support-images/new_default_avatar_team.png"),m=function(){return[{label:"Name AZ",value:"az",params:{orderBy:"name",orderDir:"asc"}},{label:"Name ZA",value:"za",params:{orderBy:"name",orderDir:"desc"}}]},p=function(e){var t=e.workspaces.params;return m().find((function(e){return e.params.orderBy===t.orderBy&&e.params.orderDir===t.orderDir}))},d=function(e){return Object(n.a)(Object(n.a)({},e),{},{email:Object(r.get)(e,"owner.email",""),owner:Object(r.get)(e,"role","")===s.b})}},78:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(110),r=a.n(n),o=a(397),s=a(274),i=a.n(s);function c(e){return e?e.includes(",")?e.split(","):e.includes(";")?e.split(";"):e.split():r()(e)?[]:e}var l=function(e){return e.join(",")},u=function(e){if(!e)return!1;var t=!0;return e.forEach((function(e){var a=Object(o.a)(e);t&=!!a&&a.isValid()})),t},m=function(e){if(!e)return!1;var t=!0;return e.forEach((function(e){t&=i()(e)})),t}},8:function(e,t,a){"use strict";a.d(t,"c",(function(){return L})),a.d(t,"Ob",(function(){return _})),a.d(t,"t",(function(){return D})),a.d(t,"Nb",(function(){return F})),a.d(t,"N",(function(){return U})),a.d(t,"gb",(function(){return B})),a.d(t,"Ab",(function(){return W})),a.d(t,"Kd",(function(){return G})),a.d(t,"ib",(function(){return H})),a.d(t,"Bc",(function(){return q})),a.d(t,"yd",(function(){return V})),a.d(t,"Ld",(function(){return Y})),a.d(t,"M",(function(){return K})),a.d(t,"Ud",(function(){return J})),a.d(t,"g",(function(){return Q})),a.d(t,"h",(function(){return X})),a.d(t,"vb",(function(){return Z})),a.d(t,"ub",(function(){return $})),a.d(t,"fb",(function(){return ee})),a.d(t,"ge",(function(){return te})),a.d(t,"k",(function(){return ae})),a.d(t,"n",(function(){return ne})),a.d(t,"l",(function(){return re})),a.d(t,"m",(function(){return oe})),a.d(t,"j",(function(){return se})),a.d(t,"i",(function(){return ie})),a.d(t,"nc",(function(){return ce})),a.d(t,"mc",(function(){return le})),a.d(t,"R",(function(){return ue})),a.d(t,"Zd",(function(){return me})),a.d(t,"lb",(function(){return pe})),a.d(t,"Nd",(function(){return de})),a.d(t,"rd",(function(){return he})),a.d(t,"vc",(function(){return be})),a.d(t,"uc",(function(){return fe})),a.d(t,"B",(function(){return ge})),a.d(t,"T",(function(){return ve})),a.d(t,"be",(function(){return Ee})),a.d(t,"nb",(function(){return ye})),a.d(t,"qc",(function(){return ke})),a.d(t,"z",(function(){return Oe})),a.d(t,"pc",(function(){return we})),a.d(t,"S",(function(){return je})),a.d(t,"ae",(function(){return Ce})),a.d(t,"mb",(function(){return Ne})),a.d(t,"E",(function(){return Se})),a.d(t,"Hc",(function(){return xe})),a.d(t,"sb",(function(){return Le})),a.d(t,"Y",(function(){return Te})),a.d(t,"Bb",(function(){return _e})),a.d(t,"r",(function(){return De})),a.d(t,"Gb",(function(){return Ae})),a.d(t,"J",(function(){return Ie})),a.d(t,"zb",(function(){return Me})),a.d(t,"bb",(function(){return Re})),a.d(t,"Qc",(function(){return Pe})),a.d(t,"bd",(function(){return ze})),a.d(t,"cd",(function(){return Fe})),a.d(t,"he",(function(){return Ue})),a.d(t,"nd",(function(){return Be})),a.d(t,"A",(function(){return We})),a.d(t,"sc",(function(){return Ge})),a.d(t,"Ib",(function(){return He})),a.d(t,"rc",(function(){return qe})),a.d(t,"xd",(function(){return Ve})),a.d(t,"v",(function(){return Ye})),a.d(t,"Uc",(function(){return Ke})),a.d(t,"hb",(function(){return Je})),a.d(t,"Vd",(function(){return Qe})),a.d(t,"fc",(function(){return Xe})),a.d(t,"Id",(function(){return Ze})),a.d(t,"Ed",(function(){return $e})),a.d(t,"Kc",(function(){return et})),a.d(t,"G",(function(){return tt})),a.d(t,"Gc",(function(){return at})),a.d(t,"Ic",(function(){return nt})),a.d(t,"X",(function(){return rt})),a.d(t,"ee",(function(){return ot})),a.d(t,"f",(function(){return st})),a.d(t,"tb",(function(){return it})),a.d(t,"rb",(function(){return ct})),a.d(t,"Qb",(function(){return lt})),a.d(t,"Pb",(function(){return ut})),a.d(t,"xc",(function(){return mt})),a.d(t,"wc",(function(){return pt})),a.d(t,"yc",(function(){return dt})),a.d(t,"u",(function(){return ht})),a.d(t,"C",(function(){return bt})),a.d(t,"wb",(function(){return ft})),a.d(t,"td",(function(){return gt})),a.d(t,"ed",(function(){return vt})),a.d(t,"dd",(function(){return Et})),a.d(t,"fd",(function(){return yt})),a.d(t,"pd",(function(){return kt})),a.d(t,"od",(function(){return Ot})),a.d(t,"a",(function(){return wt})),a.d(t,"Jc",(function(){return jt})),a.d(t,"Fb",(function(){return Ct})),a.d(t,"F",(function(){return Nt})),a.d(t,"q",(function(){return St})),a.d(t,"vd",(function(){return xt})),a.d(t,"ud",(function(){return Lt})),a.d(t,"je",(function(){return Tt})),a.d(t,"ie",(function(){return _t})),a.d(t,"Xb",(function(){return Dt})),a.d(t,"Jd",(function(){return At})),a.d(t,"sd",(function(){return It})),a.d(t,"Z",(function(){return Mt})),a.d(t,"cc",(function(){return Rt})),a.d(t,"Yb",(function(){return Pt})),a.d(t,"w",(function(){return zt})),a.d(t,"xb",(function(){return Ft})),a.d(t,"Ub",(function(){return Ut})),a.d(t,"Vb",(function(){return Bt})),a.d(t,"Wb",(function(){return Wt})),a.d(t,"wd",(function(){return Gt})),a.d(t,"Zc",(function(){return Ht})),a.d(t,"Wc",(function(){return qt})),a.d(t,"Sc",(function(){return Vt})),a.d(t,"Cb",(function(){return Yt})),a.d(t,"Db",(function(){return Kt})),a.d(t,"D",(function(){return Jt})),a.d(t,"jd",(function(){return Qt})),a.d(t,"id",(function(){return Xt})),a.d(t,"Nc",(function(){return Zt})),a.d(t,"Mc",(function(){return $t})),a.d(t,"Hd",(function(){return ea})),a.d(t,"hd",(function(){return ta})),a.d(t,"gd",(function(){return aa})),a.d(t,"Td",(function(){return na})),a.d(t,"Dd",(function(){return ra})),a.d(t,"kd",(function(){return oa})),a.d(t,"ld",(function(){return sa})),a.d(t,"db",(function(){return ia})),a.d(t,"L",(function(){return ca})),a.d(t,"H",(function(){return la})),a.d(t,"Ad",(function(){return ua})),a.d(t,"Md",(function(){return ma})),a.d(t,"Sd",(function(){return pa})),a.d(t,"Pd",(function(){return da})),a.d(t,"ab",(function(){return ha})),a.d(t,"Qd",(function(){return ba})),a.d(t,"Rd",(function(){return fa})),a.d(t,"I",(function(){return ga})),a.d(t,"Od",(function(){return va})),a.d(t,"Lc",(function(){return Ea})),a.d(t,"Oc",(function(){return ya})),a.d(t,"Tc",(function(){return ka})),a.d(t,"Gd",(function(){return Oa})),a.d(t,"Eb",(function(){return wa})),a.d(t,"eb",(function(){return ja})),a.d(t,"Lb",(function(){return Ca})),a.d(t,"Bd",(function(){return Na})),a.d(t,"Jb",(function(){return Sa})),a.d(t,"Zb",(function(){return xa})),a.d(t,"e",(function(){return La})),a.d(t,"oc",(function(){return Ta})),a.d(t,"Tb",(function(){return _a})),a.d(t,"Sb",(function(){return Da})),a.d(t,"ad",(function(){return Aa})),a.d(t,"s",(function(){return Ia})),a.d(t,"o",(function(){return Ra})),a.d(t,"Xc",(function(){return Pa})),a.d(t,"p",(function(){return za})),a.d(t,"Yc",(function(){return Fa})),a.d(t,"K",(function(){return Ua})),a.d(t,"Kb",(function(){return Ba})),a.d(t,"b",(function(){return Wa})),a.d(t,"qd",(function(){return Ga})),a.d(t,"cb",(function(){return Ha})),a.d(t,"d",(function(){return qa})),a.d(t,"Hb",(function(){return Va})),a.d(t,"Fc",(function(){return Ya})),a.d(t,"Ec",(function(){return Ka})),a.d(t,"Rb",(function(){return Ja})),a.d(t,"Cd",(function(){return Qa})),a.d(t,"Fd",(function(){return Xa})),a.d(t,"Ac",(function(){return Za})),a.d(t,"U",(function(){return $a})),a.d(t,"ob",(function(){return en})),a.d(t,"Rc",(function(){return tn})),a.d(t,"zc",(function(){return an})),a.d(t,"yb",(function(){return nn})),a.d(t,"gc",(function(){return rn})),a.d(t,"O",(function(){return on})),a.d(t,"Wd",(function(){return sn})),a.d(t,"jb",(function(){return cn})),a.d(t,"Cc",(function(){return ln})),a.d(t,"pb",(function(){return un})),a.d(t,"V",(function(){return mn})),a.d(t,"ce",(function(){return pn})),a.d(t,"Dc",(function(){return dn})),a.d(t,"W",(function(){return hn})),a.d(t,"qb",(function(){return bn})),a.d(t,"de",(function(){return fn})),a.d(t,"ac",(function(){return gn})),a.d(t,"tc",(function(){return vn})),a.d(t,"Pc",(function(){return En})),a.d(t,"fe",(function(){return yn})),a.d(t,"ec",(function(){return kn})),a.d(t,"dc",(function(){return jn})),a.d(t,"bc",(function(){return Cn})),a.d(t,"Mb",(function(){return Nn})),a.d(t,"Vc",(function(){return Sn})),a.d(t,"lc",(function(){return xn})),a.d(t,"hc",(function(){return Ln})),a.d(t,"ic",(function(){return Tn})),a.d(t,"Yd",(function(){return _n})),a.d(t,"y",(function(){return Dn})),a.d(t,"Q",(function(){return An})),a.d(t,"Xd",(function(){return In})),a.d(t,"kb",(function(){return Mn})),a.d(t,"P",(function(){return Rn})),a.d(t,"kc",(function(){return Pn})),a.d(t,"jc",(function(){return zn})),a.d(t,"x",(function(){return Fn})),a.d(t,"zd",(function(){return Un})),a.d(t,"md",(function(){return Bn}));var n=a(28),r=a(17),o=a(37),s=a(2),i=a(220),c=a(11),l=a(29),u=a.n(l),m=a(45),p=a(3),d=a.n(p),h=a(496),b=a.n(h),f=c.a.api.middleware.frontProxy.baseUrl,g=c.a.api.middleware.batchHandler.baseUrl,v=c.a.api.accounting.baseUrl,E=c.a.api.sso.baseUrl,y=c.a.api.middleware.templating.baseUrl,k=c.a.api.batchProgress.baseUrl,O=c.a.api.icann.baseUrl,w=c.a.api.broken.baseUrl,j=c.a.api.sar.baseUrl,C=c.a.api.aliasing.baseUrl,N=c.a.api.middleware.qrcodeGenerator.baseUrl,S=c.a.api.trending.baseUrl,x=b.a?new b.a({maxConcurrent:c.a.api.rateLimit.maxConcurrent,minTime:c.a.api.rateLimit.minTime}):{wrap:function(e){return e}},L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!n&&-1!==["clicks","links/bulk","links","tags","apps","custom","scripts","search","domains","reports","utmpresets","teammates","recommendation-system","feed"].indexOf(t)&&(!a.extraHeaders||!a.extraHeaders.workspace)){var r=m.b.getContextId();r&&(a.extraHeaders=Object(s.a)(Object(s.a)({},a.extraHeaders),{},{workspace:r}))}var o=x.wrap(i.a[e]);return o(t,a)},T=function(e){if(e){e.orderBy,e.orderDir,e.limit,e.last;return Object(o.a)(e,["orderBy","orderDir","limit","last"])}},_=function(e){var t=null;return e.term&&(t="search/",e.limit=c.a.api.maxPageSize),L("get","links",{path:t,params:e})},D=function(e){return L("get","links",{path:(e.term?"search/":"")+"count",params:T(e)})},A=function(e){return L("get","links",{path:e})},I=function(e){return L("get","links",{path:"".concat(e,"/tags"),params:{active:!0}})},M=function(e){return L("get","links",{path:"".concat(e,"/scripts"),params:{active:!0}})},R=function(e){return L("get","links",{path:"".concat(e,"/rules")})},P=function(e){return L("get","links",{path:"".concat(e,"/apps")})},z=function(e){return L("get","links",{path:"".concat(e,"/opengraph")})},F=function(e){return Promise.all([A(e),I(e),M(e),R(e),P(e),z(e)]).then((function(e){return Object(s.a)(Object(s.a)({},e[0]),{},{tags:e[1],scripts:e[2],rules:e[3],appRules:e[4],ogMetadata:e[5]})}))},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L("post","links",{path:"".concat(e,"/rules"),payload:t})},B=function(e,t){return L("delete","links",{path:"".concat(e,"/rules/").concat(t)})},W=function(e,t,a){return L("post","links",{path:"".concat(e,"/rules/").concat(t),payload:a})},G=function(e,t){return L("post","links",{path:"".concat(e,"/opengraph"),payload:t})},H=function(e){return L("delete","links",{path:"".concat(e,"/opengraph")})},q=function(e){var t=new u.a(e,{}).set("protocol","http").toString(),a=new u.a(e,{}).set("protocol","https").toString();return Promise.all([L("get","links",{path:"search",params:{searchBy:"destination",term:t,limit:10}}),L("get","links",{path:"search",params:{searchBy:"destination",term:a,limit:10}})]).then((function(e){return[].concat(Object(r.a)(e[0]),Object(r.a)(e[1]))}))},V=function(e){return L("post","links",{path:"".concat(e,"/restore"),payload:{}})},Y=function(e,t){return L("post","links",{path:"".concat(e,"/favourite"),payload:{favourite:t}})},K=function(e){return L("post","links",{payload:e})},J=function(e,t,a){return L("post","links",{path:e,payload:t,extraHeaders:{workspace:a}})},Q=function(e,t){return L("post","links",{path:"".concat(e,"/scripts/").concat(t),payload:{}})},X=function(e,t){return L("post","links",{path:"".concat(e,"/tags/").concat(t),payload:{}})},Z=function(e,t){return L("delete","links",{path:"".concat(e,"/tags/").concat(t)})},$=function(e,t){return L("delete","links",{path:"".concat(e,"/scripts/").concat(t)})},ee=function(e,t){return L("delete","links",{path:e,params:{trash:t}})},te=function(e,t){var a=new FormData;return a.append("file",new Blob([e],{type:"text/csv"}),e.name),L("post","files",{params:Object(s.a)({resource:"link"},t),payload:a,overrideBaseURL:g,extraHeaders:{workspace:t.workspaceId}})},ae=function(e,t){return L("post","links/bulk",{overrideBaseURL:g,payload:Object(s.a)({ids:e},t)})},ne=function(e){return L("post","links/bulk",{overrideBaseURL:g,payload:{ids:e,trash:!0}})},re=function(e){return L("post","links/bulk",{overrideBaseURL:g,payload:{ids:e,delete:!0}})},oe=function(e){return L("post","links/bulk",{overrideBaseURL:g,payload:{ids:e,restore:!0}})},se=function(e){return L("get","links/bulk/import/status",{overrideBaseURL:k,extraHeaders:e&&{workspace:e}})},ie=function(e){return L("get","links/bulk/export/status",{overrideBaseURL:k,extraHeaders:e&&{workspace:e}})},ce=function(e){return L("get","domains",{overrideBaseURL:E,params:e},!0)},le=function(e){return L("get","domains",{path:"".concat(e,"/rules"),overrideBaseURL:E},!0)},ue=function(e,t){return L("post","domains",{path:"".concat(e,"/rules"),overrideBaseURL:E,payload:t},!0)},me=function(e,t,a){return L("post","domains",{path:"".concat(e,"/rules/").concat(a),overrideBaseURL:E,payload:t},!0)},pe=function(e,t){return L("delete","domains",{path:"".concat(e,"/rules/").concat(t),overrideBaseURL:E},!0)},de=function(e){return L("post","links",{overrideBaseURL:g,payload:{},extraHeaders:e&&{workspace:e}})},he=function(e){return L("delete","links",{path:"".concat(e,"/ttl")})},be=function(e,t){return L("get","tags",{params:Object(s.a)(Object(s.a)({},e),{},{active:!0}),extraHeaders:t&&{workspace:t}})},fe=function(e){return L("get","tags",{path:e})},ge=function(e,t){return L("get","tags",{path:"count",params:Object(s.a)(Object(s.a)({},T(e)),{},{active:!0}),extraHeaders:t&&{workspace:t}})},ve=function(e,t){return L("post","tags",{payload:e,extraHeaders:t&&{workspace:t}})},Ee=function(e,t,a){return L("post","tags",{path:"".concat(e),payload:t,extraHeaders:a&&{workspace:a}})},ye=function(e,t){return L("delete","tags",{path:e,extraHeaders:t&&{workspace:t}})},ke=function(e,t){return L("get","scripts",{params:Object(s.a)(Object(s.a)({},e),{},{active:!0}),extraHeaders:t&&{workspace:t}})},Oe=function(e,t){return L("get","scripts",{path:"count",params:Object(s.a)(Object(s.a)({},T(e)),{},{active:!0}),extraHeaders:t&&{workspace:t}})},we=function(e,t){return L("get","scripts",{path:"".concat(e),extraHeaders:t&&{workspace:t}})},je=function(e,t){return L("post","scripts",{payload:e,extraHeaders:t&&{workspace:t}})},Ce=function(e,t,a){return L("post","scripts",{path:"".concat(e),payload:t,extraHeaders:a&&{workspace:a}})},Ne=function(e,t){return L("delete","scripts",{path:e,extraHeaders:t&&{workspace:t}})},Se=function(e,t){return L("get","apps",{path:"count",extraHeaders:t&&{workspace:t}})},xe=function(e,t){return L("get","apps",{extraHeaders:t&&{workspace:t}})},Le=function(e,t){return L("delete","apps",{path:e,extraHeaders:t&&{workspace:t}})},Te=function(e,t){return L("post","apps",{extraHeaders:t&&{workspace:t},payload:e})},_e=function(e,t,a){return L("post","apps",{path:e,extraHeaders:a&&{workspace:a},payload:t})},De=function(e){return L("get","apps",{path:"".concat(e,"/links/count")})},Ae=function(e){return L("get","links",{path:"".concat(e,"/apps")})},Ie=function(e,t,a){return L("post","links",{path:"".concat(e,"/apps/").concat(t),payload:a})},Me=function(e,t,a){return L("post","links",{path:"".concat(e,"/apps/").concat(t),payload:a})},Re=function(e,t){return L("delete","links",{path:"".concat(e,"/apps/").concat(t)})},Pe=function(){return L("get","domains",{path:"fields"})},ze=function(){return L("get","domains",{path:"data"})},Fe=function(){return L("get","domains",{path:"data/suggest"})},Ue=function(e){return L("post","domains",{path:"data/batch",payload:e})},Be=function(e){return L("post","domains",{path:"data",payload:e})},We=function(e,t){return L("get","domains",{path:"count",params:Object(s.a)({detaching:!1,deleting:!1},T(e)),extraHeaders:t&&{workspace:t}})},Ge=function(e,t){return L("get","domains",{params:Object(s.a)({detaching:!1,deleting:!1},e),extraHeaders:t&&{workspace:t}})},He=function(e,t){return L("post","account",{path:"domains",extraHeaders:{"X-HTTP-VERB":"X-GET"},params:t,payload:{correlation:{codomain:"workspaces",id:e}}})},qe=function(e){return L("get","domains",{path:e})},Ve=function(e){return L("post","/account/domains",{path:"".concat(e,"/checkdns"),payload:{}})},Ye=function(e){return L("get","/account/domains/".concat(e,"/workspaces/count"))},Ke=function(e){return L("post","/upload",{overrideBaseURL:N,payload:{domain:{id:e}}})},Je=function(e){return L("delete","/delete",{overrideBaseURL:N,payload:{domain:{id:e}}})},Qe=function(e,t){return L("post","/domain",{overrideBaseURL:N,path:"".concat(e,"/settings"),payload:t})},Xe=function(e){return L("get","/domain",{overrideBaseURL:N,path:"".concat(e,"/settings")})},Ze=function(e,t){return L("post","/account/domains",{path:"".concat(e,"/protocol/default"),payload:{protocol:t}})},$e=function(e){return L("post","workspaces",{path:"".concat(e,"/default"),payload:{}})},et=function(e){return L("get","workspaces",{params:e})},tt=function(e){return L("get","workspaces",{path:"count",params:T(e)})},at=function(e){return L("get","workspaces",{path:e})},nt=function(e){return L("get","workspaces",{path:"".concat(e,"/features")})},rt=function(e){return L("post","workspaces",{payload:e})},ot=function(e,t){return L("post","workspaces",{path:"".concat(e),payload:t})},st=function(e,t){return L("post","workspaces",{path:"".concat(e,"/domains/").concat(t),payload:{}})},it=function(e,t){return L("delete","workspaces",{path:"".concat(e,"/domains/").concat(t)})},ct=function(e){return L("delete","workspaces",{path:"".concat(e)})},lt=function(e,t){return L("get","workspaces",{path:"".concat(e,"/teammates"),params:t})},ut=function(e,t){return L("get","workspaces",{path:"".concat(e,"/teammates/").concat(t)})},mt=function(e,t){return L("get","account",{path:"teammates/".concat(e,"/workspaces"),params:t})},pt=function(e){return L("get","account",{path:"teammates/".concat(e)})},dt=function(e){return L("get","account",{path:"teammates",params:e})},ht=function(e,t){return L("get","workspaces",{path:"".concat(e,"/teammates/count"),params:T(t)})},bt=function(e){return L("get","account",{path:"teammates/count",params:T(e)})},ft=function(e,t){return L("delete","workspaces",{path:"".concat(e,"/teammates/").concat(t)})},gt=function(e){return L("delete","account",{path:"/teammates/".concat(e)})},vt=function(e,t){return L("post","account",{path:"invite",payload:Object(s.a)({workspaces:[e]},t)})},Et=function(e,t){return L("post","workspaces",{path:"".concat(e,"/invite"),payload:t})},yt=function(e){return L("post","account",{path:"invite",payload:e})},kt=function(e,t){return L("post","workspaces",{path:"".concat(e,"/invites/").concat(t,"/send"),payload:{}})},Ot=function(e){return L("post","account",{path:"invite/".concat(e,"/send"),payload:{}})},wt=function(e){return L("post","workspaces",{path:"invites/".concat(e,"/accept"),payload:{}})},jt=function(e,t){return L("get","workspaces",{path:"".concat(e,"/invites"),params:t})},Ct=function(e){return L("get","account",{path:"invites",params:e})},Nt=function(e){return L("get","workspaces",{path:"".concat(e,"/invites/count")})},St=function(){return L("get","account",{path:"invites/count"})},xt=function(e,t){return L("delete","workspaces",{path:"".concat(e,"/invites/").concat(t)})},Lt=function(e){return L("delete","account",{path:"invites/".concat(e)})},Tt=function(e){return L("post","workspaces",{path:"".concat(e,"/make-stats-public"),payload:{}})},_t=function(e){return L("post","workspaces",{path:"".concat(e,"/make-stats-private"),payload:{}})},Dt=function(e,t){return L("post","/workspaces",{extraHeaders:{"X-HTTP-VERB":"X-GET"},params:t,payload:{correlation:{codomain:"domains",id:e}}})},At=function(e,t,a){return L("post","workspaces",{path:"".concat(e,"/teammates/").concat(t,"/roles"),payload:{role:a}})},It=function(e){return L("delete","workspaces",{path:"".concat(e,"/ttl")})},Mt=function(e){return L("post","requests",{path:"cancel",overrideBaseURL:g,payload:e})},Rt=function(){return L("get","account",{path:"switches",overrideBaseURL:f})},Pt=function(e){return L("get","account",{path:"domains",params:e})},zt=function(e){return L("get","account",{path:"domains/count",params:T(e)})},Ft=function(){return L("delete","account",{path:"paypal"})},Ut=function(e){return L("get","account",{path:"domains/".concat(e)})},Bt=function(e){return L("get","account",{path:"domains/".concat(e,"/certificate")})},Wt=function(e){return L("get","account",{path:"domains/".concat(e,"/subdomains")})},Gt=function(e,t){return L("post","account",{path:"domains/".concat(e,"/renew"),payload:{paymentMethodNonce:t}})},Ht=function(e,t){return L("post","account",{path:"domains/".concat(e,"/renew-intent"),payload:{}})},qt=function(e,t){return L("post","account",{path:"payment/intent",payload:{}})},Vt=function(){return L("get","user",{overrideBaseURL:v,path:"payment_methods",payload:{}})},Yt=function(){return L("get","account")},Kt=function(){return L("get","account/features")},Jt=function(){return L("get","account",{path:"transactions/count"})},Qt=function(e){return L("get","account",{path:"billing/data/",params:e})},Xt=function(e){return L("get","account",{path:"user/data/",params:e})},Zt=function(e){return L("get","account",{path:"billing/data/suggest",params:e})},$t=function(e){return L("get","account",{path:"appkeys",params:e})},ea=function(e){return L("post","account",{path:"switches",overrideBaseURL:f,payload:e})},ta=function(e){return L("delete","account",{path:"workspaces/".concat(e)})},aa=function(e,t){return L("delete","workspaces",{path:"".concat(e,"/teammates/").concat(t)})},na=function(e,t){return L("post","account",{path:"domains/".concat(e),payload:t})},ra=function(e,t){return L(t&&"off"!==t?"post":"delete","account",{path:"domains/".concat(e,"/autorenew"),payload:{}})},oa=function(e){return L("post","account",{path:"domains/".concat(e,"/make-anycast"),payload:{}})},sa=function(e){return L("post","account",{path:"domains/".concat(e,"/make-unicast"),payload:{}})},ia=function(e){return L("delete","account",{path:"domains/".concat(e)})},ca=function(e){return L("post","account",{path:"domains",payload:e})},la=function(e){return L("post","account",{overrideBaseURL:C,path:"domains",payload:e})},ua=function(e,t){return L("post","account",{path:"transactions/".concat(e,"/retry"),payload:{paymentMethodNonce:t}})},ma=function(e){return L("post","account",{path:"plugins/".concat(e,"-ext"),payload:{}})},pa=function(e){return L("post","account",{path:"billing/data/",payload:e})},da=function(e){return L("post","account",{path:"user/data/",payload:e})},ha=function(e){return L("delete","account",{path:"appkeys/".concat(e)})},ba=function(e,t){return L("post","account",{path:"appkeys/".concat(e),payload:t})},fa=function(e){return L("post","account",{path:"preferences/avatarUrl",payload:{value:e}})},ga=function(e){return L("post","account",{path:"appkeys",payload:e})},va=function(e){return L("post","account",{payload:e})},Ea=function(){return L("post","account",{path:"downgrade",payload:{}})},ya=function(){return L("get","account",{path:"billing/token"})},ka=function(){return L("get","account",{path:"payment"})},Oa=function(e){return L("post","account",{path:"payment",payload:e})},wa=function(){return L("get","account",{path:"integrations"})},ja=function(){return L("post","account",{path:"integrations/current",payload:{integrationName:null}})},Ca=function(e){return L("get","verification/challenges",{overrideBaseURL:O,params:e})},Na=function(e){return L("post","verification",{path:"challenge",overrideBaseURL:O,payload:e})},Sa=function(e,t){return L("get","domains",{overrideBaseURL:w,path:"".concat(e,"/download"),params:t})},xa=function(e,t){return L("get","domains",{overrideBaseURL:w,path:"".concat(e,"/paths"),params:t})},La=function(e,t){return L("post","domains",{overrideBaseURL:w,path:"".concat(e,"/paths/archive"),payload:t})},Ta=function(e){return L("get","sar",{path:"report",overrideBaseURL:j})},_a=function(e){return L("get","orders",{overrideBaseURL:v,params:e})},Da=function(e){return L("get","orders",{overrideBaseURL:v,path:e})},Aa=function(e){return L("post","orders",{overrideBaseURL:v,path:"".concat(e,"/settle/intent"),payload:{}})},Ia=function(){return L("get","orders",{overrideBaseURL:v,path:"count",params:{closed:!0,settled:!1}})},Ma=function(e){return"plan"===e.type?{type:"plan",deal:e.payload.deal}:{type:"domain",fullName:e.payload.fullName,availabilityCheck:!0}},Ra=function(e,t,a){return L("post","carts",{path:"".concat(e,"/checkout"),payload:{paymentMethodNonce:t,token:a}})},Pa=function(e){return L("post","carts",{path:"".concat(e,"/checkout-intent"),payload:{}})},za=function(e,t,a){return L("post","carts",{path:"".concat(e,"/promo/").concat(a,"/checkout"),payload:{paymentMethodNonce:t}})},Fa=function(e,t){return L("post","carts",{path:"".concat(e,"/promo/").concat(t,"/checkout-intent"),payload:{}})},Ua=function(){return L("post","carts",{payload:{}})},Ba=function(e){return L("get","carts",{path:e})},Wa=function(e,t){return L("post","carts",{path:"".concat(e,"/book"),payload:Ma(t)})},Ga=function(e,t){return L("delete","carts",{path:"".concat(e.id,"/book"),params:Ma(t)})},Ha=function(e){return L("delete","carts",{path:"".concat(e.id),params:{}})},qa=function(e,t){return L("get","carts",{path:"".concat(e,"/promo/").concat(t)})},Va=function(e){return L("post","app",{payload:e,overrideBaseURL:g,path:"store/scraper"})},Ya=function(e){return L("post","recommendation-system",{payload:e,overrideBaseURL:g,path:"title/recommend"}).then((function(e){return d()(e,"recommendations[0].output")}))},Ka=function(e){return L("post","recommendation-system",{payload:e,overrideBaseURL:g,path:"slashtag/recommend"}).then((function(e){return d()(e,"recommendations[0].output")}))},Ja=function(e){return L("post","recommendation-system",{payload:e,overrideBaseURL:g,path:"open-graph/fetch"})},Qa=function(e){return new Promise((function(t){return setTimeout(t(e),200)}))},Xa=function(e){return new Promise((function(t){return setTimeout(t(e),300)}))},Za=function(){return L("get","utmpresets",{overrideBaseURL:f})},$a=function(e){return L("post","utmpresets",{payload:e,overrideBaseURL:f})},en=function(e){return L("delete","utmpresets",{path:e,overrideBaseURL:f})},tn=function(){return L("get","feeds",{path:"token",overrideBaseURL:g})},an=function(e){return L("get","clicks",{overrideBaseURL:S,params:e})},nn=function(e){return L("get","clicks",{path:"download",overrideBaseURL:S,params:e})},rn=function(e){return L("get","url",{overrideBaseURL:y,path:"querystring/templates",extraHeaders:{workspace:e}})},on=function(e,t){return L("post","url",{overrideBaseURL:y,path:"querystring/templates",payload:e,extraHeaders:{workspace:t}})},sn=function(e,t,a){return L("post","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e),payload:t,extraHeaders:{workspace:a}})},cn=function(e,t){return L("delete","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e),extraHeaders:{workspace:t}})},ln=function(e,t){return L("get","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/params"),extraHeaders:{workspace:t}})},un=function(e,t,a){return L("delete","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/params/").concat(t),extraHeaders:{workspace:a}})},mn=function(e,t,a){return L("post","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/params"),payload:t,extraHeaders:{workspace:a}})},pn=function(e,t,a,n){return L("post","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/params/").concat(t),payload:a,extraHeaders:{workspace:n}})},dn=function(e,t){return L("get","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/presets"),extraHeaders:{workspace:t}})},hn=function(e,t,a){return L("post","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/presets"),payload:t,extraHeaders:{workspace:a}})},bn=function(e,t,a){return L("delete","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/presets/").concat(t),extraHeaders:{workspace:a}})},fn=function(e,t,a,n){return L("post","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/presets/").concat(t),payload:a,extraHeaders:{workspace:n}})},gn=function(e,t){return L("get","url",{overrideBaseURL:y,path:"querystring/templates/".concat(e,"/patterns"),extraHeaders:{workspace:t}})},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"links",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clicks",n=arguments.length>3?arguments[3]:void 0;return L("get",e,{path:t?"".concat(t,"/").concat(a):a,params:n})},En=function(e){return L("get","".concat(c.a.customMessagesUrl,"/txt/").concat(e)).then((function(t){var a=t.text,n=t.extensionImage;return{text:a,image:"".concat(c.a.customMessagesUrl,"/img/").concat(e,".").concat(n)}}))},yn=function(e){var t=new FormData;return t.append("avatar",e),L("post","/upload-avatar",{payload:t,overrideBaseURL:f})},kn=function(e,t,a){return L("post","public/stats",{payload:t,overrideBaseURL:g,skipErrorHanling:!0,extraHeaders:{token:e,"g-recaptcha-response":a}})},On=function(e){return L("get","plans",{path:e})},wn=function(e){return L("get","plans",{path:"".concat(e,"/features")})},jn=function(){return L("get","plans").then((function(e){return Promise.all(e.map((function(e){return wn(e.id)}))).then((function(t){return e.map((function(e,a){return Object(s.a)(Object(s.a)({},e),{},{features:t[a]})}))}))}))},Cn=function(e){return Promise.all([On(e),wn(e)]).then((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(s.a)(Object(s.a)({},a),{},{features:r})}))},Nn=function(e){return L("get","callback",{path:"clickmeter?apiKey=".concat(e),overrideBaseURL:f})},Sn=function(e){return L("get","settings",{path:e,overrideBaseURL:f})},xn=function(e){return L("get","reports",{path:"templates",params:e})},Ln=function(e){return L("get","reports",{path:"templates/".concat(e)})},Tn=function(e){return L("get","reports",{path:"templates/".concat(e,"/subscriptions")})},_n=function(e,t){return L("post","reports",{path:"templates/".concat(e,"/subscriptions"),payload:t})},Dn=function(e){return L("get","reports",{path:"templates/count",params:T(e)})},An=function(e){return L("post","reports",{path:"templates",payload:e})},In=function(e,t){return L("post","reports",{path:"templates/".concat(e),payload:t})},Mn=function(e){return L("delete","reports",{path:"templates/".concat(e)})},Rn=function(e,t){return L("post","reports",{path:"templates/".concat(e,"/schedule"),payload:t})},Pn=function(e,t){return L("get","reports",{path:"templates/".concat(e,"/executions"),params:t})},zn=function(e,t){return L("get","reports",{path:"templates/".concat(e,"/executions/").concat(t)})},Fn=function(e,t){return L("get","reports",{path:"templates/".concat(e,"/executions/count"),params:T(t)})},Un=function(e){return L("post","reports",{path:"templates/".concat(e,"/schedule/resume"),payload:{}})},Bn=function(e){return L("post","reports",{path:"templates/".concat(e,"/schedule/pause"),payload:{}})}},81:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return k})),a.d(t,"e",(function(){return x})),a.d(t,"k",(function(){return L})),a.d(t,"c",(function(){return T})),a.d(t,"m",(function(){return _})),a.d(t,"i",(function(){return D})),a.d(t,"h",(function(){return A})),a.d(t,"g",(function(){return I})),a.d(t,"d",(function(){return M})),a.d(t,"j",(function(){return R})),a.d(t,"l",(function(){return P})),a.d(t,"f",(function(){return z}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(53),c=a.n(i),l=a(50),u=a.n(l),m=a(57),p=a.n(m),d=a(8),h=a(41),b=Object(s.b)("LOAD_TAGS"),f=Object(s.b)("FETCH_TAG"),g=Object(s.b)("COUNT_TAGS"),v=Object(s.b)("SET_TAGS_PARAMS"),E=Object(s.b)("CREATE_TAG"),y=Object(s.b)("EDIT_TAG"),k=Object(s.b)("DELETE_TAG"),O=Object(s.a)("RESET_TAGS_STORE"),w=Object(s.a)("RESET_TAGS_LIST"),j=Object(s.a)("TOGGLE_SELECTED_TAG"),C=Object(s.a)("DESELECT_ALL_TAGS"),N={limit:50,orderBy:"name",orderDir:"asc",term:null},S={isLoading:!1,items:{},list:[],params:N,count:{total:0,results:0},comparison:{list:[]}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.FULFILLED:case O:return S;case w:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case v:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case g.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case b.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case b.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),u()(t.payload,"id")),list:t.meta.last?p()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case f.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,Object(o.a)(Object(o.a)({},e.items[t.payload.id]),t.payload)))});case b.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case E.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(r.a)(e.list))});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:c()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id}))});case j:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:t.payload.value?p()([].concat(Object(r.a)(e.comparison.list),[t.payload.id])):e.comparison.list.filter((function(e){return e!==t.payload.id}))})});case C:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:[]})});default:return e}}function L(){return{type:w}}function T(e){return function(t,a){var n=a().tags.params;return t({type:g,payload:Promise.all([Object(d.B)(n,e),Object(d.B)(null,e)])})}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return{type:v,payload:e}}function D(e,t){return function(a,n){var r=n().tags.params;return a({type:b,payload:Object(d.vc)(Object(o.a)(Object(o.a)({},r),{},{last:e,limit:20}),t),meta:{last:e}}).then((function(e){return a(T(t)),e}))}}function A(e){return{type:f,payload:Object(d.uc)(e)}}function I(e,t,a){return{type:y,payload:Object(d.be)(e,t,a)}}function M(e,t){return function(a){return a({type:E,payload:Object(d.T)(e,t).then((function(e){return a(T(t)).then((function(){return e}))}))})}}function R(e,t){return function(a){return a({type:k,payload:Object(d.nb)(e,t).then((function(e){return a(T(t)).then((function(){return e}))}))})}}function P(e,t){return{type:j,payload:{id:e,value:t}}}function z(){return{type:C}}},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return B})),a.d(t,"h",(function(){return W})),a.d(t,"l",(function(){return G})),a.d(t,"g",(function(){return H})),a.d(t,"f",(function(){return q})),a.d(t,"e",(function(){return V})),a.d(t,"d",(function(){return Y})),a.d(t,"i",(function(){return K})),a.d(t,"o",(function(){return J})),a.d(t,"b",(function(){return Q})),a.d(t,"p",(function(){return X})),a.d(t,"n",(function(){return Z})),a.d(t,"m",(function(){return $})),a.d(t,"q",(function(){return ee})),a.d(t,"j",(function(){return te})),a.d(t,"k",(function(){return ae})),a.d(t,"c",(function(){return ne}));var n=a(15),r=a(17),o=a(2),s=a(3),i=a.n(s),c=a(50),l=a.n(c),u=a(10),m=a(8),p=a(41),d=a(11),h=a(42),b=a(57),f=a.n(b),g=a(72),v=Object(u.b)("LOAD_ACCOUNT_DOMAINS"),E=Object(u.a)("SET_ACCOUNT_DOMAINS_PARAMS"),y=Object(u.b)("COUNT_ACCOUNT_DOMAINS"),k=Object(u.b)("LOAD_SUBDOMAINS"),O=Object(u.b)("DELETE_ACCOUNT_DOMAIN"),w=Object(u.b)("FETCH_ACCOUNT_DOMAIN"),j=Object(u.b)("FETCH_ACCOUNT_DOMAIN_WORKSPACES"),C=Object(u.b)("COUNT_ACCOUNT_DOMAIN_WORKSPACES"),N=Object(u.a)("RESET_ACCOUNT_DOMAINS_LIST"),S=Object(u.b)("RESTART_DNS_VERIFICATION"),x=Object(u.b)("UPDATE_HOMEPAGE_SUBDOMAIN"),L=Object(u.b)("EDIT_DOMAIN"),T=Object(u.b)("SET_UNICAST_DOMAIN"),_=Object(u.b)("SET_ANYCAST_DOMAIN"),D=Object(u.b)("TRANSFER_DOMAIN"),A=Object(u.b)("TRANSFER_ALIASED_DOMAIN"),I=Object(u.b)("VALIDATE_WHOIS_DATA"),M=Object(u.b)("SAVE_WHOIS_DATA"),R=Object(u.a)("RESET_ACCOUNT_DOMAINS_DOMAINS"),P=Object(u.a)("TOGGLE_SELECTED_DOMAINS"),z=Object(u.a)("DESELECT_ALL_DOMAINS"),F={limit:d.a.pageSize||20,orderBy:g.b,orderDir:g.i,term:null},U={isLoading:!1,items:{},list:[],params:F,count:{total:0,results:0},comparison:{list:[]}};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a.FULFILLED:case R:return U;case N:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case E:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload.count}});case v.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case v.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),l()(t.payload,"id")),list:t.meta.last?f()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case v.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case w.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,Object(o.a)(Object(o.a)({},e.items[t.payload.id]),t.payload)))});case j.PENDING:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{workspaces:Object(o.a)(Object(o.a)({},e.items[t.meta.id].workspaces),{},{isLoading:!0})})))});case j.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{workspaces:Object(o.a)(Object(o.a)({},e.items[t.meta.id].workspaces),{},{items:t.payload,isLoading:!1})})))});case j.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{workspaces:Object(o.a)(Object(o.a)({},e.items[t.meta.id].workspaces),{},{isLoading:!1})})))});case C.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{workspaces:Object(o.a)(Object(o.a)({},e.items[t.meta.id].workspaces),{},{count:t.payload.count})})))});case L.PENDING:var s=t.meta,i=s.id,c=s.key,u=s.newValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},i,Object(o.a)(Object(o.a)({},e.items[i]),{},Object(n.a)({},c,u))))});case L.REJECTED:var m=t.meta,d=m.id,h=m.key,b=m.oldValue;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},d,Object(o.a)(Object(o.a)({},e.items[d]),{},Object(n.a)({},h,b))))});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.domainId,Object(o.a)(Object(o.a)({},e.items[t.meta.domainId]),{},{subdomainsItems:l()(t.payload,"id")})))});case T.FULFILLED:case _.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{routing:{addressing:t.meta.addressing}})))});case x.FULFILLED:var g=t.payload,O=g.id,S=g.parent;return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},S.id,Object(o.a)(Object(o.a)({},e.items[S.id]),{},{subdomainsItems:Object(o.a)(Object(o.a)({},e.items[S.id].subdomainsItems),{},Object(n.a)({},O,t.payload))})))});case P:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:t.payload.value?f()([].concat(Object(r.a)(e.comparison.list),[t.payload.id])):e.comparison.list.filter((function(e){return e!==t.payload.id}))})});case z:return Object(o.a)(Object(o.a)({},e),{},{comparison:Object(o.a)(Object(o.a)({},e.comparison),{},{list:[]})});default:return e}}function W(){return{type:N}}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return{type:E,payload:e}}function H(e){return function(t){return t({type:T,payload:Object(m.ld)(e),meta:{addressing:"unicast",id:e}})}}function q(e){return function(t){return t({type:_,payload:Object(m.kd)(e),meta:{addressing:"anycast",id:e}})}}function V(e){return function(t,a){var n=a().accountDomains.params;return t({type:v,payload:Object(m.Yb)(Object(o.a)(Object(o.a)({},n),{},{last:e})),meta:{last:e}}).then((function(e){return t((function(e,t){var a=t().accountDomains.params;return e({type:y,payload:Object(m.w)(a)})})).then((function(){return e}))}))}}function Y(e){return{type:w,payload:Object(m.Ub)(e)}}function K(e){return function(t){return t({type:S,payload:Object(m.xd)(e)}).then((function(){return t(Y(e))}))}}function J(e,t,a){return function(r,s){var c,l=a,u=i()(s().accountDomains.items[e],t);return t===g.a?c=Object(m.Dd)(e,a):t===g.g?(c=Object(m.Id)(e,a),l=Object(o.a)(Object(o.a)({},u),{},{protocol:Object(o.a)(Object(o.a)({},u.protocol),{},{default:a})})):c=Object(m.Td)(e,Object(n.a)({},t,a)),r({type:L,payload:c,meta:{id:e,key:t,newValue:l,oldValue:u}})}}function Q(e){return function(t){return t({type:O,payload:Object(m.db)(e)}).then((function(){return new Promise((function(e){return setTimeout((function(){return Promise.all([t(V()),t(Object(h.l)())]).then((function(){return e()}))}),500)}))}))}}function X(e,t){return{type:x,payload:Object(m.Td)(e,{customHomepage:t})}}function Z(e,t){return function(a){return a({type:D,payload:Object(m.L)({fullName:e,provider:t})}).then((function(e){return a(Object(h.l)()).then((function(){return e}))}))}}function $(e){return function(t){return t({type:A,payload:Object(m.H)({fullName:e})}).then((function(e){return t(Object(h.l)()).then((function(){return e}))}))}}function ee(e){return{type:I,payload:Object(m.he)(e)}}function te(e){return{type:M,payload:Object(m.nd)(e)}}function ae(e,t){return{type:P,payload:{id:e,value:t}}}function ne(){return{type:z}}},84:function(e,t,a){"use strict";a.d(t,"c",(function(){return N})),a.d(t,"g",(function(){return S})),a.d(t,"b",(function(){return x})),a.d(t,"h",(function(){return L})),a.d(t,"f",(function(){return T})),a.d(t,"e",(function(){return _})),a.d(t,"a",(function(){return D})),a.d(t,"d",(function(){return A}));var n=a(15),r=a(17),o=a(2),s=a(50),i=a.n(s),c=a(57),l=a.n(c),u=a(10),m=a(8),p=a(11),d=a(41),h=a(40),b=a(72),f=Object(u.b)("LOAD_SHARED_DOMAINS"),g=Object(u.b)("COUNT_SHARED_DOMAINS"),v=Object(u.b)("ATTACH_DOMAIN"),E=Object(u.b)("DETACH_DOMAIN"),y=Object(u.b)("FETCH_SHARED_DOMAIN"),k=Object(u.a)("RESET_SHARED_DOMAINS"),O=Object(u.a)("RESET_SHARED_DOMAIN_LIST"),w=Object(u.a)("SET_SHARED_DOMAIN_PARAMS"),j={limit:p.a.pageSize||20,orderBy:b.b,orderDir:b.i,term:null},C={isLoading:!1,items:{},list:[],params:j,count:{total:0,results:0}};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a.FULFILLED:case k:return C;case O:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case w:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case g.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case f.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case f.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),i()(t.payload,"id")),list:t.meta.last?l()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case f.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case v.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.domain.id,t.meta.domain)),list:[].concat(Object(r.a)(e.list),[t.meta.domain.id])});case E.FULFILLED:var s=Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{detached:!0,active:!1});return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,s))});default:return e}}function S(){return{type:O}}function x(e){return function(t,a){var n=a().domains.params;return t({type:g,payload:Promise.all([Object(m.A)(n,e),Object(m.A)(null,e)])})}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{type:w,payload:e}}function T(e,t){return function(a,n){var r=n().domains.params;return a({type:f,payload:Object(m.sc)(Object(o.a)(Object(o.a)({},r),{},{last:e}),t),meta:{last:e}}).then((function(e){return a(x(t)).then((function(){return e}))}))}}function _(e){return{type:y,payload:Object(m.rc)(e)}}function D(e,t){return function(a,n){var r=t||n().session.currentWorkspaceId;return a({type:v,payload:Object(m.f)(r,e.id),meta:{domain:e}}).then((function(e){return a(Object(h.o)(r)),e}))}}function A(e,t){return function(a,n){var r=t||n().session.currentWorkspaceId;return a({type:E,payload:Object(m.tb)(r,e),meta:{id:e}}).then((function(e){return a(Object(h.o)(r)),e}))}}},85:function(e,t,a){"use strict";a.d(t,"c",(function(){return D})),a.d(t,"i",(function(){return A})),a.d(t,"b",(function(){return I})),a.d(t,"a",(function(){return M})),a.d(t,"l",(function(){return R})),a.d(t,"g",(function(){return P})),a.d(t,"f",(function(){return z})),a.d(t,"d",(function(){return F})),a.d(t,"e",(function(){return U})),a.d(t,"j",(function(){return B})),a.d(t,"k",(function(){return W})),a.d(t,"h",(function(){return G}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(50),c=a.n(i),l=a(53),u=a.n(l),m=a(11),p=a(8),d=a(42),h=a(41),b=a(57),f=a.n(b),g=a(22),v=Object(s.b)("LOAD_INVITES"),E=Object(s.b)("LOAD_ALL_INVITES"),y=Object(s.b)("COUNT_INVITES"),k=Object(s.b)("COUNT_ALL_INVITES"),O=Object(s.a)("SET_INVITES_PARAMS"),w=Object(s.b)("SEND_WORKSPACES_INVITES"),j=Object(s.b)("SEND_INVITES"),C=Object(s.b)("RESEND_INVITES"),N=Object(s.b)("DELETE_INVITE"),S=Object(s.b)("DELETE_ALL_INVITE"),x=Object(s.a)("RESET_INVITES_STORE"),L=Object(s.a)("RESET_INVITES_LIST"),T={limit:m.a.pageSize||20,orderBy:"createdAt",orderDir:"desc",term:null},_={isLoading:!1,items:{},list:[],params:T,count:{total:0,results:0}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.FULFILLED:case x:return _;case L:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case O:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload.count,total:t.payload.count}});case E.PENDING:case v.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case E.FULFILLED:case v.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),c()(t.payload,"id")),list:t.meta.last?f()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case C.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case v.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case S.FULFILLED:case N.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:u()(e.items,t.meta.id),list:e.list.filter((function(e){return e!==t.meta.id}))});default:return e}}function A(){return{type:L}}function I(e){return function(t,a){var n=a().invites.params;return t({type:y,payload:Promise.all([Object(p.F)(e,n),Object(p.F)(e)])})}}function M(){return function(e){return e({type:k,payload:Object(p.q)()})}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return{type:O,payload:e}}function P(e,t){return function(a,n){var r=n().invites.params;return a({type:v,payload:Object(p.Jc)(e,Object(o.a)(Object(o.a)({},r),{},{last:t})).then((function(t){return a(I(e)).then((function(){return t}))})),meta:{last:t}})}}function z(e){return function(t,a){var n=a().invites.params;return t({type:E,payload:Object(p.Fb)(Object(o.a)(Object(o.a)({},n),{},{last:e})).then((function(e){return t(M()).then((function(){return e}))})),meta:{last:e}})}}function F(e,t){return function(a,n){return n().workspaces.items[e]?a({type:N,payload:Object(p.vd)(e,t).then((function(t){return a(Object(d.l)()),a(I(e)).then((function(){return t}))})),meta:{id:t}}):null}}function U(e){return function(t){return t({type:S,payload:Object(p.ud)(e).then((function(e){return t(Object(d.l)()),t(M()).then((function(){return e}))})),meta:{id:e}})}}function B(e,t){return function(a,n){var r;return r=Object(g.g)(e,n())?p.dd:p.ed,a({type:j,payload:r(e,t)}).then((function(){return a(Object(d.l)())}))}}function W(e){return function(t){return t({type:w,payload:Object(p.fd)(e)}).then((function(){return t(Object(d.l)())}))}}function G(e,t){return function(a){return a({type:C,payload:Object(p.pd)(e,t)}).then((function(){return a(Object(d.l)())}))}}},86:function(e,t,a){"use strict";var n=a(37),r=a(4),o=a(5),s=a(6),i=a(7),c=a(0),l=a.n(c),u=a(1),m=a(382),p=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleLoadMore=function(){n.props.infinite&&n.props.canLoadMore&&n.props.onLoadMore()},n.getParentNode=function(){if(n.loadMore.current)return n.loadMore.current.parentNode},n.loadMore=l.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.infinite,a=e.canLoadMore,r=e.isLoading,o=e.loadingLabel,s=e.loadMoreLabel,i=e.onLoadMore,c=e.scrollableAncestor,p=e.loader,d=Object(n.a)(e,["infinite","canLoadMore","isLoading","loadingLabel","loadMoreLabel","onLoadMore","scrollableAncestor","loader"]),h=!("parent"===c&&!this.getParentNode()),b=l.a.createElement("div",{style:{height:"20px"}});return l.a.createElement("div",{ref:this.loadMore},h&&l.a.createElement(m.a,Object.assign({onEnter:this.handleLoadMore,scrollableAncestor:"parent"===c?this.getParentNode():c},d)),!t&&a&&!r&&l.a.createElement("div",{className:"text-center m-t-16"},l.a.createElement(u.Button,{label:s,onClick:i})),r?p||l.a.createElement(u.Loading,{size:"md",label:o,withMargin:!0}):b)}}]),a}(c.PureComponent);p.defaultProps={canLoadMore:!1,infinite:!1,loadingLabel:"Loading, please wait...",loadMoreLabel:"Load more"},t.a=p},93:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return f}));var n=a(15),r=a(2),o=a(10),s=a(53),i=a.n(s),c=a(8),l=a(40),u=a(67),m=Object(o.b)("SET_TEAMMATE_ROLE"),p={items:{}},d=function(e,t){return"".concat(e,"/").concat(t)},h=function(e){return i()(e,"role")};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.c.FULFILLED:case l.d.FULFILLED:var a=t.payload.reduce((function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},d(t.meta.teammateId,a.id),a.role))}),{});return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),a)});case l.e.FULFILLED:case l.b.FULFILLED:case l.a.FULFILLED:case l.c.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),{},Object(n.a)({},d(t.meta.teammateId,t.payload.id),t.payload.role))});case u.b.FULFILLED:var o=t.payload.reduce((function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},d(a.id,t.meta.workspaceId),a.role))}),{});return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),o)});case u.a.FULFILLED:return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),{},{items:Object(r.a)(Object(r.a)({},e.items),{},Object(n.a)({},d(t.payload.id,t.meta.workspaceId),t.payload.role))})});case m.FULFILLED:var s=t.meta,i=s.teammateId,c=s.workspaceId,h=s.role;return Object(r.a)(Object(r.a)({},e),{},{items:Object(r.a)(Object(r.a)({},e.items),{},Object(n.a)({},d(i,c),h))});default:return e}}function f(e,t,a){return{type:m,payload:Object(c.Jd)(e,t,a),meta:{workspaceId:e,teammateId:t,role:a}}}},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return k})),a.d(t,"d",(function(){return N})),a.d(t,"i",(function(){return S})),a.d(t,"b",(function(){return x})),a.d(t,"g",(function(){return L})),a.d(t,"e",(function(){return T})),a.d(t,"c",(function(){return _})),a.d(t,"h",(function(){return D})),a.d(t,"f",(function(){return A}));var n=a(15),r=a(17),o=a(2),s=a(10),i=a(8),c=a(41),l=a(53),u=a.n(l),m=a(50),p=a.n(m),d=a(57),h=a.n(d),b=Object(s.b)("LOAD_SCRIPTS"),f=Object(s.b)("COUNT_SCRIPTS"),g=Object(s.b)("SET_SCRIPTS_PARAMS"),v=Object(s.b)("LOAD_SCRIPT_VALUE"),E=Object(s.b)("CREATE_SCRIPT"),y=Object(s.b)("EDIT_SCRIPT"),k=Object(s.b)("DELETE_SCRIPT"),O=Object(s.a)("RESET_SCRIPTS_STORE"),w=Object(s.a)("RESET_SCRIPTS_LIST"),j={limit:50,orderBy:"name",orderDir:"asc",term:null},C={isLoading:!1,items:{},list:[],params:j,count:{total:0,results:0}};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.FULFILLED:case O:return C;case w:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case g:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});case f.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case b.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case b.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),p()(t.payload,"id")),list:t.meta.last?h()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case b.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case E.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(r.a)(e.list))});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:u()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id}))});default:return e}}function S(){return{type:w}}function x(e){return function(t,a){var n=a().scripts.params;return t({type:f,payload:Promise.all([Object(i.z)(n,e),Object(i.z)(null,e)])})}}function L(e,t){return function(a,n){var r=n().scripts.params;return a({type:b,payload:Object(i.qc)(Object(o.a)(Object(o.a)({},r),{},{last:e}),t),meta:{last:e}}).then((function(e){return a(x(t)).then((function(){return e}))}))}}function T(e,t,a){return{type:y,payload:Object(i.ae)(e,t,a)}}function _(e,t){return function(a){return a({type:E,payload:Object(i.S)(e,t).then((function(e){return a(x(t)).then((function(){return e}))}))})}}function D(e,t){return function(a){return a({type:k,payload:Object(i.mb)(e,t).then((function(e){return a(x(t)).then((function(){return e}))}))})}}function A(e,t){return{type:v,payload:Object(i.pc)(e,t)}}},95:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"j",(function(){return h})),a.d(t,"g",(function(){return b})),a.d(t,"h",(function(){return f})),a.d(t,"k",(function(){return g})),a.d(t,"n",(function(){return v})),a.d(t,"l",(function(){return E})),a.d(t,"i",(function(){return y})),a.d(t,"m",(function(){return k})),a.d(t,"f",(function(){return O}));var n=a(144),r=a.n(n),o=a(3),s=a.n(o),i=a(63),c=a(38);function l(e){return s()(e.account.subscription,"limits.links.used")>0}function u(){return!!window.hasInstalledAnExtension||i.a.get("bookmarkletClicked")}function m(e){return s()(e.account.subscription,"limits.domains.used")>0}function p(e){var t=0;return t+=Number(l(e)),t+=Number(u()),t+=Number(m(e))}function d(){return 3}function h(e,t){var a=t.substr(t.lastIndexOf("/"));return"/setup"!==a&&"/pricing"!==a&&-1===t.indexOf("checkout")&&!e.session.isGuest&&!0!==i.a.get("skipSetup")&&p(e)<3}function b(e){return!Object(c.a)("cycle.clicks",e.account)&&s()(e.workspaces.items,"[".concat(e.session.currentWorkspaceId,"].owner"))}function f(e){return b(e)&&!r.a.get("skipClickTrackedLimitModal")}function g(e){return!e.session.isGuest&&p(e)<3}function v(){return i.a.set("skipSetup",!0)}var E=function(e){return r.a.set("skipClickTrackedLimitModal",!0,{expires:e})};function y(e){return!r.a.get("skipICANNVerificationModal")||r.a.get("skipICANNVerificationModal")!==e}var k=function(e,t){return r.a.set("skipICANNVerificationModal",t,{expires:e})};function O(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i.a.set("bookmarkletClicked",e)}},958:function(e,t,a){},97:function(e,t,a){"use strict";a.d(t,"c",(function(){return M})),a.d(t,"h",(function(){return P})),a.d(t,"j",(function(){return z})),a.d(t,"f",(function(){return F})),a.d(t,"e",(function(){return U})),a.d(t,"l",(function(){return B})),a.d(t,"b",(function(){return W})),a.d(t,"d",(function(){return G})),a.d(t,"a",(function(){return H})),a.d(t,"k",(function(){return q})),a.d(t,"g",(function(){return V})),a.d(t,"i",(function(){return Y}));var n=a(15),r=a(17),o=a(2),s=a(50),i=a.n(s),c=a(53),l=a.n(c),u=a(57),m=a.n(u),p=a(3),d=a.n(p),h=a(10),b=a(11),f=a(8),g=a(41),v=b.a.pageSize||20,E=Object(h.b)("LOAD_REPORT_TEMPLATES"),y=Object(h.b)("LOAD_REPORT_TEMPLATE"),k=Object(h.b)("LOAD_REPORT_TEMPLATE_SCHEDULE"),O=Object(h.b)("CREATE_REPORT_TEMPLATE"),w=Object(h.b)("ATTACH_REPORT_SCHEDULE"),j=Object(h.b)("UPDATE_REPORT_SUBSCRIPTIONS"),C=Object(h.a)("RESET_REPORT_TEMPLATES_STORE"),N=Object(h.a)("RESET_REPORT_TEMPLATES_LIST"),S=Object(h.a)("SET_REPORT_TEMPLATES_PARAMS"),x=Object(h.b)("DELETE_REPORT_TEMPLATE"),L=Object(h.b)("EDIT_REPORT_TEMPLATE"),T=Object(h.b)("PAUSE_REPORT_TEMPLATE"),_=Object(h.b)("RESUME_REPORT_TEMPLATE"),D=Object(h.b)("COUNT_REPORT_TEMPLATES"),A={limit:v,orderBy:"createdAt",orderDir:"desc",term:null},I={isLoading:!1,items:{},list:[],params:A,count:{total:0,results:0}};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.a.FULFILLED:case C:return I;case N:return Object(o.a)(Object(o.a)({},e),{},{list:[]});case E.PENDING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case D.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{count:{results:t.payload[0].count,total:t.payload[1].count}});case E.FULFILLED:var a=t.payload.map((function(e){return e.id}));return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,items:Object(o.a)(Object(o.a)({},e.items),i()(t.payload,"id")),list:t.meta.last?m()([].concat(Object(r.a)(e.list),Object(r.a)(a)),(function(e){return e.id})):a});case E.REJECTED:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case T.FULFILLED:case _.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload))});case y.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload[0].id,Object(o.a)(Object(o.a)({},t.payload[0]),{},{subscriptions:t.payload[1]})))});case j.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{subscriptions:t.payload})))});case k.PENDING:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{schedule:Object(o.a)(Object(o.a)({},e.items[t.meta.id].schedule),{},{isLoading:!0})})))});case k.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{schedule:Object(o.a)(Object(o.a)({},e.items[t.meta.id].schedule),{},{isLoading:!1,items:t.payload,count:{total:d()(t.payload,"length")}})})))});case L:case L.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),t.payload)))});case w.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.meta.id,Object(o.a)(Object(o.a)({},e.items[t.meta.id]),{},{schedule:t.payload})))});case O.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:Object(o.a)(Object(o.a)({},e.items),{},Object(n.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(r.a)(e.list))});case x.FULFILLED:return Object(o.a)(Object(o.a)({},e),{},{items:l()(e.items,t.payload.id),list:e.list.filter((function(e){return e!==t.payload.id}))});case S:return Object(o.a)(Object(o.a)({},e),{},{params:Object(o.a)(Object(o.a)({},e.params),t.payload)});default:return e}}function R(){return function(e,t){var a=t().reportTemplates.params;return e({type:D,payload:Promise.all([Object(f.y)(a),Object(f.y)()])})}}function P(){return{type:N}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return{type:S,payload:e}}function F(e){return function(t,a){var n=a().reportTemplates.params;return t({type:E,payload:Object(f.lc)(Object(o.a)(Object(o.a)({},n),{},{last:e})),meta:{last:e}}).then((function(e){return t(R()),e}))}}function U(e){return{type:y,payload:Promise.all([Object(f.hc)(e),Object(f.ic)(e)])}}function B(e,t){return{type:j,payload:Object(f.Yd)(e,t),meta:{id:e}}}function W(e){return function(t){return t({type:O,payload:Object(f.Q)(e).then((function(e){return t(R()).then((function(){return e}))}))})}}function G(e){return function(t){return t({type:x,payload:Object(f.kb)(e).then((function(e){return t(R()).then((function(){return e}))}))})}}function H(e,t){return{type:w,payload:Object(f.P)(e,t),meta:{id:e}}}function q(e,t){return function(a,n){var r=n().reportTemplates.items[e].name,o=function(t){return a({type:L,payload:{name:t},meta:{id:e}})};return o(t),a(function(e,t){return{type:L,payload:Object(f.Xd)(e,t),meta:{id:e}}}(e,{name:t})).catch((function(){return o(r)}))}}function V(e){return{type:T,payload:Object(f.md)(e)}}function Y(e){return{type:_,payload:Object(f.zd)(e)}}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p}));var n=a(2),r=a(10),o=a(102),s=Object(r.a)("LOAD_LOCAL_PREFERENCES"),i=Object(r.b)("LOAD_ALL_PREFERENCES"),c=Object(r.a)("UPDATE_PREFERENCE"),l={isLoading:!1,items:{}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.PENDING:return Object(n.a)(Object(n.a)({},e),{},{isLoading:!0});case s:case i.FULFILLED:return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1,items:Object(n.a)(Object(n.a)({},e.items),t.payload)});case i.REJECTED:return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1});case c:return Object(n.a)(Object(n.a)({},e),{},{items:Object(n.a)(Object(n.a)({},e.items),t.payload)});default:return e}}function m(){return function(e,t){var a=t().account.id;return e(function(e){return{type:s,payload:o.c.loadLocalPreferences(e)}}(a)),e({type:i,payload:o.c.loadAllPreferences(a)})}}function p(e){return function(t,a){var n=a().account.id;return o.c.savePreferences(e,n),t({type:c,payload:e})}}}},[[751,5,6]]]);